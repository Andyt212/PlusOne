(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Yc={exports:{}},qo={},Jc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function k_(){if(Ap)return Ie;Ap=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function B(N,W,ce){this.props=N,this.context=W,this.refs=$,this.updater=ce||O}B.prototype.isReactComponent={},B.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function X(N,W,ce){this.props=N,this.context=W,this.refs=$,this.updater=ce||O}var re=X.prototype=new Q;re.constructor=X,z(re,B.prototype),re.isPureReactComponent=!0;var he=Array.isArray,Re=Object.prototype.hasOwnProperty,we={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(N,W,ce){var Te,Se={},ke=null,Oe=null;if(W!=null)for(Te in W.ref!==void 0&&(Oe=W.ref),W.key!==void 0&&(ke=""+W.key),W)Re.call(W,Te)&&!x.hasOwnProperty(Te)&&(Se[Te]=W[Te]);var Me=arguments.length-2;if(Me===1)Se.children=ce;else if(1<Me){for(var be=Array(Me),gt=0;gt<Me;gt++)be[gt]=arguments[gt+2];Se.children=be}if(N&&N.defaultProps)for(Te in Me=N.defaultProps,Me)Se[Te]===void 0&&(Se[Te]=Me[Te]);return{$$typeof:i,type:N,key:ke,ref:Oe,props:Se,_owner:we.current}}function I(N,W){return{$$typeof:i,type:N.type,key:W,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return W[ce]})}var L=/\/+/g;function A(N,W){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):W.toString(36)}function tt(N,W,ce,Te,Se){var ke=typeof N;(ke==="undefined"||ke==="boolean")&&(N=null);var Oe=!1;if(N===null)Oe=!0;else switch(ke){case"string":case"number":Oe=!0;break;case"object":switch(N.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=N,Se=Se(Oe),N=Te===""?"."+A(Oe,0):Te,he(Se)?(ce="",N!=null&&(ce=N.replace(L,"$&/")+"/"),tt(Se,W,ce,"",function(gt){return gt})):Se!=null&&(k(Se)&&(Se=I(Se,ce+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+N)),W.push(Se)),1;if(Oe=0,Te=Te===""?".":Te+":",he(N))for(var Me=0;Me<N.length;Me++){ke=N[Me];var be=Te+A(ke,Me);Oe+=tt(ke,W,ce,be,Se)}else if(be=C(N),typeof be=="function")for(N=be.call(N),Me=0;!(ke=N.next()).done;)ke=ke.value,be=Te+A(ke,Me++),Oe+=tt(ke,W,ce,be,Se);else if(ke==="object")throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(N,W,ce){if(N==null)return N;var Te=[],Se=0;return tt(N,Te,"","",function(ke){return W.call(ce,ke,Se++)}),Te}function xt(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var ze={current:null},te={transition:null},fe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:te,ReactCurrentOwner:we};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:kt,forEach:function(N,W,ce){kt(N,function(){W.apply(this,arguments)},ce)},count:function(N){var W=0;return kt(N,function(){W++}),W},toArray:function(N){return kt(N,function(W){return W})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=X,Ie.StrictMode=s,Ie.Suspense=g,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ie.act=ie,Ie.cloneElement=function(N,W,ce){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Te=z({},N.props),Se=N.key,ke=N.ref,Oe=N._owner;if(W!=null){if(W.ref!==void 0&&(ke=W.ref,Oe=we.current),W.key!==void 0&&(Se=""+W.key),N.type&&N.type.defaultProps)var Me=N.type.defaultProps;for(be in W)Re.call(W,be)&&!x.hasOwnProperty(be)&&(Te[be]=W[be]===void 0&&Me!==void 0?Me[be]:W[be])}var be=arguments.length-2;if(be===1)Te.children=ce;else if(1<be){Me=Array(be);for(var gt=0;gt<be;gt++)Me[gt]=arguments[gt+2];Te.children=Me}return{$$typeof:i,type:N.type,key:Se,ref:ke,props:Te,_owner:Oe}},Ie.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Ie.createElement=T,Ie.createFactory=function(N){var W=T.bind(null,N);return W.type=N,W},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=k,Ie.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:xt}},Ie.memo=function(N,W){return{$$typeof:_,type:N,compare:W===void 0?null:W}},Ie.startTransition=function(N){var W=te.transition;te.transition={};try{N()}finally{te.transition=W}},Ie.unstable_act=ie,Ie.useCallback=function(N,W){return ze.current.useCallback(N,W)},Ie.useContext=function(N){return ze.current.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N){return ze.current.useDeferredValue(N)},Ie.useEffect=function(N,W){return ze.current.useEffect(N,W)},Ie.useId=function(){return ze.current.useId()},Ie.useImperativeHandle=function(N,W,ce){return ze.current.useImperativeHandle(N,W,ce)},Ie.useInsertionEffect=function(N,W){return ze.current.useInsertionEffect(N,W)},Ie.useLayoutEffect=function(N,W){return ze.current.useLayoutEffect(N,W)},Ie.useMemo=function(N,W){return ze.current.useMemo(N,W)},Ie.useReducer=function(N,W,ce){return ze.current.useReducer(N,W,ce)},Ie.useRef=function(N){return ze.current.useRef(N)},Ie.useState=function(N){return ze.current.useState(N)},Ie.useSyncExternalStore=function(N,W,ce){return ze.current.useSyncExternalStore(N,W,ce)},Ie.useTransition=function(){return ze.current.useTransition()},Ie.version="18.3.1",Ie}var Cp;function Mh(){return Cp||(Cp=1,Jc.exports=k_()),Jc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function x_(){if(Pp)return qo;Pp=1;var i=Mh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,_){var w,R={},C=null,O=null;_!==void 0&&(C=""+_),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(O=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:C,ref:O,props:R,_owner:a.current}}return qo.Fragment=n,qo.jsx=f,qo.jsxs=f,qo}var kp;function V_(){return kp||(kp=1,Yc.exports=x_()),Yc.exports}var We=V_(),H=Mh(),Ll={},Zc={exports:{}},Gt={},eh={exports:{}},th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function D_(){return xp||(xp=1,function(i){function e(te,fe){var ie=te.length;te.push(fe);e:for(;0<ie;){var N=ie-1>>>1,W=te[N];if(0<a(W,fe))te[N]=fe,te[ie]=W,ie=N;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var fe=te[0],ie=te.pop();if(ie!==fe){te[0]=ie;e:for(var N=0,W=te.length,ce=W>>>1;N<ce;){var Te=2*(N+1)-1,Se=te[Te],ke=Te+1,Oe=te[ke];if(0>a(Se,ie))ke<W&&0>a(Oe,Se)?(te[N]=Oe,te[ke]=ie,N=ke):(te[N]=Se,te[Te]=ie,N=Te);else if(ke<W&&0>a(Oe,ie))te[N]=Oe,te[ke]=ie,N=ke;else break e}}return fe}function a(te,fe){var ie=te.sortIndex-fe.sortIndex;return ie!==0?ie:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],_=[],w=1,R=null,C=3,O=!1,z=!1,$=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(te){for(var fe=n(_);fe!==null;){if(fe.callback===null)s(_);else if(fe.startTime<=te)s(_),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(_)}}function he(te){if($=!1,re(te),!z)if(n(g)!==null)z=!0,xt(Re);else{var fe=n(_);fe!==null&&ze(he,fe.startTime-te)}}function Re(te,fe){z=!1,$&&($=!1,Q(T),T=-1),O=!0;var ie=C;try{for(re(fe),R=n(g);R!==null&&(!(R.expirationTime>fe)||te&&!D());){var N=R.callback;if(typeof N=="function"){R.callback=null,C=R.priorityLevel;var W=N(R.expirationTime<=fe);fe=i.unstable_now(),typeof W=="function"?R.callback=W:R===n(g)&&s(g),re(fe)}else s(g);R=n(g)}if(R!==null)var ce=!0;else{var Te=n(_);Te!==null&&ze(he,Te.startTime-fe),ce=!1}return ce}finally{R=null,C=ie,O=!1}}var we=!1,x=null,T=-1,I=5,k=-1;function D(){return!(i.unstable_now()-k<I)}function L(){if(x!==null){var te=i.unstable_now();k=te;var fe=!0;try{fe=x(!0,te)}finally{fe?A():(we=!1,x=null)}}else we=!1}var A;if(typeof X=="function")A=function(){X(L)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=L,A=function(){kt.postMessage(null)}}else A=function(){B(L,0)};function xt(te){x=te,we||(we=!0,A())}function ze(te,fe){T=B(function(){te(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){z||O||(z=!0,xt(Re))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(C){case 1:case 2:case 3:var fe=3;break;default:fe=C}var ie=C;C=fe;try{return te()}finally{C=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=C;C=te;try{return fe()}finally{C=ie}},i.unstable_scheduleCallback=function(te,fe,ie){var N=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?N+ie:N):ie=N,te){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,te={id:w++,callback:fe,priorityLevel:te,startTime:ie,expirationTime:W,sortIndex:-1},ie>N?(te.sortIndex=ie,e(_,te),n(g)===null&&te===n(_)&&($?(Q(T),T=-1):$=!0,ze(he,ie-N))):(te.sortIndex=W,e(g,te),z||O||(z=!0,xt(Re))),te},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(te){var fe=C;return function(){var ie=C;C=fe;try{return te.apply(this,arguments)}finally{C=ie}}}}(th)),th}var Vp;function N_(){return Vp||(Vp=1,eh.exports=D_()),eh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function L_(){if(Dp)return Gt;Dp=1;var i=Mh(),e=N_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function C(t){return g.call(R,t)?!0:g.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function O(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,r,o,u){if(r===null||typeof r>"u"||O(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];B[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,X);B[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,X);B[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,X);B[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,o,u){var h=B.hasOwnProperty(r)?B[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(z(r,o,h,u)&&(o=null),u||h===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var he=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),we=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,N;function W(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var ce=!1;function Te(t,r){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,S=p.length-1;1<=v&&0<=S&&h[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==p[S]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?W(t):""}function Se(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case we:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xn(t){t._valueTracker||(t._valueTracker=gt(t))}function Ui(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ti(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xs(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function Ys(t,r){Xs(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function va(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||Er(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function Jn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Js(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function ji(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Zs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,eo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){ri.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ni[r]=ni[t]})});function to(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ni.hasOwnProperty(t)&&ni[t]?(""+r).trim():r+"px"}function no(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=to(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ro=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,r){if(r){if(ro[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function so(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ii=null;function $i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,sn=null,Nn=null;function qi(t){if(t=xo(t)){if(typeof Hi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ga(r),Hi(t.stateNode,t.type,r))}}function Ln(t){sn?Nn?Nn.push(t):Nn=[t]:sn=t}function oo(){if(sn){var t=sn,r=Nn;if(Nn=sn=null,qi(t),r)for(t=0;t<r.length;t++)qi(r[t])}}function si(t,r){return t(r)}function ao(){}var er=!1;function lo(t,r,o){if(er)return t(r,o);er=!0;try{return si(t,r,o)}finally{er=!1,(sn!==null||Nn!==null)&&(ao(),oo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ga(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Wi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Wi=!1}function oi(t,r,o,u,h,p,v,S,P){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(G){this.onError(G)}}var ai=!1,Qi=null,_n=!1,uo=null,Ru={onError:function(t){ai=!0,Qi=t}};function Ki(t,r,o,u,h,p,v,S,P){ai=!1,Qi=null,oi.apply(Ru,arguments)}function Ea(t,r,o,u,h,p,v,S,P){if(Ki.apply(this,arguments),ai){if(ai){var b=Qi;ai=!1,Qi=null}else throw Error(n(198));_n||(_n=!0,uo=b)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function li(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function wa(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=p;break}if(S===u){v=!0,u=h,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=h;break}if(S===u){v=!0,u=p,o=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function co(t){return t=wa(t),t!==null?Gi(t):null}function Gi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Gi(t);if(r!==null)return r;t=t.sibling}return null}var Xi=e.unstable_scheduleCallback,ho=e.unstable_cancelCallback,Ta=e.unstable_shouldYield,Au=e.unstable_requestPaint,je=e.unstable_now,Sa=e.unstable_getCurrentPriorityLevel,ui=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,fo=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,ci=null,Yt=null;function Ra(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ca,po=Math.log,Aa=Math.LN2;function Ca(t){return t>>>=0,t===0?32:31-(po(t)/Aa|0)|0}var Yi=64,Ji=4194304;function Sr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=Sr(S):(p&=v,p!==0&&(u=Sr(p)))}else v=o&~h,v!==0?u=Sr(v):p!==0&&(u=Sr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function Cu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ut(p),S=1<<v,P=h[v];P===-1?(!(S&o)||S&u)&&(h[v]=Cu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fi(){var t=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),t}function Ir(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Rr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pa,Zi,ka,xa,Va,mo=!1,On=[],Tt=null,wn=null,Tn=null,Pr=new Map,an=new Map,Mn=[],Pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Da(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=xo(r),r!==null&&Zi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ku(t,r,o,u,h){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,u,h),!0;case"dragenter":return wn=jt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Pr.set(p,jt(Pr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Na(t){var r=yi(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=li(o),r!==null){t.blockedOn=r,Va(t.priority,function(){ka(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=es(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ii=u,o.target.dispatchEvent(u),ii=null}else return r=xo(o),r!==null&&Zi(r),t.blockedOn=o,!1;r.shift()}return!0}function di(t,r,o){nr(t)&&o.delete(r)}function La(){mo=!1,Tt!==null&&nr(Tt)&&(Tt=null),wn!==null&&nr(wn)&&(wn=null),Tn!==null&&nr(Tn)&&(Tn=null),Pr.forEach(di),an.forEach(di)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,mo||(mo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,La)))}function In(t){function r(h){return Sn(h,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),Pr.forEach(r),an.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Na(o),o.blockedOn===null&&Mn.shift()}var rr=he.ReactCurrentBatchConfig,kr=!0;function Qe(t,r,o,u){var h=Ce,p=rr.transition;rr.transition=null;try{Ce=1,go(t,r,o,u)}finally{Ce=h,rr.transition=p}}function xu(t,r,o,u){var h=Ce,p=rr.transition;rr.transition=null;try{Ce=4,go(t,r,o,u)}finally{Ce=h,rr.transition=p}}function go(t,r,o,u){if(kr){var h=es(t,r,o,u);if(h===null)bu(t,r,u,pi,o),Da(t,u);else if(ku(h,t,r,o,u))u.stopPropagation();else if(Da(t,u),r&4&&-1<Pu.indexOf(t)){for(;h!==null;){var p=xo(h);if(p!==null&&Pa(p),p=es(t,r,o,u),p===null&&bu(t,r,u,pi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else bu(t,r,u,null,o)}}var pi=null;function es(t,r,o,u){if(pi=null,t=$i(u),t=yi(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=li(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return pi=t,null}function yo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case ui:return 1;case Tr:return 4;case on:case fo:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var Zt=null,ts=null,$t=null;function _o(){if($t)return $t;var t,r=ts,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return $t=h.slice(t,1<u?1-u:void 0)}function ns(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function vo(){return!1}function St(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:vo,this.isPropagationStopped=vo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=St(Rn),Un=ie({},Rn,{view:0,detail:0}),Vu=St(Un),is,ir,xr,mi=ie({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(is=t.screenX-xr.screenX,ir=t.screenY-xr.screenY):ir=is=0,xr=t),is)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),ss=St(mi),Eo=ie({},mi,{dataTransfer:0}),Oa=St(Eo),os=ie({},Un,{relatedTarget:0}),as=St(os),Ma=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=St(Ma),Fa=ie({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=St(Fa),za=ie({},Rn,{data:0}),wo=St(za),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ba[t])?!!r[t]:!1}function zn(){return ba}var l=ie({},Un,{key:function(t){if(t.key){var r=ls[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=ie({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),j=St(M),ee=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=St(ee),ct=ie({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,gi=m&&(!st||ln&&8<ln&&11>=ln),us=" ",Ef=!1;function wf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function Cy(t,r){switch(t){case"compositionend":return Tf(r);case"keypress":return r.which!==32?null:(Ef=!0,us);case"textInput":return t=r.data,t===us&&Ef?null:t;default:return null}}function Py(t,r){if(cs)return t==="compositionend"||!st&&wf(t,r)?(t=_o(),$t=ts=Zt=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gi&&r.locale!=="ko"?null:r.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ky[t.type]:r==="textarea"}function If(t,r,o,u){Ln(u),r=Wa(r,"onChange"),0<r.length&&(o=new rs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var To=null,So=null;function xy(t){jf(t,0)}function ja(t){var r=ms(t);if(Ui(r))return t}function Vy(t,r){if(t==="change")return r}var Rf=!1;if(m){var Du;if(m){var Nu="oninput"in document;if(!Nu){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Nu=typeof Af.oninput=="function"}Du=Nu}else Du=!1;Rf=Du&&(!document.documentMode||9<document.documentMode)}function Cf(){To&&(To.detachEvent("onpropertychange",Pf),So=To=null)}function Pf(t){if(t.propertyName==="value"&&ja(So)){var r=[];If(r,So,t,$i(t)),lo(xy,r)}}function Dy(t,r,o){t==="focusin"?(Cf(),To=r,So=o,To.attachEvent("onpropertychange",Pf)):t==="focusout"&&Cf()}function Ny(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(So)}function Ly(t,r){if(t==="click")return ja(r)}function Oy(t,r){if(t==="input"||t==="change")return ja(r)}function My(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:My;function Io(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!g.call(r,h)||!An(t[h],r[h]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xf(t,r){var o=kf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kf(o)}}function Vf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Df(){for(var t=window,r=Er();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Er(t.document)}return r}function Lu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Fy(t){var r=Df(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Vf(o.ownerDocument.documentElement,o)){if(u!==null&&Lu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=xf(o,p);var v=xf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uy=m&&"documentMode"in document&&11>=document.documentMode,hs=null,Ou=null,Ro=null,Mu=!1;function Nf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mu||hs==null||hs!==Er(u)||(u=hs,"selectionStart"in u&&Lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Io(Ro,u)||(Ro=u,u=Wa(Ou,"onSelect"),0<u.length&&(r=new rs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=hs)))}function $a(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var fs={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},Fu={},Lf={};m&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Ha(t){if(Fu[t])return Fu[t];if(!fs[t])return t;var r=fs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Lf)return Fu[t]=r[o];return t}var Of=Ha("animationend"),Mf=Ha("animationiteration"),Ff=Ha("animationstart"),Uf=Ha("transitionend"),zf=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,r){zf.set(t,r),c(r,[t])}for(var Uu=0;Uu<Bf.length;Uu++){var zu=Bf[Uu],zy=zu.toLowerCase(),By=zu[0].toUpperCase()+zu.slice(1);Vr(zy,"on"+By)}Vr(Of,"onAnimationEnd"),Vr(Mf,"onAnimationIteration"),Vr(Ff,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Uf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),by=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function bf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ea(u,r,void 0,t),t.currentTarget=null}function jf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],P=S.instance,b=S.currentTarget;if(S=S.listener,P!==p&&h.isPropagationStopped())break e;bf(h,S,b),p=P}else for(v=0;v<u.length;v++){if(S=u[v],P=S.instance,b=S.currentTarget,S=S.listener,P!==p&&h.isPropagationStopped())break e;bf(h,S,b),p=P}}}if(_n)throw t=uo,_n=!1,uo=null,t}function He(t,r){var o=r[Qu];o===void 0&&(o=r[Qu]=new Set);var u=t+"__bubble";o.has(u)||($f(r,t,2,!1),o.add(u))}function Bu(t,r,o){var u=0;r&&(u|=4),$f(o,t,u,r)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Co(t){if(!t[qa]){t[qa]=!0,s.forEach(function(o){o!=="selectionchange"&&(by.has(o)||Bu(o,!1,t),Bu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qa]||(r[qa]=!0,Bu("selectionchange",!1,r))}}function $f(t,r,o,u){switch(yo(r)){case 1:var h=Qe;break;case 4:h=xu;break;default:h=go}o=h.bind(null,r,o,t),h=void 0,!Wi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function bu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;S!==null;){if(v=yi(S),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}S=S.parentNode}}u=u.return}lo(function(){var b=p,G=$i(o),Y=[];e:{var K=zf.get(t);if(K!==void 0){var ne=rs,ae=t;switch(t){case"keypress":if(ns(o)===0)break e;case"keydown":case"keyup":ne=d;break;case"focusin":ae="focus",ne=as;break;case"focusout":ae="blur",ne=as;break;case"beforeblur":case"afterblur":ne=as;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=j;break;case Of:case Mf:case Ff:ne=sr;break;case Uf:ne=Ue;break;case"scroll":ne=Vu;break;case"wheel":ne=xe;break;case"copy":case"cut":case"paste":ne=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var le=(r&4)!==0,rt=!le&&t==="scroll",F=le?K!==null?K+"Capture":null:K;le=[];for(var V=b,U;V!==null;){U=V;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,F!==null&&(Z=nt(V,F),Z!=null&&le.push(Po(V,Z,U)))),rt)break;V=V.return}0<le.length&&(K=new ne(K,ae,null,o,G),Y.push({event:K,listeners:le}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",K&&o!==ii&&(ae=o.relatedTarget||o.fromElement)&&(yi(ae)||ae[or]))break e;if((ne||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,ne?(ae=o.relatedTarget||o.toElement,ne=b,ae=ae?yi(ae):null,ae!==null&&(rt=vn(ae),ae!==rt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=b),ne!==ae)){if(le=ss,Z="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,Z="onPointerLeave",F="onPointerEnter",V="pointer"),rt=ne==null?K:ms(ne),U=ae==null?K:ms(ae),K=new le(Z,V+"leave",ne,o,G),K.target=rt,K.relatedTarget=U,Z=null,yi(G)===b&&(le=new le(F,V+"enter",ae,o,G),le.target=U,le.relatedTarget=rt,Z=le),rt=Z,ne&&ae)t:{for(le=ne,F=ae,V=0,U=le;U;U=ds(U))V++;for(U=0,Z=F;Z;Z=ds(Z))U++;for(;0<V-U;)le=ds(le),V--;for(;0<U-V;)F=ds(F),U--;for(;V--;){if(le===F||F!==null&&le===F.alternate)break t;le=ds(le),F=ds(F)}le=null}else le=null;ne!==null&&Hf(Y,K,ne,le,!1),ae!==null&&rt!==null&&Hf(Y,rt,ae,le,!0)}}e:{if(K=b?ms(b):window,ne=K.nodeName&&K.nodeName.toLowerCase(),ne==="select"||ne==="input"&&K.type==="file")var ue=Vy;else if(Sf(K))if(Rf)ue=Oy;else{ue=Ny;var de=Dy}else(ne=K.nodeName)&&ne.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=Ly);if(ue&&(ue=ue(t,b))){If(Y,ue,o,G);break e}de&&de(t,K,b),t==="focusout"&&(de=K._wrapperState)&&de.controlled&&K.type==="number"&&Bi(K,"number",K.value)}switch(de=b?ms(b):window,t){case"focusin":(Sf(de)||de.contentEditable==="true")&&(hs=de,Ou=b,Ro=null);break;case"focusout":Ro=Ou=hs=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Nf(Y,o,G);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Nf(Y,o,G)}var pe;if(st)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else cs?wf(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(gi&&o.locale!=="ko"&&(cs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&cs&&(pe=_o()):(Zt=G,ts="value"in Zt?Zt.value:Zt.textContent,cs=!0)),de=Wa(b,ye),0<de.length&&(ye=new wo(ye,t,null,o,G),Y.push({event:ye,listeners:de}),pe?ye.data=pe:(pe=Tf(o),pe!==null&&(ye.data=pe)))),(pe=en?Cy(t,o):Py(t,o))&&(b=Wa(b,"onBeforeInput"),0<b.length&&(G=new wo("onBeforeInput","beforeinput",null,o,G),Y.push({event:G,listeners:b}),G.data=pe))}jf(Y,r)})}function Po(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Wa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(Po(t,p,h)),p=nt(t,r),p!=null&&u.push(Po(t,p,h))),t=t.return}return u}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,P=S.alternate,b=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&b!==null&&(S=b,h?(P=nt(o,p),P!=null&&v.unshift(Po(o,P,S))):h||(P=nt(o,p),P!=null&&v.push(Po(o,P,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var jy=/\r\n?/g,$y=/\u0000|\uFFFD/g;function qf(t){return(typeof t=="string"?t:""+t).replace(jy,`
`).replace($y,"")}function Qa(t,r,o){if(r=qf(r),qf(t)!==r&&o)throw Error(n(425))}function Ka(){}var ju=null,$u=null;function Hu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(t){return Wf.resolve(null).then(t).catch(Wy)}:qu;function Wy(t){setTimeout(function(){throw t})}function Wu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Qf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Bn="__reactFiber$"+ps,ko="__reactProps$"+ps,or="__reactContainer$"+ps,Qu="__reactEvents$"+ps,Qy="__reactListeners$"+ps,Ky="__reactHandles$"+ps;function yi(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Qf(t);t!==null;){if(o=t[Bn])return o;t=Qf(t)}return r}t=o,o=t.parentNode}return null}function xo(t){return t=t[Bn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ga(t){return t[ko]||null}var Ku=[],gs=-1;function Nr(t){return{current:t}}function qe(t){0>gs||(t.current=Ku[gs],Ku[gs]=null,gs--)}function $e(t,r){gs++,Ku[gs]=t.current,t.current=r}var Lr={},Vt=Nr(Lr),Ht=Nr(!1),_i=Lr;function ys(t,r){var o=t.type.contextTypes;if(!o)return Lr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Xa(){qe(Ht),qe(Vt)}function Kf(t,r,o){if(Vt.current!==Lr)throw Error(n(168));$e(Vt,r),$e(Ht,o)}function Gf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return ie({},o,u)}function Ya(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,_i=Vt.current,$e(Vt,t),$e(Ht,Ht.current),!0}function Xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Gf(t,r,_i),u.__reactInternalMemoizedMergedChildContext=t,qe(Ht),qe(Vt),$e(Vt,t)):qe(Ht),$e(Ht,o)}var ar=null,Ja=!1,Gu=!1;function Yf(t){ar===null?ar=[t]:ar.push(t)}function Gy(t){Ja=!0,Yf(t)}function Or(){if(!Gu&&ar!==null){Gu=!0;var t=0,r=Ce;try{var o=ar;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ar=null,Ja=!1}catch(h){throw ar!==null&&(ar=ar.slice(t+1)),Xi(ui,Or),h}finally{Ce=r,Gu=!1}}return null}var _s=[],vs=0,Za=null,el=0,un=[],cn=0,vi=null,lr=1,ur="";function Ei(t,r){_s[vs++]=el,_s[vs++]=Za,Za=t,el=r}function Jf(t,r,o){un[cn++]=lr,un[cn++]=ur,un[cn++]=vi,vi=t;var u=lr;t=ur;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,lr=1<<32-Ut(r)+h|o<<h|u,ur=p+t}else lr=1<<p|o<<h|u,ur=t}function Xu(t){t.return!==null&&(Ei(t,1),Jf(t,1,0))}function Yu(t){for(;t===Za;)Za=_s[--vs],_s[vs]=null,el=_s[--vs],_s[vs]=null;for(;t===vi;)vi=un[--cn],un[cn]=null,ur=un[--cn],un[cn]=null,lr=un[--cn],un[cn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function Zf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ed(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=vi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Ju(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zu(t){if(Ke){var r=nn;if(r){var o=r;if(!ed(t,r)){if(Ju(t))throw Error(n(418));r=Dr(o.nextSibling);var u=tn;r&&ed(t,r)?Zf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Ju(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function tl(t){if(t!==tn)return!1;if(!Ke)return td(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Hu(t.type,t.memoizedProps)),r&&(r=nn)){if(Ju(t))throw nd(),Error(n(418));for(;r;)Zf(t,r),r=Dr(r.nextSibling)}if(td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Dr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Dr(t.stateNode.nextSibling):null;return!0}function nd(){for(var t=nn;t;)t=Dr(t.nextSibling)}function Es(){nn=tn=null,Ke=!1}function ec(t){Cn===null?Cn=[t]:Cn.push(t)}var Xy=he.ReactCurrentBatchConfig;function Vo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=h.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function nl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function rd(t){var r=t._init;return r(t._payload)}function id(t){function r(F,V){if(t){var U=F.deletions;U===null?(F.deletions=[V],F.flags|=16):U.push(V)}}function o(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function u(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function h(F,V){return F=$r(F,V),F.index=0,F.sibling=null,F}function p(F,V,U){return F.index=U,t?(U=F.alternate,U!==null?(U=U.index,U<V?(F.flags|=2,V):U):(F.flags|=2,V)):(F.flags|=1048576,V)}function v(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,V,U,Z){return V===null||V.tag!==6?(V=qc(U,F.mode,Z),V.return=F,V):(V=h(V,U),V.return=F,V)}function P(F,V,U,Z){var ue=U.type;return ue===x?G(F,V,U.props.children,Z,U.key):V!==null&&(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&rd(ue)===V.type)?(Z=h(V,U.props),Z.ref=Vo(F,V,U),Z.return=F,Z):(Z=Al(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Vo(F,V,U),Z.return=F,Z)}function b(F,V,U,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=Wc(U,F.mode,Z),V.return=F,V):(V=h(V,U.children||[]),V.return=F,V)}function G(F,V,U,Z,ue){return V===null||V.tag!==7?(V=Pi(U,F.mode,Z,ue),V.return=F,V):(V=h(V,U),V.return=F,V)}function Y(F,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return V=qc(""+V,F.mode,U),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Re:return U=Al(V.type,V.key,V.props,null,F.mode,U),U.ref=Vo(F,null,V),U.return=F,U;case we:return V=Wc(V,F.mode,U),V.return=F,V;case xt:var Z=V._init;return Y(F,Z(V._payload),U)}if(Yn(V)||fe(V))return V=Pi(V,F.mode,U,null),V.return=F,V;nl(F,V)}return null}function K(F,V,U,Z){var ue=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ue!==null?null:S(F,V,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:return U.key===ue?P(F,V,U,Z):null;case we:return U.key===ue?b(F,V,U,Z):null;case xt:return ue=U._init,K(F,V,ue(U._payload),Z)}if(Yn(U)||fe(U))return ue!==null?null:G(F,V,U,Z,null);nl(F,U)}return null}function ne(F,V,U,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(U)||null,S(V,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Re:return F=F.get(Z.key===null?U:Z.key)||null,P(V,F,Z,ue);case we:return F=F.get(Z.key===null?U:Z.key)||null,b(V,F,Z,ue);case xt:var de=Z._init;return ne(F,V,U,de(Z._payload),ue)}if(Yn(Z)||fe(Z))return F=F.get(U)||null,G(V,F,Z,ue,null);nl(V,Z)}return null}function ae(F,V,U,Z){for(var ue=null,de=null,pe=V,ye=V=0,Et=null;pe!==null&&ye<U.length;ye++){pe.index>ye?(Et=pe,pe=null):Et=pe.sibling;var Le=K(F,pe,U[ye],Z);if(Le===null){pe===null&&(pe=Et);break}t&&pe&&Le.alternate===null&&r(F,pe),V=p(Le,V,ye),de===null?ue=Le:de.sibling=Le,de=Le,pe=Et}if(ye===U.length)return o(F,pe),Ke&&Ei(F,ye),ue;if(pe===null){for(;ye<U.length;ye++)pe=Y(F,U[ye],Z),pe!==null&&(V=p(pe,V,ye),de===null?ue=pe:de.sibling=pe,de=pe);return Ke&&Ei(F,ye),ue}for(pe=u(F,pe);ye<U.length;ye++)Et=ne(pe,F,ye,U[ye],Z),Et!==null&&(t&&Et.alternate!==null&&pe.delete(Et.key===null?ye:Et.key),V=p(Et,V,ye),de===null?ue=Et:de.sibling=Et,de=Et);return t&&pe.forEach(function(Hr){return r(F,Hr)}),Ke&&Ei(F,ye),ue}function le(F,V,U,Z){var ue=fe(U);if(typeof ue!="function")throw Error(n(150));if(U=ue.call(U),U==null)throw Error(n(151));for(var de=ue=null,pe=V,ye=V=0,Et=null,Le=U.next();pe!==null&&!Le.done;ye++,Le=U.next()){pe.index>ye?(Et=pe,pe=null):Et=pe.sibling;var Hr=K(F,pe,Le.value,Z);if(Hr===null){pe===null&&(pe=Et);break}t&&pe&&Hr.alternate===null&&r(F,pe),V=p(Hr,V,ye),de===null?ue=Hr:de.sibling=Hr,de=Hr,pe=Et}if(Le.done)return o(F,pe),Ke&&Ei(F,ye),ue;if(pe===null){for(;!Le.done;ye++,Le=U.next())Le=Y(F,Le.value,Z),Le!==null&&(V=p(Le,V,ye),de===null?ue=Le:de.sibling=Le,de=Le);return Ke&&Ei(F,ye),ue}for(pe=u(F,pe);!Le.done;ye++,Le=U.next())Le=ne(pe,F,ye,Le.value,Z),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?ye:Le.key),V=p(Le,V,ye),de===null?ue=Le:de.sibling=Le,de=Le);return t&&pe.forEach(function(P_){return r(F,P_)}),Ke&&Ei(F,ye),ue}function rt(F,V,U,Z){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:e:{for(var ue=U.key,de=V;de!==null;){if(de.key===ue){if(ue=U.type,ue===x){if(de.tag===7){o(F,de.sibling),V=h(de,U.props.children),V.return=F,F=V;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&rd(ue)===de.type){o(F,de.sibling),V=h(de,U.props),V.ref=Vo(F,de,U),V.return=F,F=V;break e}o(F,de);break}else r(F,de);de=de.sibling}U.type===x?(V=Pi(U.props.children,F.mode,Z,U.key),V.return=F,F=V):(Z=Al(U.type,U.key,U.props,null,F.mode,Z),Z.ref=Vo(F,V,U),Z.return=F,F=Z)}return v(F);case we:e:{for(de=U.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){o(F,V.sibling),V=h(V,U.children||[]),V.return=F,F=V;break e}else{o(F,V);break}else r(F,V);V=V.sibling}V=Wc(U,F.mode,Z),V.return=F,F=V}return v(F);case xt:return de=U._init,rt(F,V,de(U._payload),Z)}if(Yn(U))return ae(F,V,U,Z);if(fe(U))return le(F,V,U,Z);nl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,V!==null&&V.tag===6?(o(F,V.sibling),V=h(V,U),V.return=F,F=V):(o(F,V),V=qc(U,F.mode,Z),V.return=F,F=V),v(F)):o(F,V)}return rt}var ws=id(!0),sd=id(!1),rl=Nr(null),il=null,Ts=null,tc=null;function nc(){tc=Ts=il=null}function rc(t){var r=rl.current;qe(rl),t._currentValue=r}function ic(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ss(t,r){il=t,tc=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(tc!==t)if(t={context:t,memoizedValue:r,next:null},Ts===null){if(il===null)throw Error(n(308));Ts=t,il.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return r}var wi=null;function sc(t){wi===null?wi=[t]:wi.push(t)}function od(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,sc(r)):(o.next=h.next,h.next=o),r.interleaved=o,cr(t,u)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,cr(t,o)}return h=u.interleaved,h===null?(r.next=r,sc(u)):(r.next=h.next,h.next=r),u.interleaved=r,cr(t,o)}function sl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function ld(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ol(t,r,o,u){var h=t.updateQueue;Mr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,b=P.next;P.next=null,v===null?p=b:v.next=b,v=P;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==v&&(S===null?G.firstBaseUpdate=b:S.next=b,G.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;v=0,G=b=P=null,S=p;do{var K=S.lane,ne=S.eventTime;if((u&K)===K){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(K=r,ne=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(ne,Y,K);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,K=typeof ae=="function"?ae.call(ne,Y,K):ae,K==null)break e;Y=ie({},Y,K);break e;case 2:Mr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else ne={eventTime:ne,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(b=G=ne,P=Y):G=G.next=ne,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(G===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=b,h.lastBaseUpdate=G,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ii|=v,t.lanes=v,t.memoizedState=Y}}function ud(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Do={},bn=Nr(Do),No=Nr(Do),Lo=Nr(Do);function Ti(t){if(t===Do)throw Error(n(174));return t}function ac(t,r){switch($e(Lo,r),$e(No,t),$e(bn,Do),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe(bn),$e(bn,r)}function Is(){qe(bn),qe(No),qe(Lo)}function cd(t){Ti(Lo.current);var r=Ti(bn.current),o=ut(r,t.type);r!==o&&($e(No,t),$e(bn,o))}function lc(t){No.current===t&&(qe(bn),qe(No))}var Ge=Nr(0);function al(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var uc=[];function cc(){for(var t=0;t<uc.length;t++)uc[t]._workInProgressVersionPrimary=null;uc.length=0}var ll=he.ReactCurrentDispatcher,hc=he.ReactCurrentBatchConfig,Si=0,Xe=null,ht=null,_t=null,ul=!1,Oo=!1,Mo=0,Yy=0;function Dt(){throw Error(n(321))}function fc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function dc(t,r,o,u,h,p){if(Si=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ll.current=t===null||t.memoizedState===null?t_:n_,t=o(u,h),Oo){p=0;do{if(Oo=!1,Mo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,ll.current=r_,t=o(u,h)}while(Oo)}if(ll.current=fl,r=ht!==null&&ht.next!==null,Si=0,_t=ht=Xe=null,ul=!1,r)throw Error(n(300));return t}function pc(){var t=Mo!==0;return Mo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function fn(){if(ht===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Fo(t,r){return typeof r=="function"?r(t):r}function mc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=v=null,P=null,b=p;do{var G=b.lane;if((Si&G)===G)P!==null&&(P=P.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var Y={lane:G,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};P===null?(S=P=Y,v=u):P=P.next=Y,Xe.lanes|=G,Ii|=G}b=b.next}while(b!==null&&b!==p);P===null?v=u:P.next=S,An(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Ii|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function gc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);An(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function hd(){}function fd(t,r){var o=Xe,u=fn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,Wt=!0),u=u.queue,yc(md.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Uo(9,pd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Si&30||dd(o,r,h)}return h}function dd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function pd(t,r,o,u){r.value=o,r.getSnapshot=u,gd(r)&&yd(t)}function md(t,r,o){return o(function(){gd(r)&&yd(t)})}function gd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function yd(t){var r=cr(t,1);r!==null&&Vn(r,t,1,-1)}function _d(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},r.queue=t,t=t.dispatch=e_.bind(null,Xe,t),[r.memoizedState,t]}function Uo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function vd(){return fn().memoizedState}function cl(t,r,o,u){var h=jn();Xe.flags|=t,h.memoizedState=Uo(1|r,o,void 0,u===void 0?null:u)}function hl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,u!==null&&fc(u,v.deps)){h.memoizedState=Uo(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=Uo(1|r,o,p,u)}function Ed(t,r){return cl(8390656,8,t,r)}function yc(t,r){return hl(2048,8,t,r)}function wd(t,r){return hl(4,2,t,r)}function Td(t,r){return hl(4,4,t,r)}function Sd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Id(t,r,o){return o=o!=null?o.concat([t]):null,hl(4,4,Sd.bind(null,r,t),o)}function _c(){}function Rd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&fc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Ad(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&fc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Cd(t,r,o){return Si&21?(An(o,r)||(o=fi(),Xe.lanes|=o,Ii|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function Jy(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=hc.transition;hc.transition={};try{t(!1),r()}finally{Ce=o,hc.transition=u}}function Pd(){return fn().memoizedState}function Zy(t,r,o){var u=br(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},kd(t))xd(r,o);else if(o=od(t,r,o,u),o!==null){var h=bt();Vn(o,t,u,h),Vd(o,r,u)}}function e_(t,r,o){var u=br(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(kd(t))xd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(h.hasEagerState=!0,h.eagerState=S,An(S,v)){var P=r.interleaved;P===null?(h.next=h,sc(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=od(t,r,h,u),o!==null&&(h=bt(),Vn(o,t,u,h),Vd(o,r,u))}}function kd(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function xd(t,r){Oo=ul=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Vd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var fl={readContext:hn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},t_={readContext:hn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Ed,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,cl(4194308,4,Sd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return cl(4194308,4,t,r)},useInsertionEffect:function(t,r){return cl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Zy.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:_d,useDebugValue:_c,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=_d(!1),r=t[0];return t=Jy.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Si&30||dd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Ed(md.bind(null,u,p,t),[t]),u.flags|=2048,Uo(9,pd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=vt.identifierPrefix;if(Ke){var o=ur,u=lr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Mo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Yy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},n_={readContext:hn,useCallback:Rd,useContext:hn,useEffect:yc,useImperativeHandle:Id,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Ad,useReducer:mc,useRef:vd,useState:function(){return mc(Fo)},useDebugValue:_c,useDeferredValue:function(t){var r=fn();return Cd(r,ht.memoizedState,t)},useTransition:function(){var t=mc(Fo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1},r_={readContext:hn,useCallback:Rd,useContext:hn,useEffect:yc,useImperativeHandle:Id,useInsertionEffect:wd,useLayoutEffect:Td,useMemo:Ad,useReducer:gc,useRef:vd,useState:function(){return gc(Fo)},useDebugValue:_c,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:Cd(r,ht.memoizedState,t)},useTransition:function(){var t=gc(Fo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Pd,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function vc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var dl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),h=br(t),p=hr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Vn(r,t,h,u),sl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),h=br(t),p=hr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Vn(r,t,h,u),sl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=br(t),h=hr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Fr(t,h,u),r!==null&&(Vn(r,t,u,o),sl(r,t,u))}};function Dd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Io(o,u)||!Io(h,p):!0}function Nd(t,r,o){var u=!1,h=Lr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=qt(r)?_i:Vt.current,u=r.contextTypes,p=(u=u!=null)?ys(t,h):Lr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Ld(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&dl.enqueueReplaceState(r,r.state,null)}function Ec(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},oc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=qt(r)?_i:Vt.current,h.context=ys(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(vc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&dl.enqueueReplaceState(h,h.state,null),ol(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function wc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Tc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var i_=typeof WeakMap=="function"?WeakMap:Map;function Od(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){El||(El=!0,Fc=u),Tc(t,r)},o}function Md(t,r,o){o=hr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Tc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Tc(t,r),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Fd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new i_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=__.bind(null,t,r,o),r.then(t,t))}function Ud(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function zd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Fr(o,r,1))),o.lanes|=1),t)}var s_=he.ReactCurrentOwner,Wt=!1;function Bt(t,r,o,u){r.child=t===null?sd(r,null,o,u):ws(r,t.child,o,u)}function Bd(t,r,o,u,h){o=o.render;var p=r.ref;return Ss(r,h),u=dc(t,r,o,u,p,h),o=pc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Ke&&o&&Xu(r),r.flags|=1,Bt(t,r,u,h),r.child)}function bd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Hc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,jd(t,r,p,u,h)):(t=Al(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Io,o(v,u)&&t.ref===r.ref)return fr(t,r,h)}return r.flags|=1,t=$r(p,u),t.ref=r.ref,t.return=r,r.child=t}function jd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Io(p,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,fr(t,r,h)}return Sc(t,r,o,u,h)}function $d(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Cs,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(Cs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(Cs,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(Cs,rn),rn|=u;return Bt(t,r,h,o),r.child}function Hd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Sc(t,r,o,u,h){var p=qt(o)?_i:Vt.current;return p=ys(r,p),Ss(r,h),o=dc(t,r,o,u,p,h),u=pc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Ke&&u&&Xu(r),r.flags|=1,Bt(t,r,o,h),r.child)}function qd(t,r,o,u,h){if(qt(o)){var p=!0;Ya(r)}else p=!1;if(Ss(r,h),r.stateNode===null)ml(t,r),Nd(r,o,u),Ec(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var P=v.context,b=o.contextType;typeof b=="object"&&b!==null?b=hn(b):(b=qt(o)?_i:Vt.current,b=ys(r,b));var G=o.getDerivedStateFromProps,Y=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||P!==b)&&Ld(r,v,u,b),Mr=!1;var K=r.memoizedState;v.state=K,ol(r,u,v,h),P=r.memoizedState,S!==u||K!==P||Ht.current||Mr?(typeof G=="function"&&(vc(r,o,G,u),P=r.memoizedState),(S=Mr||Dd(r,o,S,u,K,P,b))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=b,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,ad(t,r),S=r.memoizedProps,b=r.type===r.elementType?S:Pn(r.type,S),v.props=b,Y=r.pendingProps,K=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=qt(o)?_i:Vt.current,P=ys(r,P));var ne=o.getDerivedStateFromProps;(G=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==P)&&Ld(r,v,u,P),Mr=!1,K=r.memoizedState,v.state=K,ol(r,u,v,h);var ae=r.memoizedState;S!==Y||K!==ae||Ht.current||Mr?(typeof ne=="function"&&(vc(r,o,ne,u),ae=r.memoizedState),(b=Mr||Dd(r,o,b,u,K,ae,P)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=P,u=b):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return Ic(t,r,o,u,p,h)}function Ic(t,r,o,u,h,p){Hd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Xf(r,o,!1),fr(t,r,p);u=r.stateNode,s_.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=ws(r,t.child,null,p),r.child=ws(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=u.state,h&&Xf(r,o,!0),r.child}function Wd(t){var r=t.stateNode;r.pendingContext?Kf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Kf(t,r.context,!1),ac(t,r.containerInfo)}function Qd(t,r,o,u,h){return Es(),ec(h),r.flags|=256,Bt(t,r,o,u),r.child}var Rc={dehydrated:null,treeContext:null,retryLane:0};function Ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kd(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ge,h&1),t===null)return Zu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Cl(v,u,0,null),t=Pi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ac(o),r.memoizedState=Rc,t):Cc(r,v));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return o_(t,r,v,u,S,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,S=h.sibling;var P={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=$r(h,P),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=$r(S,p):(p=Pi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?Ac(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Rc,u}return p=t.child,t=p.sibling,u=$r(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Cc(t,r){return r=Cl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function pl(t,r,o,u){return u!==null&&ec(u),ws(r,t.child,null,o),t=Cc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function o_(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=wc(Error(n(422))),pl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Cl({mode:"visible",children:u.children},h,0,null),p=Pi(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ws(r,t.child,null,v),r.child.memoizedState=Ac(v),r.memoizedState=Rc,p);if(!(r.mode&1))return pl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=wc(p,u,void 0),pl(t,r,v,u)}if(S=(v&t.childLanes)!==0,Wt||S){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,cr(t,h),Vn(u,t,h,-1))}return $c(),u=wc(Error(n(421))),pl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=v_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Dr(h.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(un[cn++]=lr,un[cn++]=ur,un[cn++]=vi,lr=t.id,ur=t.overflow,vi=r),r=Cc(r,u.children),r.flags|=4096,r)}function Gd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ic(t.return,r,o)}function Pc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gd(t,o,r);else if(t.tag===19)Gd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&al(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Pc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&al(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Pc(r,!0,o,null,p);break;case"together":Pc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ml(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ii|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=$r(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function a_(t,r,o){switch(r.tag){case 3:Wd(r),Es();break;case 5:cd(r);break;case 1:qt(r.type)&&Ya(r);break;case 4:ac(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(rl,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Kd(t,r,o):($e(Ge,Ge.current&1),t=fr(t,r,o),t!==null?t.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,$d(t,r,o)}return fr(t,r,o)}var Yd,kc,Jd,Zd;Yd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},kc=function(){},Jd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ti(bn.current);var p=null;switch(o){case"input":h=ti(t,h),u=ti(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=Js(t,h),u=Js(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ka)}io(o,u);var v;o=null;for(b in h)if(!u.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var S=h[b];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var P=u[b];if(S=h!=null?h[b]:void 0,u.hasOwnProperty(b)&&P!==S&&(P!=null||S!=null))if(b==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(b,o)),o=P;else b==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(b,P)):b==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(b,""+P):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(P!=null&&b==="onScroll"&&He("scroll",t),p||S===P||(p=[])):(p=p||[]).push(b,P))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},Zd=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function l_(t,r,o){var u=r.pendingProps;switch(Yu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return qt(r.type)&&Xa(),Nt(r),null;case 3:return u=r.stateNode,Is(),qe(Ht),qe(Vt),cc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(tl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Bc(Cn),Cn=null))),kc(t,r),Nt(r),null;case 5:lc(r);var h=Ti(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Jd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Ti(bn.current),tl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[ko]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(h=0;h<Ao.length;h++)He(Ao[h],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":zi(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":bi(u,p),He("invalid",u)}io(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&He("scroll",u)}switch(o){case"input":Xn(u),va(u,p,!0);break;case"textarea":Xn(u),Zs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ka)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Bn]=r,t[ko]=u,Yd(t,r,!1,!1),r.stateNode=t;e:{switch(v=so(o,u),o){case"dialog":He("cancel",t),He("close",t),h=u;break;case"iframe":case"object":case"embed":He("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ao.length;h++)He(Ao[h],t);h=u;break;case"source":He("error",t),h=u;break;case"img":case"image":case"link":He("error",t),He("load",t),h=u;break;case"details":He("toggle",t),h=u;break;case"input":zi(t,u),h=ti(t,u),He("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),He("invalid",t);break;case"textarea":bi(t,u),h=Js(t,u),He("invalid",t);break;default:h=u}io(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?no(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&eo(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&wr(t,P):typeof P=="number"&&wr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&He("scroll",t):P!=null&&re(t,p,P,v))}switch(o){case"input":Xn(t),va(t,u,!1);break;case"textarea":Xn(t),Zs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Jn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Jn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ka)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)Zd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ti(Lo.current),Ti(bn.current),tl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Nt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))nd(),Es(),r.flags|=98560,p=!1;else if(p=tl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else Es(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else Cn!==null&&(Bc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ft===0&&(ft=3):$c())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Is(),kc(t,r),t===null&&Co(r.stateNode.containerInfo),Nt(r),null;case 10:return rc(r.type._context),Nt(r),null;case 17:return qt(r.type)&&Xa(),Nt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)zo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=al(t),v!==null){for(r.flags|=128,zo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>Ps&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=al(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Nt(r),null}else 2*je()-p.renderingStartTime>Ps&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Ge.current,$e(Ge,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return jc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function u_(t,r){switch(Yu(r),r.tag){case 1:return qt(r.type)&&Xa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Is(),qe(Ht),qe(Vt),cc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return lc(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return Is(),null;case 10:return rc(r.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var gl=!1,Lt=!1,c_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function As(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ze(t,r,u)}else o.current=null}function xc(t,r,o){try{o()}catch(u){Ze(t,r,u)}}var ep=!1;function h_(t,r){if(ju=kr,t=Df(),Lu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,P=-1,b=0,G=0,Y=t,K=null;t:for(;;){for(var ne;Y!==o||h!==0&&Y.nodeType!==3||(S=v+h),Y!==p||u!==0&&Y.nodeType!==3||(P=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)K=Y,Y=ne;for(;;){if(Y===t)break t;if(K===o&&++b===h&&(S=v),K===p&&++G===u&&(P=v),(ne=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=ne}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for($u={focusedElem:t,selectionRange:o},kr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,rt=ae.memoizedState,F=r.stateNode,V=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),rt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){Ze(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=ep,ep=!1,ae}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&xc(r,o,p)}h=h.next}while(h!==u)}}function yl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Vc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function tp(t){var r=t.alternate;r!==null&&(t.alternate=null,tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[ko],delete r[Qu],delete r[Qy],delete r[Ky])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function np(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ka));else if(u!==4&&(t=t.child,t!==null))for(Dc(t,r,o),t=t.sibling;t!==null;)Dc(t,r,o),t=t.sibling}function Nc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Nc(t,r,o),t=t.sibling;t!==null;)Nc(t,r,o),t=t.sibling}var It=null,kn=!1;function Ur(t,r,o){for(o=o.child;o!==null;)ip(t,r,o),o=o.sibling}function ip(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 5:Lt||As(o,r);case 6:var u=It,h=kn;It=null,Ur(t,r,o),It=u,kn=h,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?Wu(t.parentNode,o):t.nodeType===1&&Wu(t,o),In(t)):Wu(It,o.stateNode));break;case 4:u=It,h=kn,It=o.stateNode.containerInfo,kn=!0,Ur(t,r,o),It=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&xc(o,r,v),h=h.next}while(h!==u)}Ur(t,r,o);break;case 1:if(!Lt&&(As(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Ze(o,r,S)}Ur(t,r,o);break;case 21:Ur(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,Ur(t,r,o),Lt=u):Ur(t,r,o);break;default:Ur(t,r,o)}}function sp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new c_),r.forEach(function(u){var h=E_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));ip(p,v,h),It=null,kn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(b){Ze(h,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)op(r,t),r=r.sibling}function op(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{Bo(3,t,t.return),yl(3,t)}catch(le){Ze(t,t.return,le)}try{Bo(5,t,t.return)}catch(le){Ze(t,t.return,le)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&As(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&As(o,o.return),t.flags&32){var h=t.stateNode;try{wr(h,"")}catch(le){Ze(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Xs(h,p),so(S,v);var b=so(S,p);for(v=0;v<P.length;v+=2){var G=P[v],Y=P[v+1];G==="style"?no(h,Y):G==="dangerouslySetInnerHTML"?eo(h,Y):G==="children"?wr(h,Y):re(h,G,Y,b)}switch(S){case"input":Ys(h,p);break;case"textarea":ji(h,p);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?Jn(h,!!p.multiple,ne,!1):K!==!!p.multiple&&(p.defaultValue!=null?Jn(h,!!p.multiple,p.defaultValue,!0):Jn(h,!!p.multiple,p.multiple?[]:"",!1))}h[ko]=p}catch(le){Ze(t,t.return,le)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){Ze(t,t.return,le)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){Ze(t,t.return,le)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Mc=je())),u&4&&sp(t);break;case 22:if(G=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(b=Lt)||G,xn(r,t),Lt=b):xn(r,t),$n(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!G&&t.mode&1)for(oe=t,G=t.child;G!==null;){for(Y=oe=G;oe!==null;){switch(K=oe,ne=K.child,K.tag){case 0:case 11:case 14:case 15:Bo(4,K,K.return);break;case 1:As(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){Ze(u,o,le)}}break;case 5:As(K,K.return);break;case 22:if(K.memoizedState!==null){up(Y);continue}}ne!==null?(ne.return=K,oe=ne):up(Y)}G=G.sibling}e:for(G=null,Y=t;;){if(Y.tag===5){if(G===null){G=Y;try{h=Y.stateNode,b?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=to("display",v))}catch(le){Ze(t,t.return,le)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(le){Ze(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:xn(r,t),$n(t),u&4&&sp(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(np(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wr(h,""),u.flags&=-33);var p=rp(t);Nc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=rp(t);Dc(t,S,v);break;default:throw Error(n(161))}}catch(P){Ze(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function f_(t,r,o){oe=t,ap(t)}function ap(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||gl;if(!v){var S=h.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=gl;var b=Lt;if(gl=v,(Lt=P)&&!b)for(oe=h;oe!==null;)v=oe,P=v.child,v.tag===22&&v.memoizedState!==null?cp(h):P!==null?(P.return=v,oe=P):cp(h);for(;p!==null;)oe=p,ap(p),p=p.sibling;oe=h,gl=S,Lt=b}lp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,oe=p):lp(t)}}function lp(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||yl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&ud(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}ud(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var G=b.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&In(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Vc(r)}catch(K){Ze(r,r.return,K)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function up(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function cp(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{yl(4,r)}catch(P){Ze(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){Ze(r,h,P)}}var p=r.return;try{Vc(r)}catch(P){Ze(r,p,P)}break;case 5:var v=r.return;try{Vc(r)}catch(P){Ze(r,v,P)}}}catch(P){Ze(r,r.return,P)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var d_=Math.ceil,_l=he.ReactCurrentDispatcher,Lc=he.ReactCurrentOwner,dn=he.ReactCurrentBatchConfig,Ne=0,vt=null,ot=null,Rt=0,rn=0,Cs=Nr(0),ft=0,bo=null,Ii=0,vl=0,Oc=0,jo=null,Qt=null,Mc=0,Ps=1/0,dr=null,El=!1,Fc=null,zr=null,wl=!1,Br=null,Tl=0,$o=0,Uc=null,Sl=-1,Il=0;function bt(){return Ne&6?je():Sl!==-1?Sl:Sl=je()}function br(t){return t.mode&1?Ne&2&&Rt!==0?Rt&-Rt:Xy.transition!==null?(Il===0&&(Il=fi()),Il):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:yo(t.type)),t):1}function Vn(t,r,o,u){if(50<$o)throw $o=0,Uc=null,Error(n(185));Rr(t,o,u),(!(Ne&2)||t!==vt)&&(t===vt&&(!(Ne&2)&&(vl|=o),ft===4&&jr(t,Rt)),Kt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(Ps=je()+500,Ja&&Or()))}function Kt(t,r){var o=t.callbackNode;tr(t,r);var u=hi(t,t===vt?Rt:0);if(u===0)o!==null&&ho(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ho(o),r===1)t.tag===0?Gy(fp.bind(null,t)):Yf(fp.bind(null,t)),qy(function(){!(Ne&6)&&Or()}),o=null;else{switch(Cr(u)){case 1:o=ui;break;case 4:o=Tr;break;case 16:o=on;break;case 536870912:o=Ia;break;default:o=on}o=Ep(o,hp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function hp(t,r){if(Sl=-1,Il=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(ks()&&t.callbackNode!==o)return null;var u=hi(t,t===vt?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Rl(t,u);else{r=u;var h=Ne;Ne|=2;var p=pp();(vt!==t||Rt!==r)&&(dr=null,Ps=je()+500,Ai(t,r));do try{g_();break}catch(S){dp(t,S)}while(!0);nc(),_l.current=p,Ne=h,ot!==null?r=0:(vt=null,Rt=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=zc(t,h))),r===1)throw o=bo,Ai(t,0),jr(t,u),Kt(t,je()),o;if(r===6)jr(t,u);else{if(h=t.current.alternate,!(u&30)&&!p_(h)&&(r=Rl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=zc(t,p))),r===1))throw o=bo,Ai(t,0),jr(t,u),Kt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ci(t,Qt,dr);break;case 3:if(jr(t,u),(u&130023424)===u&&(r=Mc+500-je(),10<r)){if(hi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=qu(Ci.bind(null,t,Qt,dr),r);break}Ci(t,Qt,dr);break;case 4:if(jr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ut(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*d_(u/1960))-u,10<u){t.timeoutHandle=qu(Ci.bind(null,t,Qt,dr),u);break}Ci(t,Qt,dr);break;case 5:Ci(t,Qt,dr);break;default:throw Error(n(329))}}}return Kt(t,je()),t.callbackNode===o?hp.bind(null,t):null}function zc(t,r){var o=jo;return t.current.memoizedState.isDehydrated&&(Ai(t,r).flags|=256),t=Rl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Bc(r)),t}function Bc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function p_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~Oc,r&=~vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function fp(t){if(Ne&6)throw Error(n(327));ks();var r=hi(t,0);if(!(r&1))return Kt(t,je()),null;var o=Rl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=zc(t,u))}if(o===1)throw o=bo,Ai(t,0),jr(t,r),Kt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ci(t,Qt,dr),Kt(t,je()),null}function bc(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Ps=je()+500,Ja&&Or())}}function Ri(t){Br!==null&&Br.tag===0&&!(Ne&6)&&ks();var r=Ne;Ne|=1;var o=dn.transition,u=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=u,dn.transition=o,Ne=r,!(Ne&6)&&Or()}}function jc(){rn=Cs.current,qe(Cs)}function Ai(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Hy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(Yu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Xa();break;case 3:Is(),qe(Ht),qe(Vt),cc();break;case 5:lc(u);break;case 4:Is();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:rc(u.type._context);break;case 22:case 23:jc()}o=o.return}if(vt=t,ot=t=$r(t.current,null),Rt=rn=r,ft=0,bo=null,Oc=vl=Ii=0,Qt=jo=null,wi!==null){for(r=0;r<wi.length;r++)if(o=wi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}wi=null}return t}function dp(t,r){do{var o=ot;try{if(nc(),ll.current=fl,ul){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ul=!1}if(Si=0,_t=ht=Xe=null,Oo=!1,Mo=0,Lc.current=null,o===null||o.return===null){ft=1,bo=r,ot=null;break}e:{var p=t,v=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var b=P,G=S,Y=G.tag;if(!(G.mode&1)&&(Y===0||Y===11||Y===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=Ud(v);if(ne!==null){ne.flags&=-257,zd(ne,v,S,p,r),ne.mode&1&&Fd(p,b,r),r=ne,P=b;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(P),r.updateQueue=le}else ae.add(P);break e}else{if(!(r&1)){Fd(p,b,r),$c();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=Ud(v);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),zd(rt,v,S,p,r),ec(Rs(P,S));break e}}p=P=Rs(P,S),ft!==4&&(ft=2),jo===null?jo=[p]:jo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Od(p,P,r);ld(p,F);break e;case 1:S=P;var V=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(zr===null||!zr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Md(p,S,r);ld(p,Z);break e}}p=p.return}while(p!==null)}gp(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function pp(){var t=_l.current;return _l.current=fl,t===null?fl:t}function $c(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Ii&268435455)&&!(vl&268435455)||jr(vt,Rt)}function Rl(t,r){var o=Ne;Ne|=2;var u=pp();(vt!==t||Rt!==r)&&(dr=null,Ai(t,r));do try{m_();break}catch(h){dp(t,h)}while(!0);if(nc(),Ne=o,_l.current=u,ot!==null)throw Error(n(261));return vt=null,Rt=0,ft}function m_(){for(;ot!==null;)mp(ot)}function g_(){for(;ot!==null&&!Ta();)mp(ot)}function mp(t){var r=vp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?gp(t):ot=r,Lc.current=null}function gp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=u_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=l_(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Ci(t,r,o){var u=Ce,h=dn.transition;try{dn.transition=null,Ce=1,y_(t,r,o,u)}finally{dn.transition=h,Ce=u}return null}function y_(t,r,o,u){do ks();while(Br!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===vt&&(ot=vt=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wl||(wl=!0,Ep(on,function(){return ks(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=Ce;Ce=1;var S=Ne;Ne|=4,Lc.current=null,h_(t,o),op(o,t),Fy($u),kr=!!ju,$u=ju=null,t.current=o,f_(o),Au(),Ne=S,Ce=v,dn.transition=p}else t.current=o;if(wl&&(wl=!1,Br=t,Tl=h),p=t.pendingLanes,p===0&&(zr=null),Ra(o.stateNode),Kt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(El)throw El=!1,t=Fc,Fc=null,t;return Tl&1&&t.tag!==0&&ks(),p=t.pendingLanes,p&1?t===Uc?$o++:($o=0,Uc=t):$o=0,Or(),null}function ks(){if(Br!==null){var t=Cr(Tl),r=dn.transition,o=Ce;try{if(dn.transition=null,Ce=16>t?16:t,Br===null)var u=!1;else{if(t=Br,Br=null,Tl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,oe=t.current;oe!==null;){var p=oe,v=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var b=S[P];for(oe=b;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:Bo(8,G,p)}var Y=G.child;if(Y!==null)Y.return=G,oe=Y;else for(;oe!==null;){G=oe;var K=G.sibling,ne=G.return;if(tp(G),G===b){oe=null;break}if(K!==null){K.return=ne,oe=K;break}oe=ne}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var rt=le.sibling;le.sibling=null,le=rt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,oe=v;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var V=t.current;for(oe=V;oe!==null;){v=oe;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,oe=U;else e:for(v=V;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:yl(9,S)}}catch(ue){Ze(S,S.return,ue)}if(S===v){oe=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,oe=Z;break e}oe=S.return}}if(Ne=h,Or(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ci,t)}catch{}u=!0}return u}finally{Ce=o,dn.transition=r}}return!1}function yp(t,r,o){r=Rs(o,r),r=Od(t,r,1),t=Fr(t,r,1),r=bt(),t!==null&&(Rr(t,1,r),Kt(t,r))}function Ze(t,r,o){if(t.tag===3)yp(t,t,o);else for(;r!==null;){if(r.tag===3){yp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){t=Rs(o,t),t=Md(r,t,1),r=Fr(r,t,1),t=bt(),r!==null&&(Rr(r,1,t),Kt(r,t));break}}r=r.return}}function __(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(Rt&o)===o&&(ft===4||ft===3&&(Rt&130023424)===Rt&&500>je()-Mc?Ai(t,0):Oc|=o),Kt(t,r)}function _p(t,r){r===0&&(t.mode&1?(r=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):r=1);var o=bt();t=cr(t,r),t!==null&&(Rr(t,r,o),Kt(t,o))}function v_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),_p(t,o)}function E_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),_p(t,o)}var vp;vp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,a_(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&Jf(r,el,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ml(t,r),t=r.pendingProps;var h=ys(r,Vt.current);Ss(r,o),h=dc(null,r,u,t,h,o);var p=pc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ya(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,oc(r),h.updater=dl,r.stateNode=h,h._reactInternals=r,Ec(r,u,t,o),r=Ic(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Xu(r),Bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ml(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=T_(u),t=Pn(u,t),h){case 0:r=Sc(null,r,u,t,o);break e;case 1:r=qd(null,r,u,t,o);break e;case 11:r=Bd(null,r,u,t,o);break e;case 14:r=bd(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Sc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),qd(t,r,u,h,o);case 3:e:{if(Wd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,ad(t,r),ol(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Rs(Error(n(423)),r),r=Qd(t,r,u,o,h);break e}else if(u!==h){h=Rs(Error(n(424)),r),r=Qd(t,r,u,o,h);break e}else for(nn=Dr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=sd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),u===h){r=fr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return cd(r),t===null&&Zu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Hu(u,h)?v=null:p!==null&&Hu(u,p)&&(r.flags|=32),Hd(t,r),Bt(t,r,v,o),r.child;case 6:return t===null&&Zu(r),null;case 13:return Kd(t,r,o);case 4:return ac(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ws(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Bd(t,r,u,h,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,$e(rl,u._currentValue),u._currentValue=v,p!==null)if(An(p.value,v)){if(p.children===h.children&&!Ht.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=hr(-1,o&-o),P.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var G=b.pending;G===null?P.next=P:(P.next=G.next,G.next=P),b.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),ic(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),ic(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Ss(r,o),h=hn(h),u=u(h),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),bd(t,r,u,h,o);case 15:return jd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),ml(t,r),r.tag=1,qt(u)?(t=!0,Ya(r)):t=!1,Ss(r,o),Nd(r,u,h),Ec(r,u,h,o),Ic(null,r,u,!0,t,o);case 19:return Xd(t,r,o);case 22:return $d(t,r,o)}throw Error(n(156,r.tag))};function Ep(t,r){return Xi(t,r)}function w_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new w_(t,r,o,u)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T_(t){if(typeof t=="function")return Hc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===kt)return 14}return 2}function $r(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Al(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Hc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return Pi(o.children,h,p,r);case T:v=8,h|=8;break;case I:return t=pn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case A:return t=pn(13,o,r,h),t.elementType=A,t.lanes=p,t;case tt:return t=pn(19,o,r,h),t.elementType=tt,t.lanes=p,t;case ze:return Cl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case D:v=9;break e;case L:v=11;break e;case kt:v=14;break e;case xt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Pi(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function Cl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function qc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Wc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function S_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Qc(t,r,o,u,h,p,v,S,P){return t=new S_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(p),t}function I_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function wp(t){if(!t)return Lr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return Gf(t,o,r)}return r}function Tp(t,r,o,u,h,p,v,S,P){return t=Qc(o,u,!0,t,h,p,v,S,P),t.context=wp(null),o=t.current,u=bt(),h=br(o),p=hr(u,h),p.callback=r??null,Fr(o,p,h),t.current.lanes=h,Rr(t,h,u),Kt(t,u),t}function Pl(t,r,o,u){var h=r.current,p=bt(),v=br(h);return o=wp(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Fr(h,r,v),t!==null&&(Vn(t,h,v,p),sl(t,h,v)),v}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Kc(t,r){Sp(t,r),(t=t.alternate)&&Sp(t,r)}var Ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gc(t){this._internalRoot=t}xl.prototype.render=Gc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Pl(t,r,null,null)},xl.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ri(function(){Pl(null,t,null,null)}),r[or]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var r=xa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&Na(t)}};function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function R_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var b=kl(v);p.call(b)}}var v=Tp(r,u,t,0,null,!1,!1,"",Rp);return t._reactRootContainer=v,t[or]=v.current,Co(t.nodeType===8?t.parentNode:t),Ri(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var b=kl(P);S.call(b)}}var P=Qc(t,0,!1,null,null,!1,!1,"",Rp);return t._reactRootContainer=P,t[or]=P.current,Co(t.nodeType===8?t.parentNode:t),Ri(function(){Pl(r,P,o,u)}),P}function Dl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var S=h;h=function(){var P=kl(v);S.call(P)}}Pl(r,v,t,h)}else v=R_(o,r,t,h,u);return kl(v)}Pa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Sr(r.pendingLanes);o!==0&&(Ar(r,o|1),Kt(r,je()),!(Ne&6)&&(Ps=je()+500,Or()))}break;case 13:Ri(function(){var u=cr(t,1);if(u!==null){var h=bt();Vn(u,t,1,h)}}),Kc(t,1)}},Zi=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=bt();Vn(r,t,134217728,o)}Kc(t,134217728)}},ka=function(t){if(t.tag===13){var r=br(t),o=cr(t,r);if(o!==null){var u=bt();Vn(o,t,r,u)}Kc(t,r)}},xa=function(){return Ce},Va=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},Hi=function(t,r,o){switch(r){case"input":if(Ys(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ga(u);if(!h)throw Error(n(90));Ui(u),Ys(u,h)}}}break;case"textarea":ji(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},si=bc,ao=Ri;var A_={usingClientEntryPoint:!1,Events:[xo,ms,Ga,Ln,oo,bc]},Ho={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C_={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=co(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{ci=Nl.inject(C_),Yt=Nl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xc(r))throw Error(n(200));return I_(t,r,null,o)},Gt.createRoot=function(t,r){if(!Xc(t))throw Error(n(299));var o=!1,u="",h=Ip;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Qc(t,1,!1,null,null,o,!1,u,h),t[or]=r.current,Co(t.nodeType===8?t.parentNode:t),new Gc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=co(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ri(t)},Gt.hydrate=function(t,r,o){if(!Vl(r))throw Error(n(200));return Dl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Xc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=Ip;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Tp(r,null,t,1,o??null,h,!1,p,v),t[or]=r.current,Co(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new xl(r)},Gt.render=function(t,r,o){if(!Vl(r))throw Error(n(200));return Dl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(n(40));return t._reactRootContainer?(Ri(function(){Dl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Gt.unstable_batchedUpdates=bc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Vl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Dl(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Np;function O_(){if(Np)return Zc.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zc.exports=L_(),Zc.exports}var Lp;function M_(){if(Lp)return Ll;Lp=1;var i=O_();return Ll.createRoot=i.createRoot,Ll.hydrateRoot=i.hydrateRoot,Ll}var F_=M_(),Wo={},Op;function U_(){if(Op)return Wo;Op=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.parse=f,Wo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,O){const z=new c,$=C.length;if($<2)return z;const B=(O==null?void 0:O.decode)||w;let Q=0;do{const X=C.indexOf("=",Q);if(X===-1)break;const re=C.indexOf(";",Q),he=re===-1?$:re;if(X>he){Q=C.lastIndexOf(";",X-1)+1;continue}const Re=m(C,Q,X),we=g(C,X,Re),x=C.slice(Re,we);if(z[x]===void 0){let T=m(C,X+1,he),I=g(C,he,T);const k=B(C.slice(T,I));z[x]=k}Q=he+1}while(Q<$);return z}function m(C,O,z){do{const $=C.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<z);return z}function g(C,O,z){for(;O>z;){const $=C.charCodeAt(--O);if($!==32&&$!==9)return O+1}return z}function _(C,O,z){const $=(z==null?void 0:z.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const B=$(O);if(!e.test(B))throw new TypeError(`argument val is invalid: ${O}`);let Q=C+"="+B;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!R(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function w(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function R(C){return a.call(C)==="[object Date]"}return Wo}U_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mp="popstate";function z_(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return fh("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ta(a)}return b_(e,n,null,i)}function Ye(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B_(){return Math.random().toString(36).substring(2,10)}function Fp(i,e){return{usr:i.state,key:i.key,idx:e}}function fh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:n,key:e&&e.key||s||B_()}}function ta({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function $s(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function b_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",g=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function R(){m="POP";let B=w(),Q=B==null?null:B-_;_=B,g&&g({action:m,location:$.location,delta:Q})}function C(B,Q){m="PUSH";let X=fh($.location,B,Q);_=w()+1;let re=Fp(X,_),he=$.createHref(X);try{f.pushState(re,"",he)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;a.location.assign(he)}c&&g&&g({action:m,location:$.location,delta:1})}function O(B,Q){m="REPLACE";let X=fh($.location,B,Q);_=w();let re=Fp(X,_),he=$.createHref(X);f.replaceState(re,"",he),c&&g&&g({action:m,location:$.location,delta:0})}function z(B){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof B=="string"?B:ta(B);return X=X.replace(/ $/,"%20"),Ye(Q,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,Q)}let $={get action(){return m},get location(){return i(a,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Mp,R),g=B,()=>{a.removeEventListener(Mp,R),g=null}},createHref(B){return e(a,B)},createURL:z,encodeLocation(B){let Q=z(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:C,replace:O,go(B){return f.go(B)}};return $}function Mm(i,e,n="/"){return j_(i,e,n,!1)}function j_(i,e,n,s){let a=typeof e=="string"?$s(e):e,c=Gr(a.pathname||"/",n);if(c==null)return null;let f=Fm(i);$_(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let _=ev(c);m=J_(f[g],_,s)}return m}function Fm(i,e=[],n=[],s=""){let a=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=pr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Fm(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:X_(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let g of Um(c.path))a(c,f,g)}),e}function Um(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Um(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function $_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Y_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var H_=/^:[\w-]+$/,q_=3,W_=2,Q_=1,K_=10,G_=-2,Up=i=>i==="*";function X_(i,e){let n=i.split("/"),s=n.length;return n.some(Up)&&(s+=G_),e&&(s+=W_),n.filter(a=>!Up(a)).reduce((a,c)=>a+(H_.test(c)?q_:c===""?Q_:K_),s)}function Y_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function J_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=Kl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),C=g.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=Kl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:pr([c,R.pathname]),pathnameBase:iv(pr([c,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(c=pr([c,R.pathnameBase]))}return f}function Kl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Z_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:R},C)=>{if(w==="*"){let z=m[C]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const O=m[C];return R&&!O?_[w]=void 0:_[w]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function Z_(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ev(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function tv(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?$s(i):i;return{pathname:n?n.startsWith("/")?n:nv(n,e):e,search:sv(s),hash:ov(a)}}function nv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function nh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zm(i){let e=rv(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Bm(i,e,n,s=!1){let a;typeof i=="string"?a=$s(i):(a={...i},Ye(!a.pathname||!a.pathname.includes("?"),nh("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),nh("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),nh("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),R-=1;a.pathname=C.join("/")}m=R>=0?e[R]:"/"}let g=tv(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),iv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ov=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function av(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bm=["POST","PUT","PATCH","DELETE"];new Set(bm);var lv=["GET",...bm];new Set(lv);var Hs=H.createContext(null);Hs.displayName="DataRouter";var hu=H.createContext(null);hu.displayName="DataRouterState";var jm=H.createContext({isTransitioning:!1});jm.displayName="ViewTransition";var uv=H.createContext(new Map);uv.displayName="Fetchers";var cv=H.createContext(null);cv.displayName="Await";var Gn=H.createContext(null);Gn.displayName="Navigation";var fa=H.createContext(null);fa.displayName="Location";var vr=H.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Fh=H.createContext(null);Fh.displayName="RouteError";function hv(i,{relative:e}={}){Ye(da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Gn),{hash:a,pathname:c,search:f}=pa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:pr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function da(){return H.useContext(fa)!=null}function Ni(){return Ye(da(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(fa).location}var $m="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hm(i){H.useContext(Gn).static||H.useLayoutEffect(i)}function qm(){let{isDataRoute:i}=H.useContext(vr);return i?Iv():fv()}function fv(){Ye(da(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Hs),{basename:e,navigator:n}=H.useContext(Gn),{matches:s}=H.useContext(vr),{pathname:a}=Ni(),c=JSON.stringify(zm(s)),f=H.useRef(!1);return Hm(()=>{f.current=!0}),H.useCallback((g,_={})=>{if(Wn(f.current,$m),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=Bm(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}H.createContext(null);function pa(i,{relative:e}={}){let{matches:n}=H.useContext(vr),{pathname:s}=Ni(),a=JSON.stringify(zm(n));return H.useMemo(()=>Bm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function dv(i,e){return Wm(i,e)}function Wm(i,e,n,s){var Q;Ye(da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Gn),{matches:c}=H.useContext(vr),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let X=w&&w.path||"";Qm(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Ni(),C;if(e){let X=typeof e=="string"?$s(e):e;Ye(_==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),C=X}else C=R;let O=C.pathname||"/",z=O;if(_!=="/"){let X=_.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let $=Mm(i,{pathname:z});Wn(w||$!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Wn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=_v($&&$.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:pr([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:pr([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,n,s);return e&&B?H.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},B):B}function pv(){let i=Sv(),e=av(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,f)}var mv=H.createElement(pv,null),gv=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(vr.Provider,{value:this.props.routeContext},H.createElement(Fh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yv({routeContext:i,match:e,children:n}){let s=H.useContext(Hs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(vr.Provider,{value:i},n)}function _v(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:R}=n,C=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||C){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let R,C=!1,O=null,z=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||mv,f&&(m<0&&w===0?(Qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):m===w&&(C=!0,z=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),B=()=>{let Q;return R?Q=O:C?Q=z:_.route.Component?Q=H.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,H.createElement(yv,{match:_,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?H.createElement(gv,{location:n.location,revalidation:n.revalidation,component:O,error:R,children:B(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):B()},null)}function Uh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vv(i){let e=H.useContext(Hs);return Ye(e,Uh(i)),e}function Ev(i){let e=H.useContext(hu);return Ye(e,Uh(i)),e}function wv(i){let e=H.useContext(vr);return Ye(e,Uh(i)),e}function zh(i){let e=wv(i),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Tv(){return zh("useRouteId")}function Sv(){var s;let i=H.useContext(Fh),e=Ev("useRouteError"),n=zh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Iv(){let{router:i}=vv("useNavigate"),e=zh("useNavigate"),n=H.useRef(!1);return Hm(()=>{n.current=!0}),H.useCallback(async(a,c={})=>{Wn(n.current,$m),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var zp={};function Qm(i,e,n){!e&&!zp[i]&&(zp[i]=!0,Wn(!1,n))}H.memo(Rv);function Rv({routes:i,future:e,state:n}){return Wm(i,void 0,n,e)}function dh(i){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Av({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ye(!da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=$s(n));let{pathname:g="/",search:_="",hash:w="",state:R=null,key:C="default"}=n,O=H.useMemo(()=>{let z=Gr(g,f);return z==null?null:{location:{pathname:z,search:_,hash:w,state:R,key:C},navigationType:s}},[f,g,_,w,R,C,s]);return Wn(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(Gn.Provider,{value:m},H.createElement(fa.Provider,{children:e,value:O}))}function Cv({children:i,location:e}){return dv(ph(i),e)}function ph(i,e=[]){let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let c=[...e,a];if(s.type===H.Fragment){n.push.apply(n,ph(s.props.children,c));return}Ye(s.type===dh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ph(s.props.children,c)),n.push(f)}),n}var bl="get",jl="application/x-www-form-urlencoded";function fu(i){return i!=null&&typeof i.tagName=="string"}function Pv(i){return fu(i)&&i.tagName.toLowerCase()==="button"}function kv(i){return fu(i)&&i.tagName.toLowerCase()==="form"}function xv(i){return fu(i)&&i.tagName.toLowerCase()==="input"}function Vv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Dv(i,e){return i.button===0&&(!e||e==="_self")&&!Vv(i)}var Ol=null;function Nv(){if(Ol===null)try{new FormData(document.createElement("form"),0),Ol=!1}catch{Ol=!0}return Ol}var Lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rh(i){return i!=null&&!Lv.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):i}function Ov(i,e){let n,s,a,c,f;if(kv(i)){let m=i.getAttribute("action");s=m?Gr(m,e):null,n=i.getAttribute("method")||bl,a=rh(i.getAttribute("enctype"))||jl,c=new FormData(i)}else if(Pv(i)||xv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Gr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||bl,a=rh(i.getAttribute("formenctype"))||rh(m.getAttribute("enctype"))||jl,c=new FormData(m,i),!Nv()){let{name:_,type:w,value:R}=i;if(w==="image"){let C=_?`${_}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else _&&c.append(_,R)}}else{if(fu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bl,s=null,a=jl,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Bh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Mv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Uv(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await Mv(c,n);return f.links?f.links():[]}return[]}));return jv(s.flat(1).filter(Fv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Bp(i,e,n,s,a,c){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>f(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function zv(i,e){return Bv(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Bv(i){return[...new Set(i)]}function bv(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function jv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(bv(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function $v(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Hv(){let i=H.useContext(Hs);return Bh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qv(){let i=H.useContext(hu);return Bh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bh=H.createContext(void 0);bh.displayName="FrameworkContext";function Km(){let i=H.useContext(bh);return Bh(i,"You must render this element inside a <HydratedRouter> element"),i}function Wv(i,e){let n=H.useContext(bh),[s,a]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,C=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=Q=>{Q.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver($,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{a(!0)},z=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,C,{}]:[c,C,{onFocus:Qo(m,O),onBlur:Qo(g,z),onMouseEnter:Qo(_,O),onMouseLeave:Qo(w,z),onTouchStart:Qo(R,O)}]:[!1,C,{}]}function Qo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Qv({page:i,...e}){let{router:n}=Hv(),s=H.useMemo(()=>Mm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(Gv,{page:i,matches:s,...e}):null}function Kv(i){let{manifest:e,routeModules:n}=Km(),[s,a]=H.useState([]);return H.useEffect(()=>{let c=!1;return Uv(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function Gv({page:i,matches:e,...n}){let s=Ni(),{manifest:a,routeModules:c}=Km(),{loaderData:f,matches:m}=qv(),g=H.useMemo(()=>Bp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=H.useMemo(()=>Bp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,z=!1;if(e.forEach(B=>{var X;let Q=a.routes[B.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===B.route.id)&&B.route.id in f&&((X=c[B.route.id])!=null&&X.shouldRevalidate)||Q.hasClientLoader?z=!0:O.add(B.route.id))}),O.size===0)return[];let $=$v(i);return z&&O.size>0&&$.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[$.pathname+$.search]},[f,s,a,g,e,i,c]),R=H.useMemo(()=>zv(_,a),[_,a]),C=Kv(_);return H.createElement(H.Fragment,null,w.map(O=>H.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),R.map(O=>H.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),C.map(({key:O,link:z})=>H.createElement("link",{key:O,...z})))}function Xv(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.1.1")}catch{}function Yv({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=z_({window:n,v5Compat:!0}));let a=s.current,[c,f]=H.useState({action:a.action,location:a.location}),m=H.useCallback(g=>{H.startTransition(()=>f(g))},[f]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement(Av,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ym=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:g,to:_,preventScrollReset:w,viewTransition:R,...C},O){let{basename:z}=H.useContext(Gn),$=typeof _=="string"&&Xm.test(_),B,Q=!1;if(typeof _=="string"&&$&&(B=_,Gm))try{let I=new URL(window.location.href),k=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=Gr(k.pathname,z);k.origin===I.origin&&D!=null?_=D+k.search+k.hash:Q=!0}catch{Wn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=hv(_,{relative:a}),[re,he,Re]=Wv(s,C),we=tE(_,{replace:f,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||we(I)}let T=H.createElement("a",{...C,...Re,href:B||X,onClick:Q||c?e:x,ref:Xv(O,he),target:g,"data-discover":!$&&n==="render"?"true":void 0});return re&&!$?H.createElement(H.Fragment,null,T,H.createElement(Qv,{page:X})):T});Ym.displayName="Link";var Jv=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:g,..._},w){let R=pa(f,{relative:_.relative}),C=Ni(),O=H.useContext(hu),{navigator:z,basename:$}=H.useContext(Gn),B=O!=null&&oE(R)&&m===!0,Q=z.encodeLocation?z.encodeLocation(R).pathname:R.pathname,X=C.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&$&&(re=Gr(re,$)||re);const he=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Re=X===Q||!a&&X.startsWith(Q)&&X.charAt(he)==="/",we=re!=null&&(re===Q||!a&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),x={isActive:Re,isPending:we,isTransitioning:B},T=Re?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Re?"active":null,we?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return H.createElement(Ym,{..._,"aria-current":T,className:I,ref:w,style:k,to:f,viewTransition:m},typeof g=="function"?g(x):g)});Jv.displayName="NavLink";var Zv=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=bl,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:R,...C},O)=>{let z=iE(),$=sE(m,{relative:_}),B=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&Xm.test(m),X=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,Re=(he==null?void 0:he.getAttribute("formmethod"))||f;z(he||re.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:R})};return H.createElement("form",{ref:O,method:B,action:$,onSubmit:s?g:X,...C,"data-discover":!Q&&i==="render"?"true":void 0})});Zv.displayName="Form";function eE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(i){let e=H.useContext(Hs);return Ye(e,eE(i)),e}function tE(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=qm(),g=Ni(),_=pa(i,{relative:c});return H.useCallback(w=>{if(Dv(w,e)){w.preventDefault();let R=n!==void 0?n:ta(g)===ta(_);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[g,m,_,n,s,e,i,a,c,f])}var nE=0,rE=()=>`__${String(++nE)}__`;function iE(){let{router:i}=Jm("useSubmit"),{basename:e}=H.useContext(Gn),n=Tv();return H.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:g,body:_}=Ov(s,e);if(a.navigate===!1){let w=a.fetcherKey||rE();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function sE(i,{relative:e}={}){let{basename:n}=H.useContext(Gn),s=H.useContext(vr);Ye(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...pa(i||".",{relative:e})},f=Ni();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:pr([n,c.pathname])),ta(c)}function oE(i,e={}){let n=H.useContext(jm);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jm("useViewTransitionState"),a=pa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kl(a.pathname,f)!=null||Kl(a.pathname,c)!=null}new TextEncoder;var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},aE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let C=(m&15)<<2|_>>6,O=_&63;g||(O=64,f||(C=64)),s.push(n[w],n[R],n[C],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new lE;const C=c<<2|m>>4;if(s.push(C),_!==64){const O=m<<4&240|_>>2;if(s.push(O),R!==64){const z=_<<6&192|R;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uE=function(i){const e=Zm(i);return eg.encodeByteArray(e,!0)},Gl=function(i){return uE(i).replace(/\./g,"")},cE=function(i){try{return eg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=()=>hE().__FIREBASE_DEFAULTS__,dE=()=>{if(typeof process>"u"||typeof bp>"u")return;const i=bp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},pE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&cE(i[1]);return e&&JSON.parse(e)},jh=()=>{try{return fE()||dE()||pE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mE=i=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},gE=i=>{const e=mE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},tg=()=>{var i;return(i=jh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Gl(JSON.stringify(n)),Gl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EE(){var i;const e=(i=jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wE(){return!EE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="FirebaseError";class qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=IE,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?RE(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new qs(a,m,s)}}function RE(i,e){return i.replace(AE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AE=/\{\$([^}]+)}/g;function mh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(jp(c)&&jp(f)){if(!mh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function jp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){return i&&i._delegate?i._delegate:i}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kE(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PE(i){return i===ki?void 0:i}function kE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const VE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},DE=De.INFO,NE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},LE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=NE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=DE,this._logHandler=LE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const OE=(i,e)=>e.some(n=>i instanceof n);let $p,Hp;function ME(){return $p||($p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FE(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ig=new WeakMap,gh=new WeakMap,sg=new WeakMap,ih=new WeakMap,$h=new WeakMap;function UE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Wr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ig.set(n,i)}).catch(()=>{}),$h.set(e,i),e}function zE(i){if(gh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});gh.set(i,e)}let yh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return gh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function BE(i){yh=i(yh)}function bE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(sh(this),e,...n);return sg.set(s,e.sort?e.sort():[e]),Wr(s)}:FE().includes(i)?function(...e){return i.apply(sh(this),e),Wr(ig.get(this))}:function(...e){return Wr(i.apply(sh(this),e))}}function jE(i){return typeof i=="function"?bE(i):(i instanceof IDBTransaction&&zE(i),OE(i,ME())?new Proxy(i,yh):i)}function Wr(i){if(i instanceof IDBRequest)return UE(i);if(ih.has(i))return ih.get(i);const e=jE(i);return e!==i&&(ih.set(i,e),$h.set(e,i)),e}const sh=i=>$h.get(i);function $E(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Wr(f.result),g.oldVersion,g.newVersion,Wr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const HE=["get","getKey","getAll","getAllKeys","count"],qE=["put","add","delete","clear"],oh=new Map;function qp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(oh.get(e))return oh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=qE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||HE.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return oh.set(e,c),c}BE(i=>({...i,get:(e,n,s)=>qp(e,n)||i.get(e,n,s),has:(e,n)=>!!qp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _h="@firebase/app",Wp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new rg("@firebase/app"),KE="@firebase/app-compat",GE="@firebase/analytics-compat",XE="@firebase/analytics",YE="@firebase/app-check-compat",JE="@firebase/app-check",ZE="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",rw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",ow="@firebase/installations",aw="@firebase/installations-compat",lw="@firebase/messaging",uw="@firebase/messaging-compat",cw="@firebase/performance",hw="@firebase/performance-compat",fw="@firebase/remote-config",dw="@firebase/remote-config-compat",pw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",yw="@firebase/vertexai",_w="@firebase/firestore-compat",vw="firebase",Ew="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="[DEFAULT]",ww={[_h]:"fire-core",[KE]:"fire-core-compat",[XE]:"fire-analytics",[GE]:"fire-analytics-compat",[JE]:"fire-app-check",[YE]:"fire-app-check-compat",[ZE]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[ow]:"fire-iid",[aw]:"fire-iid-compat",[lw]:"fire-fcm",[uw]:"fire-fcm-compat",[cw]:"fire-perf",[hw]:"fire-perf-compat",[fw]:"fire-rc",[dw]:"fire-rc-compat",[pw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[_w]:"fire-fst-compat",[yw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new Map,Tw=new Map,Eh=new Map;function Qp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Jl(i){const e=i.name;if(Eh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,i);for(const n of Yl.values())Qp(n,i);for(const n of Tw.values())Qp(n,i);return!0}function Sw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new ng("app","Firebase",Iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=Ew;function og(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=tg()),!n)throw Qr.create("no-options");const c=Yl.get(a);if(c){if(mh(n,c.options)&&mh(s,c.config))return c;throw Qr.create("duplicate-app",{appName:a})}const f=new xE(a);for(const g of Eh.values())f.addComponent(g);const m=new Rw(n,s,f);return Yl.set(a,m),m}function Cw(i=vh){const e=Yl.get(i);if(!e&&i===vh&&tg())return og();if(!e)throw Qr.create("no-app",{appName:i});return e}function Ls(i,e,n){var s;let a=(s=ww[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}Jl(new na(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebase-heartbeat-database",kw=1,ra="firebase-heartbeat-store";let ah=null;function ag(){return ah||(ah=$E(Pw,kw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),ah}async function xw(i){try{const n=(await ag()).transaction(ra),s=await n.objectStore(ra).get(lg(i));return await n.done,s}catch(e){if(e instanceof qs)gr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Kp(i,e){try{const s=(await ag()).transaction(ra,"readwrite");await s.objectStore(ra).put(e,lg(i)),await s.done}catch(n){if(n instanceof qs)gr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function lg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=1024,Dw=30*24*60*60*1e3;class Nw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ow(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Dw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gp(),{heartbeatsToSend:s,unsentEntries:a}=Lw(this._heartbeatsCache.heartbeats),c=Gl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return gr.warn(n),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function Lw(i,e=Vw){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Xp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Xp(i){return Gl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(i){Jl(new na("platform-logger",e=>new WE(e),"PRIVATE")),Jl(new na("heartbeat",e=>new Nw(e),"PRIVATE")),Ls(_h,Wp,i),Ls(_h,Wp,"esm2017"),Ls("fire-js","")}Mw("");var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,ug;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,D,L){for(var A=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)A[tt-2]=arguments[tt];return T.prototype[D].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],D=x.g[2];var L=x.g[3],A=T+(L^I&(D^L))+k[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=L+(D^T&(I^D))+k[1]+3905402710&4294967295,L=T+(A<<12&4294967295|A>>>20),A=D+(I^L&(T^I))+k[2]+606105819&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(T^D&(L^T))+k[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(L^I&(D^L))+k[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=L+(D^T&(I^D))+k[5]+1200080426&4294967295,L=T+(A<<12&4294967295|A>>>20),A=D+(I^L&(T^I))+k[6]+2821735955&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(T^D&(L^T))+k[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(L^I&(D^L))+k[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=L+(D^T&(I^D))+k[9]+2336552879&4294967295,L=T+(A<<12&4294967295|A>>>20),A=D+(I^L&(T^I))+k[10]+4294925233&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(T^D&(L^T))+k[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(L^I&(D^L))+k[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=L+(D^T&(I^D))+k[13]+4254626195&4294967295,L=T+(A<<12&4294967295|A>>>20),A=D+(I^L&(T^I))+k[14]+2792965006&4294967295,D=L+(A<<17&4294967295|A>>>15),A=I+(T^D&(L^T))+k[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(D^L&(I^D))+k[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(T^I))+k[6]+3225465664&4294967295,L=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(L^T))+k[11]+643717713&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^T&(D^L))+k[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^L&(I^D))+k[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(T^I))+k[10]+38016083&4294967295,L=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(L^T))+k[15]+3634488961&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^T&(D^L))+k[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^L&(I^D))+k[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(T^I))+k[14]+3275163606&4294967295,L=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(L^T))+k[3]+4107603335&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^T&(D^L))+k[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^L&(I^D))+k[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=L+(I^D&(T^I))+k[2]+4243563512&4294967295,L=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(L^T))+k[7]+1735328473&4294967295,D=L+(A<<14&4294967295|A>>>18),A=I+(L^T&(D^L))+k[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(I^D^L)+k[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=L+(T^I^D)+k[8]+2272392833&4294967295,L=T+(A<<11&4294967295|A>>>21),A=D+(L^T^I)+k[11]+1839030562&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^T)+k[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^L)+k[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=L+(T^I^D)+k[4]+1272893353&4294967295,L=T+(A<<11&4294967295|A>>>21),A=D+(L^T^I)+k[7]+4139469664&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^T)+k[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^L)+k[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=L+(T^I^D)+k[0]+3936430074&4294967295,L=T+(A<<11&4294967295|A>>>21),A=D+(L^T^I)+k[3]+3572445317&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^T)+k[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^L)+k[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=L+(T^I^D)+k[12]+3873151461&4294967295,L=T+(A<<11&4294967295|A>>>21),A=D+(L^T^I)+k[15]+530742520&4294967295,D=L+(A<<16&4294967295|A>>>16),A=I+(D^L^T)+k[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(D^(I|~L))+k[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=L+(I^(T|~D))+k[7]+1126891415&4294967295,L=T+(A<<10&4294967295|A>>>22),A=D+(T^(L|~I))+k[14]+2878612391&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~T))+k[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~L))+k[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=L+(I^(T|~D))+k[3]+2399980690&4294967295,L=T+(A<<10&4294967295|A>>>22),A=D+(T^(L|~I))+k[10]+4293915773&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~T))+k[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~L))+k[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=L+(I^(T|~D))+k[15]+4264355552&4294967295,L=T+(A<<10&4294967295|A>>>22),A=D+(T^(L|~I))+k[6]+2734768916&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~T))+k[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~L))+k[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=L+(I^(T|~D))+k[11]+3174756917&4294967295,L=T+(A<<10&4294967295|A>>>22),A=D+(T^(L|~I))+k[2]+718787259&4294967295,D=L+(A<<15&4294967295|A>>>17),A=I+(L^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,D=this.h,L=0;L<T;){if(D==0)for(;L<=I;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(k[D++]=x.charCodeAt(L++),D==this.blockSize){a(this,k),D=0;break}}else for(;L<T;)if(k[D++]=x[L++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function f(x,T){this.h=T;for(var I=[],k=!0,D=x.length-1;0<=D;D--){var L=x[D]|0;k&&L==T||(I[D]=L,k=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return B(_(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return B(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),k=R,D=0;D<x.length;D+=8){var L=Math.min(8,x.length-D),A=parseInt(x.substring(D,D+L),T);8>L?(L=_(Math.pow(T,L)),k=k.j(L).add(_(A))):(k=k.j(I),k=k.add(_(A)))}return k}var R=g(0),C=g(1),O=g(16777216);i=f.prototype,i.m=function(){if($(this))return-B(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if($(this))return"-"+B(this).toString(x);for(var T=_(Math.pow(x,6)),I=this,k="";;){var D=he(I,T).g;I=Q(I,D.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=D,z(I))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=Q(this,x),$(x)?-1:z(x)?0:1};function B(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new f(I,~x.h).add(C)}i.abs=function(){return $(this)?B(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,D=0;D<=T;D++){var L=k+(this.i(D)&65535)+(x.i(D)&65535),A=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=A>>>16,L&=65535,A&=65535,I[D]=A<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(B(T))}i.j=function(x){if(z(this)||z(x))return R;if($(this))return $(x)?B(this).j(B(x)):B(B(this).j(x));if($(x))return B(this.j(B(x)));if(0>this.l(O)&&0>x.l(O))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var L=this.i(k)>>>16,A=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;I[2*k+2*D]+=A*kt,X(I,2*k+2*D),I[2*k+2*D+1]+=L*kt,X(I,2*k+2*D+1),I[2*k+2*D+1]+=A*tt,X(I,2*k+2*D+1),I[2*k+2*D+2]+=L*tt,X(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new f(I,0)};function X(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function re(x,T){this.g=x,this.h=T}function he(x,T){if(z(T))throw Error("division by zero");if(z(x))return new re(R,R);if($(x))return T=he(B(x),T),new re(B(T.g),B(T.h));if($(T))return T=he(x,B(T)),new re(B(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=C,k=T;0>=k.l(x);)I=Re(I),k=Re(k);var D=we(I,1),L=we(k,1);for(k=we(k,2),I=we(I,2);!z(k);){var A=L.add(k);0>=A.l(x)&&(D=D.add(I),L=A),k=we(k,1),I=we(I,1)}return T=Q(x,D.j(T)),new re(D,T)}for(D=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(I),A=L.j(T);$(A)||0<A.l(x);)I-=k,L=_(I),A=L.j(T);z(L)&&(L=C),D=D.add(L),x=Q(x,A)}return new re(D,x)}i.A=function(x){return he(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new f(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new f(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new f(I,this.h^x.h)};function Re(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(I,x.h)}function we(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,D=[],L=0;L<k;L++)D[L]=0<T?x.i(L+I)>>>T|x.i(L+I+1)<<32-T:x.i(L+I);return new f(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ug=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Vi=f}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cg,Ko,hg,$l,wh,fg,dg,pg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var j=y++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function R(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function C(l,d,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,C.apply(null,arguments)}function O(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function z(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var ee=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ee[Ue-2]=arguments[Ue];return d.prototype[M].apply(E,ee)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function B(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let ee=0;ee<j;ee++)l[M+ee]=E[ee]}else l.push(E)}}class Q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var Re=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function we(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){m.setTimeout(()=>{throw l},0)}function A(){var l=fe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const E=kt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,te=!1,fe=new tt,ie=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(N)}};var N=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){L(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Se(l,d){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Re){e:{try{he(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}z(Se,ce);var ke={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function be(l,d,y,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=M,this.key=++Me,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xn(l){this.src=l,this.g={},this.h=0}Xn.prototype.add=function(l,d,y,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=Er(l,d,E,M);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new be(d,this.src,j,!!E,M),d.fa=y,l.push(d)),d};function Ui(l,d){var y=d.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Er(l,d,y,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==d&&j.capture==!!y&&j.ha==E)return M}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),zi={};function Xs(l,d,y,E,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Xs(l,d[j],y,E,M);return null}return y=Zs(y),l&&l[Oe]?l.K(d,y,_(E)?!!E.capture:!1,M):Ys(l,d,y,!1,E,M)}function Ys(l,d,y,E,M,j){if(!d)throw Error("Invalid event type");var ee=_(M)?!!M.capture:!!M,Ue=bi(l);if(Ue||(l[ti]=Ue=new Xn(l)),y=Ue.add(d,y,E,ee,j),y.proxy)return y;if(E=va(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Te||(M=ee),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(Jn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function va(){function l(y){return d.call(l.src,l.listener,y)}const d=Js;return l}function Bi(l,d,y,E,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)Bi(l,d[j],y,E,M);else E=_(E)?!!E.capture:!!E,y=Zs(y),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],y=Er(j,y,E,M),-1<y&&(gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=bi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Er(d,y,E,M)),(y=-1<l?d[l]:null)&&Yn(y))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Ui(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Jn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=bi(d))?(Ui(y,l),y.h==0&&(y.src=null,d[ti]=null)):gt(l)}}}function Jn(l){return l in zi?zi[l]:zi[l]="on"+l}function Js(l,d){if(l.da)l=!0;else{d=new Se(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Yn(l),l=y.call(E,d)}return l}function bi(l){return l=l[ti],l instanceof Xn?l:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(l){return typeof l=="function"?l:(l[ji]||(l[ji]=function(d){return l.handleEvent(d)}),l[ji])}function lt(){W.call(this),this.i=new Xn(this),this.M=this,this.F=null}z(lt,W),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,d,y,E){Bi(this,l,d,y,E)};function ut(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ce(d,l);else if(d instanceof ce)d.target=d.target||l;else{var M=d;d=new ce(E,l),k(d,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var ee=d.g=y[j];M=Zn(ee,E,!0,d)&&M}if(ee=d.g=l,M=Zn(ee,E,!0,d)&&M,M=Zn(ee,E,!1,d)&&M,y)for(j=0;j<y.length;j++)ee=d.g=y[j],M=Zn(ee,E,!1,d)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)gt(y[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},lt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function Zn(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var ee=d[j];if(ee&&!ee.da&&ee.capture==y){var Ue=ee.listener,ct=ee.ha||ee.src;ee.fa&&Ui(l.i,ee),M=Ue.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function eo(l,d,y){if(typeof l=="function")y&&(l=C(l,y));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function wr(l){l.g=eo(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ni extends W{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(l){W.call(this),this.h=l,this.g={}}z(ri,W);var to=[];function no(l){we(l.g,function(d,y){this.g.hasOwnProperty(y)&&Yn(d)},l),l.g={}}ri.prototype.N=function(){ri.aa.N.call(this),no(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=m.JSON.stringify,io=m.JSON.parse,so=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ii(){}ii.prototype.h=null;function $i(l){return l.h||(l.h=l.i())}function Hi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){ce.call(this,"d")}z(Nn,ce);function qi(){ce.call(this,"c")}z(qi,ce);var Ln={},oo=null;function si(){return oo=oo||new lt}Ln.La="serverreachability";function ao(l){ce.call(this,Ln.La,l)}z(ao,ce);function er(l){const d=si();ut(d,new ao(d))}Ln.STAT_EVENT="statevent";function lo(l,d){ce.call(this,Ln.STAT_EVENT,l),this.stat=d}z(lo,ce);function nt(l){const d=si();ut(d,new lo(d,l))}Ln.Ma="timingevent";function Wi(l,d){ce.call(this,Ln.Ma,l),this.size=d}z(Wi,ce);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function ai(l,d,y,E,M,j){l.info(function(){if(l.g)if(j)for(var ee="",Ue=j.split("&"),ct=0;ct<Ue.length;ct++){var xe=Ue[ct].split("=");if(1<xe.length){var yt=xe[0];xe=xe[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+xe+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+y+`
`+ee})}function Qi(l,d,y,E,M,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+y+`
`+j+" "+ee})}function _n(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ru(l,y)+(E?" "+E:"")})}function uo(l,d){l.info(function(){return"TIMEOUT: "+d})}oi.prototype.info=function(){};function Ru(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return ro(y)}catch{return d}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function li(){}z(li,ii),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},vn=new li;function En(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}var co={},Gi={};function Xi(l,d,y){l.L=1,l.v=Ar(Jt(d)),l.m=y,l.P=!0,ho(l,null)}function ho(l,d){l.F=Date.now(),je(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Pr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new wa,l.g=za(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ni(C(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(to[0]=M.toString()),M=to);for(var j=0;j<M.length;j++){var ee=Xs(y,M[j],E||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),er(),ai(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||st!=4||d==7||(d==8||0>=ln?er(3):er(2)),ui(this);var y=this.g.Z();this.X=y;t:if(Ta(this)){var E=_o(this.g);l="";var M=E.length,j=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Tr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Qi(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ct=this.g;if((Ue=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ue)){var xe=Ue;break t}}xe=null}if(y=xe)_n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,y);else{this.o=!1,this.s=3,nt(12),on(this),Tr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=Au(this,ee),en==Gi){st==4&&(this.s=4,nt(14),y=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(en==co){this.s=4,nt(15),_n(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else _n(this.i,this.l,en,null),fo(this,en);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)_n(this.i,this.l,ee,"[Invalid Chunked Response]"),on(this),Tr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Eo(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,ee,null),fo(this,ee);st==4&&on(this),this.o&&!this.J&&(st==4?as(this.j,this):(this.o=!1,je(this)))}else ns(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),on(this),Tr(this)}}}catch{}finally{}};function Ta(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Au(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Gi:(y=Number(d.substring(y,E)),isNaN(y)?co:(E+=1,E+y>d.length?Gi:(d=d.slice(E,E+y),l.C=E+y,d)))}En.prototype.cancel=function(){this.J=!0,on(this)};function je(l){l.S=Date.now()+l.I,Sa(l,l.I)}function Sa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(C(l.ba,l),d)}function ui(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(uo(this.i,this.A),this.L!=2&&(er(),nt(17)),on(this),this.s=2,Tr(this)):Sa(this,this.S-l)};function Tr(l){l.j.G==0||l.J||as(l.j,l)}function on(l){ui(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,no(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function fo(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)os(y),Rn(y);else break e;ss(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(C(y.Za,y),6e3));if(1>=Ra(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else sr(y,11)}else if((l.K||y.g==l)&&os(y),!X(d))for(M=y.Da.g.parse(d),d=0;d<M.length;d++){let xe=M[d];if(y.T=xe[0],xe=xe[1],y.G==2)if(xe[0]=="c"){y.K=xe[1],y.ia=xe[2];const yt=xe[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=xe[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const ln=xe[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const gi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var j=E.h;j.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(po(j,j.h),j.h=null))}if(E.D){const us=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;us&&(E.ya=us,Be(E.I,E.D,us))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ua(E,E.J?E.ia:null,E.W),ee.K){Aa(E.h,ee);var Ue=ee,ct=E.L;ct&&(Ue.I=ct),Ue.B&&(ui(Ue),je(Ue)),E.g=ee}else mi(E);0<y.i.length&&Un(y)}else xe[0]!="stop"&&xe[0]!="close"||sr(y,7);else y.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?sr(y,7):St(y):xe[0]!="noop"&&y.l&&y.l.ta(xe),y.v=0)}}er(4)}catch{}}var Ia=class{constructor(l,d){this.g=l,this.map=d}};function ci(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ra(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function po(l,d){l.g?l.g.add(d):l.h=d}function Aa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ci.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ca(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function Yi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Ji(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Sr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Ji(l),E=Yi(l),M=E.length,j=0;j<M;j++)d.call(void 0,E[j],y&&y[j],l)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var j=l[y].substring(0,E);M=l[y].substring(E+1)}else j=l[y];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,fi(this,l.j),this.o=l.o,this.g=l.g,Ir(this,l.s),this.l=l.l;var d=l.i,y=new On;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Rr(this,y),this.m=l.m}else l&&(d=String(l).match(hi))?(this.h=!1,fi(this,d[1]||"",!0),this.o=Ce(d[2]||""),this.g=Ce(d[3]||"",!0),Ir(this,d[4]),this.l=Ce(d[5]||"",!0),Rr(this,d[6]||"",!0),this.m=Ce(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}tr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Cr(d,Zi,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Cr(d,Zi,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Cr(y,y.charAt(0)=="/"?xa:ka,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Cr(y,mo)),l.join("")};function Jt(l){return new tr(l)}function fi(l,d,y){l.j=y?Ce(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ir(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Rr(l,d,y){d instanceof On?(l.i=d,Mn(l.i,l.h)):(y||(d=Cr(d,Va)),l.i=new On(d,l.h))}function Be(l,d,y){l.i.set(d,y)}function Ar(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Pa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Pa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zi=/[#\/\?@]/g,ka=/[#\?:]/g,xa=/[#\?]/g,Va=/[#\?@]/g,mo=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Cu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,d){Tt(this),this.i=null,l=an(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function wn(l,d){Tt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Tt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const M=l[E];for(let j=0;j<M.length;j++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=an(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Pr(l,d,y){wn(l,d),0<y.length&&(l.i=null,l.g.set(an(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=j;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),Pr(this,M,y))},l)),l.j=d}function Pu(l,d){const y=new oi;if(m.Image){const E=new Image;E.onload=O(jt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=O(jt,y,"TestLoadImage: error",!1,d,E),E.onabort=O(jt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=O(jt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Da(l,d){const y=new oi,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?jt(y,"TestPingServer: ok",!0,d):jt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),jt(y,"TestPingServer: error",!1,d)})}function jt(l,d,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function ku(){this.g=new so}function Na(l,d,y){const E=y||"";try{Sr(l,function(M,j){let ee=M;_(M)&&(ee=ro(M)),d.push(E+j+"="+encodeURIComponent(ee))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}z(nr,ii),nr.prototype.g=function(){return new di(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function di(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(di,lt),i=di.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;La(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function La(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&La(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let d="";return we(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function kr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=rr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,d,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Qe,lt);var xu=/^https?$/i,go=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?$i(this.o):$i(vn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){pi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(go,d,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){pi(this,j)}};function pi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,es(l),Zt(l)}function es(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?yo(this):this.bb())},i.bb=function(){yo(this)};function yo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)eo(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=ee===0){var M=String(l.D).match(hi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!xu.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<$t(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",es(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){ts(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function ts(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),io(d)}};function _o(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(X(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=d[M]||[];d[M]=j,j.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function vo(l){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(l&&l.concurrentRequestLimit),this.Da=new ku,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=vo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ua(this,null,this.W),Un(this)};function St(l){if(rs(l),l.G==3){var d=l.U++,y=Jt(l.I);if(Be(y,"SID",l.K),Be(y,"RID",d),Be(y,"TYPE","terminate"),ir(l,y),d=new En(l,l.j,d),d.L=2,d.v=Ar(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=za(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Fa(l)}function Rn(l){l.g&&(Eo(l),l.g.cancel(),l.g=null)}function rs(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),os(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ze||ie(),te||(ze(),te=!0),fe.add(d,l),l.B=0}}function Vu(l,d){return Ra(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(C(l.Ga,l,d),Ma(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=xr(this,M,d),y=Jt(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),ir(this,y),j&&(this.O?d="headers="+encodeURIComponent(String(rr(j)))+"&"+d:this.m&&kr(y,this.m,j)),po(this.h,M),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",d),Be(y,"SID","null"),M.T=!0,Xi(M,y,null)):Xi(M,y,d),this.G=2}}else this.G==3&&(l?is(this,l):this.i.length==0||Yt(this.h)||is(this))};function is(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),ir(l,E),l.m&&l.o&&kr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=xr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),po(l.h,y),Xi(y,E,d)}function ir(l,d){l.H&&we(l.H,function(y,E){Be(d,E,y)}),l.l&&Sr({},function(y,E){Be(d,E,y)})}function xr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?C(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=M[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let Ue=!0;for(let ct=0;ct<y;ct++){let xe=M[ct].g;const yt=M[ct].map;if(xe-=j,0>xe)j=Math.max(0,M[ct].g-100),Ue=!1;else try{Na(yt,ee,"req"+xe+"_")}catch{E&&E(yt)}}if(Ue){E=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function mi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ze||ie(),te||(ze(),te=!0),fe.add(d,l),l.v=0}}function ss(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(C(l.Fa,l),Ma(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(C(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Oa(this))};function Eo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Oa(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),ir(l,d),l.m&&l.o&&kr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ar(Jt(d)),y.m=null,y.P=!0,ho(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),ss(this),nt(19))};function os(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function as(l,d){var y=null;if(l.g==d){os(l),Eo(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,Aa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=si(),ut(E,new Wi(E,y)),Un(l)}else mi(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Vu(l,d)||E==2&&ss(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),M){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Ma(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function sr(l,d){if(l.j.info("Error code "+d),d==2){var y=C(l.fb,l),E=l.Xa;const M=!E;E=new tr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fi(E,"https"),Ar(E),M?Pu(E.toString(),y):Da(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),Fa(l),rs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Fa(l){if(l.G=0,l.ka=[],l.l){const d=Ca(l.h);(d.length!=0||l.i.length!=0)&&(B(l.ka,d),B(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ua(l,d,y){var E=y instanceof tr?Jt(y):new tr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Ir(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new tr(null);E&&fi(j,E),d&&(j.g=d),M&&Ir(j,M),y&&(j.l=y),E=j}return y=l.D,d=l.ya,y&&d&&Be(E,y,d),Be(E,"VER",l.la),ir(l,E),E}function za(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new nr({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}i=wo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ls(){}ls.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){lt.call(this),this.g=new vo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!X(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}z(zt,lt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ro(l),l=y);d.i.push(new Ia(d.Ya++,l)),d.G==3&&Un(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function Ba(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}z(Ba,Nn);function ba(){qi.call(this),this.status=1}z(ba,qi);function zn(l){this.g=l}z(zn,wo),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new Ba(l))},zn.prototype.sa=function(l){ut(this.g,new ba)},zn.prototype.ra=function(){ut(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,pg=function(){return new ls},dg=function(){return si()},fg=Ln,wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,$l=Ki,Ea.COMPLETE="complete",hg=Ea,Hi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ko=Hi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,cg=Qe}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const Jp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new rg("@firebase/firestore");function xs(){return Di.logLevel}function se(i,...e){if(Di.logLevel<=De.DEBUG){const n=e.map(Hh);Di.debug(`Firestore (${Ws}): ${i}`,...n)}}function yr(i,...e){if(Di.logLevel<=De.ERROR){const n=e.map(Hh);Di.error(`Firestore (${Ws}): ${i}`,...n)}}function Ms(i,...e){if(Di.logLevel<=De.WARN){const n=e.map(Hh);Di.warn(`Firestore (${Ws}): ${i}`,...n)}}function Hh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i="Unexpected state"){const e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function Fe(i,e){i||_e()}function Ee(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Uw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new mg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Mt(e)}}class Bw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Bw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new jw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Hw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Fs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new pt(0,0))}static max(){return new ve(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(),s===void 0?s=e.length-n:s>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends ia{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new et(n)}static emptyPath(){return new et([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends ia{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}function Ww(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Xr(a,ge.empty(),e)}function Qw(i){return new Xr(i.readTime,i.key,-1)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(ve.min(),ge.empty(),-1)}static max(){return new Xr(ve.max(),ge.empty(),-1)}}function Kw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==Gw)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},g=>s(g))}),f=!0,c===a&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(a=>a?q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new q((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new q((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Yw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ks(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}du.oe=-1;function pu(i){return i==null}function Zl(i){return i===0&&1/i==-1/0}function Jw(i){return typeof i=="number"&&Number.isInteger(i)&&!Zl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Zp(e)),e=eT(i.get(n),e);return Zp(e)}function eT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Zp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Li(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}}class Fl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tm(this.data.getIterator())}getIteratorFrom(e){return new tm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class tm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _g("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const tT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(i){if(Fe(!!i),typeof i=="string"){let e=0;const n=tT.exec(i);if(Fe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mu(i){const e=i.mapValue.fields.__previous_value__;return qh(e)?mu(e):e}function sa(i){const e=Yr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,a,c,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qh(i)?4:iT(i)?9007199254740991:rT(i)?10:11:_e()}function Qn(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sa(i).isEqual(sa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Yr(a.timestampValue),m=Yr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Jr(a.bytesValue).isEqual(Jr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),m=it(c.doubleValue);return f===m?Zl(f)===Zl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Fs(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(em(f)!==em(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Qn(f[g],m[g])))return!1;return!0}(i,e);default:return _e()}}function aa(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function Us(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),g=it(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return nm(i.timestampValue,e.timestampValue);case 4:return nm(sa(i),sa(e));case 5:return Pe(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Jr(c),g=Jr(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=Pe(m[_],g[_]);if(w!==0)return w}return Pe(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Pe(it(c.latitude),it(f.latitude));return m!==0?m:Pe(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return rm(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,_,w;const R=c.fields||{},C=f.fields||{},O=(m=R.value)===null||m===void 0?void 0:m.arrayValue,z=(g=C.value)===null||g===void 0?void 0:g.arrayValue,$=Pe(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((w=z==null?void 0:z.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:rm(O,z)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ul.mapValue&&f===Ul.mapValue)return 0;if(c===Ul.mapValue)return 1;if(f===Ul.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=f.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const C=Pe(g[R],w[R]);if(C!==0)return C;const O=Us(m[g[R]],_[w[R]]);if(O!==0)return O}return Pe(g.length,w.length)}(i.mapValue,e.mapValue);default:throw _e()}}function nm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=Yr(i),s=Yr(e),a=Pe(n.seconds,s.seconds);return a!==0?a:Pe(n.nanos,s.nanos)}function rm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Us(n[a],s[a]);if(c)return c}return Pe(n.length,s.length)}function zs(i){return Th(i)}function Th(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Th(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Th(n.fields[f])}`;return a+"}"}(i.mapValue):_e()}function Hl(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mu(i);return e?16+Hl(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Hl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Li(s.fields,(c,f)=>{a+=c.length+Hl(f)}),a}(i.mapValue);default:throw _e()}}function Sh(i){return!!i&&"integerValue"in i}function Wh(i){return!!i&&"arrayValue"in i}function im(i){return!!i&&"nullValue"in i}function sm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ql(i){return!!i&&"mapValue"in i}function rT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Li(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function iT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Yo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Li(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new mn(Yo(this.value))}}function vg(i){const e=[];return Li(i.fields,(n,s)=>{const a=new Ct([n]);if(ql(s)){const c=vg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,ve.min(),ve.min(),ve.min(),mn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,ve.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,ve.min(),ve.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ve.min(),ve.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.position=e,this.inclusive=n}}function om(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Us(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function am(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{}class dt extends Eg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aT(e,n,s):n==="array-contains"?new cT(e,s):n==="in"?new hT(e,s):n==="not-in"?new fT(e,s):n==="array-contains-any"?new dT(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lT(e,s):new uT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Eg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return wg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wg(i){return i.op==="and"}function Tg(i){return oT(i)&&wg(i)}function oT(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function Ih(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+zs(i.value);if(Tg(i))return i.filters.map(e=>Ih(e)).join(",");{const e=i.filters.map(n=>Ih(n)).join(",");return`${i.op}(${e})`}}function Sg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Sg(f,a.filters[m]),!0):!1}(i,e):void _e()}function Ig(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ig).join(" ,")+"}"}(i):"Filter"}class aT extends dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class lT extends dt{constructor(e,n){super(e,"in",n),this.keys=Rg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uT extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Rg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class cT extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wh(n)&&aa(n.arrayValue,this.value)}}class hT extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class fT extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}}class dT extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function lm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new pT(i,e,n,s,a,c,f)}function Qh(i){const e=Ee(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ih(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>zs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>zs(s)).join(",")),e.ue=n}return e.ue}function Kh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Sg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!am(i.startAt,e.startAt)&&am(i.endAt,e.endAt)}function Rh(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mT(i,e,n,s,a,c,f,m){return new gu(i,e,n,s,a,c,f,m)}function Gh(i){return new gu(i)}function um(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function gT(i){return i.collectionGroup!==null}function Jo(i){const e=Ee(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new mt(Ct.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new tu(c,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new tu(Ct.keyField(),s))}return e.ce}function Hn(i){const e=Ee(i);return e.le||(e.le=yT(e,Jo(i))),e.le}function yT(i,e){if(i.limitType==="F")return lm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new tu(a.field,c)});const n=i.endAt?new eu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new eu(i.startAt.position,i.startAt.inclusive):null;return lm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ah(i,e,n){return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function yu(i,e){return Kh(Hn(i),Hn(e))&&i.limitType===e.limitType}function Ag(i){return`${Qh(Hn(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ig(a)).join(", ")}]`),pu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>zs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>zs(a)).join(",")),`Target(${s})`}(Hn(i))}; limitType=${i.limitType})`}function _u(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Jo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,g){const _=om(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,Jo(s),a)||s.endAt&&!function(f,m,g){const _=om(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,Jo(s),a))}(i,e)}function _T(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cg(i){return(e,n)=>{let s=!1;for(const a of Jo(i)){const c=vT(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function vT(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(c,f,m){const g=f.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Us(g,_):_e()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return yg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Je(ge.comparator);function _r(){return ET}const Pg=new Je(ge.comparator);function Go(...i){let e=Pg;for(const n of i)e=e.insert(n.key,n);return e}function kg(i){let e=Pg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xi(){return Zo()}function xg(){return Zo()}function Zo(){return new Oi(i=>i.toString(),(i,e)=>i.isEqual(e))}const wT=new Je(ge.comparator),TT=new mt(ge.comparator);function Ae(...i){let e=TT;for(const n of i)e=e.add(n);return e}const ST=new mt(Pe);function IT(){return ST}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}function Vg(i){return{integerValue:""+i}}function RT(i,e){return Jw(e)?Vg(e):Xh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this._=void 0}}function AT(i,e,n){return i instanceof nu?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&qh(c)&&(c=mu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof la?Ng(i,e):i instanceof ua?Lg(i,e):function(a,c){const f=Dg(a,c),m=cm(f)+cm(a.Pe);return Sh(f)&&Sh(a.Pe)?Vg(m):Xh(a.serializer,m)}(i,e)}function CT(i,e,n){return i instanceof la?Ng(i,e):i instanceof ua?Lg(i,e):n}function Dg(i,e){return i instanceof ru?function(s){return Sh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class nu extends vu{}class la extends vu{constructor(e){super(),this.elements=e}}function Ng(i,e){const n=Og(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ua extends vu{constructor(e){super(),this.elements=e}}function Lg(i,e){let n=Og(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class ru extends vu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cm(i){return it(i.integerValue||i.doubleValue)}function Og(i){return Wh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof la&&a instanceof la||s instanceof ua&&a instanceof ua?Fs(s.elements,a.elements,Qn):s instanceof ru&&a instanceof ru?Qn(s.Pe,a.Pe):s instanceof nu&&a instanceof nu}(i.transform,e.transform)}class kT{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eu{}function Mg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ug(i.key,mr.none()):new ma(i.key,i.data,mr.none());{const n=i.data,s=mn.empty();let a=new mt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Mi(i.key,s,new Dn(a.toArray()),mr.none())}}function xT(i,e,n){i instanceof ma?function(a,c,f){const m=a.value.clone(),g=fm(a.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Mi?function(a,c,f){if(!Wl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=fm(a.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(Fg(a)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ea(i,e,n,s){return i instanceof ma?function(c,f,m,g){if(!Wl(c.precondition,f))return m;const _=c.value.clone(),w=dm(c.fieldTransforms,g,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Mi?function(c,f,m,g){if(!Wl(c.precondition,f))return m;const _=dm(c.fieldTransforms,g,f),w=f.data;return w.setAll(Fg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Wl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function VT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Dg(s.transform,a||null);c!=null&&(n===null&&(n=mn.empty()),n.set(s.field,c))}return n||null}function hm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fs(s,a,(c,f)=>PT(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ma extends Eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends Eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function fm(i,e,n){const s=new Map;Fe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,CT(f,m,n[a]))}return s}function dm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,AT(c,f,e))}return s}class Ug extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DT extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&xT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ea(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ea(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const g=Mg(f,m);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,s)=>hm(n,s))&&Fs(this.baseMutations,e.baseMutations,(n,s)=>hm(n,s))}}class Yh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Fe(e.mutations.length===s.length);let a=function(){return wT}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Yh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ve;function MT(i){switch(i){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function zg(i){if(i===void 0)return yr("GRPC error has no .code"),J.UNKNOWN;switch(i){case at.OK:return J.OK;case at.CANCELLED:return J.CANCELLED;case at.UNKNOWN:return J.UNKNOWN;case at.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case at.INTERNAL:return J.INTERNAL;case at.UNAVAILABLE:return J.UNAVAILABLE;case at.UNAUTHENTICATED:return J.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case at.NOT_FOUND:return J.NOT_FOUND;case at.ALREADY_EXISTS:return J.ALREADY_EXISTS;case at.PERMISSION_DENIED:return J.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case at.ABORTED:return J.ABORTED;case at.OUT_OF_RANGE:return J.OUT_OF_RANGE;case at.UNIMPLEMENTED:return J.UNIMPLEMENTED;case at.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Ve=at||(at={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Vi([4294967295,4294967295],0);function pm(i){const e=FT().encode(i),n=new ug;return n.update(e),new Uint8Array(n.digest())}function mm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vi([n,s],0),new Vi([a,c],0)]}class Jh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(s<0)throw new Xo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Vi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Vi.fromNumber(s)));return a.compare(UT)===1&&(a=new Vi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=pm(e),[s,a]=mm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Jh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=pm(e),[s,a]=mm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ga.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wu(ve.min(),a,new Je(Pe),_r(),Ae())}}class ga{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ga(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Bg{constructor(e,n){this.targetId=e,this.me=n}}class bg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class gm{constructor(){this.fe=0,this.ge=ym(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),s=Ae();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e()}}),new ga(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=ym()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zT{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=zl(),this.Qe=zl(),this.Ke=new Je(Pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Rh(c))if(s===0){const f=new ge(c.path);this.We(n,f,Ft.newNoDocument(f,ve.min()))}else Fe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),g=m?this.et(m,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(g){if(g instanceof _g)return Ms("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jh(f,a,c)}catch(g){return Ms(g instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Rh(m.target)){const g=new ge(m.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Ft.newNoDocument(g,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ae();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new wu(e,n,this.Ke,this.ke,s);return this.ke=_r(),this.qe=zl(),this.Qe=zl(),this.Ke=new Je(Pe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new gm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(Pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new gm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zl(){return new Je(ge.comparator)}function ym(){return new Je(ge.comparator)}const BT={asc:"ASCENDING",desc:"DESCENDING"},bT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jT={and:"AND",or:"OR"};class $T{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ch(i,e){return i.useProto3Json||pu(e)?e:{value:e}}function iu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function HT(i,e){return iu(i,e.toTimestamp())}function qn(i){return Fe(!!i),ve.fromTimestamp(function(n){const s=Yr(n);return new pt(s.seconds,s.nanos)}(i))}function Zh(i,e){return Ph(i,e).canonicalString()}function Ph(i,e){const n=function(a){return new et(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $g(i){const e=et.fromString(i);return Fe(Kg(e)),e}function kh(i,e){return Zh(i.databaseId,e.path)}function lh(i,e){const n=$g(e);if(n.get(1)!==i.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(qg(n))}function Hg(i,e){return Zh(i.databaseId,e)}function qT(i){const e=$g(i);return e.length===4?et.emptyPath():qg(e)}function xh(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qg(i){return Fe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function _m(i,e,n){return{name:kh(i,e),fields:n.value.mapValue.fields}}function WT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Fe(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?J.UNKNOWN:zg(_.code);return new me(w,_.message||"")}(f);n=new bg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=lh(i,s.document.name),c=qn(s.document.updateTime),f=s.document.createTime?qn(s.document.createTime):ve.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Ql(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=lh(i,s.document),c=s.readTime?qn(s.readTime):ve.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Ql([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=lh(i,s.document),c=s.removedTargetIds||[];n=new Ql([],c,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new OT(a,c),m=s.targetId;n=new Bg(m,f)}}return n}function QT(i,e){let n;if(e instanceof ma)n={update:_m(i,e.key,e.value)};else if(e instanceof Ug)n={delete:kh(i,e.key)};else if(e instanceof Mi)n={update:_m(i,e.key,e.data),updateMask:n0(e.fieldMask)};else{if(!(e instanceof DT))return _e();n={verify:kh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof la)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ua)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw _e()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:HT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e()}(i,e.precondition)),n}function KT(i,e){return i&&i.length>0?(Fe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?qn(a.updateTime):qn(c);return f.isEqual(ve.min())&&(f=qn(c)),new kT(f,a.transformResults||[])}(n,e))):[]}function GT(i,e){return{documents:[Hg(i,e.path)]}}function XT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Hg(i,a);const c=function(_){if(_.length!==0)return Qg(Kn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(C){return{field:Ds(C.field),direction:ZT(C.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ch(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function YT(i){let e=qT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Fe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const C=Wg(R);return C instanceof Kn&&Tg(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(C=>function(z){return new tu(Ns(z.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,pu(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(R){const C=!!R.before,O=R.values||[];return new eu(O,C)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const C=!R.before,O=R.values||[];return new eu(O,C)}(n.endAt)),mT(e,a,f,c,m,"F",g,_)}function JT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ns(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ns(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ns(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ns(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Wg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(i):_e()}function ZT(i){return BT[i]}function e0(i){return bT[i]}function t0(i){return jT[i]}function Ds(i){return{fieldPath:i.canonicalString()}}function Ns(i){return Ct.fromServerFormat(i.fieldPath)}function Qg(i){return i instanceof dt?function(n){if(n.op==="=="){if(sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(im(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(im(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:e0(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Qg(a));return s.length===1?s[0]:{compositeFilter:{op:t0(n.op),filters:s}}}(i):_e()}function n0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,c=ve.min(),f=ve.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.ht=e}}function i0(i){const e=YT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ln=new o0}addToCollectionParentIndex(e,n){return this.ln.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Xr.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class o0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(et.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bs(0)}static Qn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em([i,e],[n,s]){const a=Pe(i,n);return a===0?Pe(e,s):a}class a0{constructor(e){this.Gn=e,this.buffer=new mt(Em),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Em(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ks(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Yn(3e5)})}}class u0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(du.oe);const s=new a0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(vm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),xs()<=De.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function c0(i,e){return new u0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ea(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=xi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Go();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=_r();const f=Zo(),m=function(){return Zo()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof Mi)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),ea(w.mutation,_,w.mutation.getFieldMask(),pt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new f0(w,(R=f.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Zo();let a=new Je((f,m)=>f-m),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(_,w),s.set(g,w);const R=(a.get(m.batchId)||Ae()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,R=xg();w.forEach(C=>{if(!c.has(C)){const O=Mg(n.get(C),s.get(C));O!==null&&R.set(C,O),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):q.resolve(xi());let m=-1,g=c;return f.next(_=>q.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next(C=>{g=g.insert(w,C)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Ae())).next(w=>({batchId:m,changes:kg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=Go();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Go();return this.indexManager.getCollectionParents(e,c).next(m=>q.forEach(m,g=>{const _=function(R,C){return new gu(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,C)=>{f=f.insert(R,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((g,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ft.newInvalidDocument(w)))});let m=Go();return f.forEach((g,_)=>{const w=c.get(g);w!==void 0&&ea(w.mutation,_,Dn.empty(),pt.now()),_u(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return q.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:i0(a.bundledQuery),readTime:qn(a.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.overlays=new Je(ge.comparator),this.Er=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xi();return q.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const a=xi(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Je((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=xi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=xi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return q.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LT(n,s));let c=this.Er.get(n);c===void 0&&(c=Ae(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new et([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new et([])),s=new wt(n,e),a=new wt(n,e+1);let c=Ae();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||Pe(e.br,n.br)}static Vr(e,n){return Pe(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NT(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return q.resolve(f)}lookupMutationBatch(e,n){return q.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(Pe);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const f=new wt(new ge(c),0);let m=new mt(Pe);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},f),q.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Fe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return q.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.Nr=e,this.docs=function(){return new Je(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=_r();const f=n.path,m=new ge(f.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Kw(Qw(w),s)<=0||(a.has(w.key)||_u(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return q.resolve(c)}getAllFromCollectionGroup(e,n,s,a){_e()}Lr(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new v0(this)}getSize(e){return q.resolve(this.size)}}class v0 extends h0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.persistence=e,this.Br=new Oi(n=>Qh(n),Kh),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new ef,this.targetCount=0,this.Qr=Bs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),q.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Un(n),q.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),q.waitFor(c).next(()=>a)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new du(0),this.Ur=!1,this.Ur=!0,this.Wr=new g0,this.referenceDelegate=e(this),this.Gr=new E0(this),this.indexManager=new s0,this.remoteDocumentCache=function(a){return new _0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new r0(n),this.jr=new p0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new y0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new w0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class w0 extends Xw{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Zr=new ef,this.Xr=null}static ei(e){return new tf(e)}get ti(){if(this.Xr)return this.Xr;throw _e()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),q.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return q.or([()=>q.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class su{constructor(e,n){this.persistence=e,this.ri=new Oi(s=>Zw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=c0(this,n)}static ei(e,n){return new su(e,n)}Hr(){}Jr(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return q.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,ve.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hl(e.data.value)),n}ir(e,n,s){return q.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new nf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wE()?8:Yw(vE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new T0;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(xs()<=De.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),q.resolve()):(xs()<=De.DEBUG&&se("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(xs()<=De.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):q.resolve())}Xi(e,n){if(um(n))return q.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ah(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ae(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,f,g.readTime)?this.Xi(e,Ah(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return um(n)||a.isEqual(ve.min())?q.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?q.resolve(null):(xs()<=De.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.os(e,f,n,Ww(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(Cg(e));return n.forEach((a,c)=>{_u(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return xs()<=De.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Xr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Je(Pe),this.cs=new Oi(c=>Qh(c),Kh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function R0(i,e,n,s){return new I0(i,e,n,s)}async function Xg(i,e){const n=Ee(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Ae();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function A0(i,e){const n=Ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,w){const R=_.batch,C=R.keys();let O=q.resolve();return C.forEach(z=>{O=O.next(()=>w.getEntry(g,z)).next($=>{const B=_.docVersions.get(z);Fe(B!==null),$.version.compareTo(B)<0&&(R.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),w.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ae();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Yg(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function C0(i,e){const n=Ee(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const C=a.get(R);if(!C)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let O=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?O=O.withResumeToken(Pt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),a=a.insert(R,O),function($,B,Q){return $.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(C,O,w)&&m.push(n.Gr.updateTargetData(c,O))});let g=_r(),_=Ae();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(P0(c,f,e.documentUpdates).next(w=>{g=w.Is,_=w.Es})),!s.isEqual(ve.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return q.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function P0(i,e,n){let s=Ae(),a=Ae();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=_r();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:f,Es:a}})}function k0(i,e){const n=Ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function x0(i,e){const n=Ee(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,q.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Vh(i,e,n){const s=Ee(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Ks(f))throw f;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function wm(i,e,n){const s=Ee(i);let a=ve.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,w){const R=Ee(g),C=R.cs.get(w);return C!==void 0?q.resolve(R.us.get(C)):R.Gr.getTargetData(_,w)}(s,f,Hn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:ve.min(),n?c:Ae())).next(m=>(V0(s,_T(e),m),{documents:m,ds:c})))}function V0(i,e,n){let s=i.ls.get(e)||ve.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Tm{constructor(){this.activeTargetIds=IT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D0{constructor(){this._o=new Tm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Tm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=null;function uh(){return Bl===null?Bl=function(){return 268435456+Math.round(2147483648*Math.random())}():Bl++,"0x"+Bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class M0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=uh(),g=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,f),this.Bo(n,g,_,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Ms("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=L0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=uh();return new Promise((f,m)=>{const g=new cg;g.setWithCredentials(!0),g.listenOnce(hg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case $l.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case $l.TIMEOUT:se(Ot,`RPC '${e}' ${c} timed out`),m(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const R=g.getStatus();if(se(Ot,`RPC '${e}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C==null?void 0:C.error;if(O&&O.status&&O.message){const z=function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN}(O.status);m(new me(z,O.message))}else m(new me(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{se(Ot,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);se(Ot,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=uh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pg(),m=dg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=f.createWebChannel(w,g);let C=!1,O=!1;const z=new O0({Eo:B=>{O?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(C||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),C=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,B),R.send(B))},Ao:()=>R.close()}),$=(B,Q,X)=>{B.listen(Q,re=>{try{X(re)}catch(he){setTimeout(()=>{throw he},0)}})};return $(R,Ko.EventType.OPEN,()=>{O||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),z.So())}),$(R,Ko.EventType.CLOSE,()=>{O||(O=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),z.Do())}),$(R,Ko.EventType.ERROR,B=>{O||(O=!0,Ms(Ot,`RPC '${e}' stream ${a} transport errored:`,B),z.Do(new me(J.UNAVAILABLE,"The operation could not be completed")))}),$(R,Ko.EventType.MESSAGE,B=>{var Q;if(!O){const X=B.data[0];Fe(!!X);const re=X,he=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(he){se(Ot,`RPC '${e}' stream ${a} received error:`,he);const Re=he.status;let we=function(I){const k=at[I];if(k!==void 0)return zg(k)}(Re),x=he.message;we===void 0&&(we=J.INTERNAL,x="Unknown error status: "+Re+" with message "+he.message),O=!0,z.Do(new me(we,x)),R.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,X),z.vo(X)}}),$(m,fg.STAT_EVENT,B=>{B.stat===wh.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===wh.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){return new $T(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,a,c,f,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Jg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new me(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F0 extends Zg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=WT(this.serializer,e),s=function(c){if(!("targetChange"in c))return ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?qn(f.readTime):ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=xh(this.serializer),n.addTarget=function(c,f){let m;const g=f.target;if(m=Rh(g)?{documents:GT(c,g)}:{query:XT(c,g).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=jg(c,f.resumeToken);const _=Ch(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=iu(c,f.snapshotVersion.toTimestamp());const _=Ch(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=JT(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=xh(this.serializer),n.removeTarget=e,this.c_(n)}}class U0 extends Zg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=KT(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=xh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>QT(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,Ph(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(J.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,Ph(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(J.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class B0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yr(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Fi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Ee(g);_.k_.add(4),await ya(_),_.K_.set("Unknown"),_.k_.delete(4),await Su(_)}(this))})}),this.K_=new B0(s,a)}}async function Su(i){if(Fi(i))for(const e of i.q_)await e(!0)}async function ya(i){for(const e of i.q_)await e(!1)}function ey(i,e){const n=Ee(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),af(n)?of(n):Gs(n).s_()&&sf(n,e))}function rf(i,e){const n=Ee(i),s=Gs(n);n.B_.delete(e),s.s_()&&ty(n,e),n.B_.size===0&&(s.s_()?s.a_():Fi(n)&&n.K_.set("Unknown"))}function sf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gs(i).V_(e)}function ty(i,e){i.U_.xe(e),Gs(i).m_(e)}function of(i){i.U_=new zT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Gs(i).start(),i.K_.F_()}function af(i){return Fi(i)&&!Gs(i).i_()&&i.B_.size>0}function Fi(i){return Ee(i).k_.size===0}function ny(i){i.U_=void 0}async function j0(i){i.K_.set("Online")}async function $0(i){i.B_.forEach((e,n)=>{sf(i,e)})}async function H0(i,e){ny(i),af(i)?(i.K_.O_(e),of(i)):i.K_.set("Unknown")}async function q0(i,e,n){if(i.K_.set("Online"),e instanceof bg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ou(i,s)}else if(e instanceof Ql?i.U_.$e(e):e instanceof Bg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ve.min()))try{const s=await Yg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.B_.get(_);w&&c.B_.set(_,w.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const w=c.B_.get(g);if(!w)return;c.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),ty(c,g);const R=new qr(w.target,g,_,w.sequenceNumber);sf(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await ou(i,s)}}async function ou(i,e,n){if(!Ks(e))throw e;i.k_.add(1),await ya(i),i.K_.set("Offline"),n||(n=()=>Yg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Su(i)})}function ry(i,e){return e().catch(n=>ou(i,n,e))}async function Iu(i){const e=Ee(i),n=ei(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;W0(e);)try{const a=await k0(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,Q0(e,a)}catch(a){await ou(e,a)}iy(e)&&sy(e)}function W0(i){return Fi(i)&&i.L_.length<10}function Q0(i,e){i.L_.push(e);const n=ei(i);n.s_()&&n.f_&&n.g_(e.mutations)}function iy(i){return Fi(i)&&!ei(i).i_()&&i.L_.length>0}function sy(i){ei(i).start()}async function K0(i){ei(i).w_()}async function G0(i){const e=ei(i);for(const n of i.L_)e.g_(n.mutations)}async function X0(i,e,n){const s=i.L_.shift(),a=Yh.from(s,e,n);await ry(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Iu(i)}async function Y0(i,e){e&&ei(i).f_&&await async function(s,a){if(function(f){return MT(f)&&f!==J.ABORTED}(a.code)){const c=s.L_.shift();ei(s).__(),await ry(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Iu(s)}}(i,e),iy(i)&&sy(i)}async function Im(i,e){const n=Ee(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=Fi(n);n.k_.add(3),await ya(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Su(n)}async function J0(i,e){const n=Ee(i);e?(n.k_.delete(2),await Su(n)):e||(n.k_.add(2),await ya(n),n.K_.set("Unknown"))}function Gs(i){return i.W_||(i.W_=function(n,s,a){const c=Ee(n);return c.b_(),new F0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:j0.bind(null,i),mo:$0.bind(null,i),po:H0.bind(null,i),R_:q0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),af(i)?of(i):i.K_.set("Unknown")):(await i.W_.stop(),ny(i))})),i.W_}function ei(i){return i.G_||(i.G_=function(n,s,a){const c=Ee(n);return c.b_(),new U0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:K0.bind(null,i),po:Y0.bind(null,i),p_:G0.bind(null,i),y_:X0.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Iu(i)):(await i.G_.stop(),i.L_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new lf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Ks(i))return new me(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Go(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Os;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.z_=new Je(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):_e():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class bs{constructor(e,n,s,a,c,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new bs(e,n,Os.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class eS{constructor(){this.queries=Am(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ee(n),c=a.queries;a.queries=Am(),c.forEach((f,m)=>{for(const g of m.J_)g.onError(s)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function Am(){return new Oi(i=>Ag(i),yu)}async function tS(i,e){const n=Ee(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new Z0,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=uf(f,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&cf(n)}async function nS(i,e){const n=Ee(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rS(i,e){const n=Ee(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&cf(n)}function iS(i,e,n){const s=Ee(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function cf(i){i.X_.forEach(e=>{e.next()})}var Dh,Cm;(Cm=Dh||(Dh={})).na="default",Cm.Cache="cache";class sS{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.key=e}}class ay{constructor(e){this.key=e}}class oS{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=Cg(e),this.ma=new Os(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Rm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const C=a.get(w),O=_u(this.query,R)?R:null,z=!!C&&this.mutatedKeys.has(C.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;C&&O?C.data.isEqual(O.data)?z!==$&&(s.track({type:3,doc:O}),B=!0):this.ya(C,O)||(s.track({type:2,doc:O}),B=!0,(g&&this.Va(O,g)>0||_&&this.Va(O,_)<0)&&(m=!0)):!C&&O?(s.track({type:0,doc:O}),B=!0):C&&!O&&(s.track({type:1,doc:C}),B=!0,(g||_)&&(m=!0)),B&&(O?(f=f.add(O),c=$?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(O,z){const $=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return $(O)-$(z)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new bs(this.query,e.ma,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Rm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new ay(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new oy(s))}),n}va(e){this.da=e.ds,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lS{constructor(e){this.key=e,this.Fa=!1}}class uS{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Oi(m=>Ag(m),yu),this.Oa=new Map,this.Na=new Set,this.La=new Je(ge.comparator),this.Ba=new Map,this.ka=new ef,this.qa={},this.Qa=new Map,this.Ka=Bs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cS(i,e,n=!0){const s=dy(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await ly(s,e,n,!0),a}async function hS(i,e){const n=dy(i);await ly(n,e,!0,!1)}async function ly(i,e,n,s){const a=await x0(i.localStore,Hn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await fS(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ey(i.remoteStore,a),m}async function fS(i,e,n,s,a){i.Ua=(R,C,O)=>async function($,B,Q,X){let re=B.view.ga(Q);re.ss&&(re=await wm($.localStore,B.query,!1).then(({documents:x})=>B.view.ga(x,re)));const he=X&&X.targetChanges.get(B.targetId),Re=X&&X.targetMismatches.get(B.targetId)!=null,we=B.view.applyChanges(re,$.isPrimaryClient,he,Re);return km($,B.targetId,we.ba),we.snapshot}(i,R,C,O);const c=await wm(i.localStore,e,!0),f=new oS(e,c.ds),m=f.ga(c.documents),g=ga.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,g);km(i,n,_.ba);const w=new aS(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function dS(i,e,n){const s=Ee(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!yu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Vh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&rf(s.remoteStore,a.targetId),Nh(s,a.targetId)}).catch(Qs)):(Nh(s,a.targetId),await Vh(s.localStore,a.targetId,!0))}async function pS(i,e){const n=Ee(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rf(n.remoteStore,s.targetId))}async function mS(i,e,n){const s=TS(i);try{const a=await function(f,m){const g=Ee(f),_=pt.now(),w=m.reduce((O,z)=>O.add(z.key),Ae());let R,C;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let z=_r(),$=Ae();return g.hs.getEntries(O,w).next(B=>{z=B,z.forEach((Q,X)=>{X.isValidDocument()||($=$.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,z)).next(B=>{R=B;const Q=[];for(const X of m){const re=VT(X,R.get(X.key).overlayedDocument);re!=null&&Q.push(new Mi(X.key,re,vg(re.value.mapValue),mr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,_,Q,m)}).next(B=>{C=B;const Q=B.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(O,B.batchId,Q)})}).then(()=>({batchId:C.batchId,changes:kg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,g){let _=f.qa[f.currentUser.toKey()];_||(_=new Je(Pe)),_=_.insert(m,g),f.qa[f.currentUser.toKey()]=_}(s,a.batchId,n),await _a(s,a.changes),await Iu(s.remoteStore)}catch(a){const c=uf(a,"Failed to persist write");n.reject(c)}}async function uy(i,e){const n=Ee(i);try{const s=await C0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Fe(f.Fa):a.removedDocuments.size>0&&(Fe(f.Fa),f.Fa=!1))}),await _a(n,s,e)}catch(s){await Qs(s)}}function Pm(i,e,n){const s=Ee(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const g=Ee(f);g.onlineState=m;let _=!1;g.queries.forEach((w,R)=>{for(const C of R.J_)C.ea(m)&&(_=!0)}),_&&cf(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gS(i,e,n){const s=Ee(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Je(ge.comparator);f=f.insert(c,Ft.newNoDocument(c,ve.min()));const m=Ae().add(c),g=new wu(ve.min(),new Map,new Je(Pe),f,m);await uy(s,g),s.La=s.La.remove(c),s.Ba.delete(e),hf(s)}else await Vh(s.localStore,e,!1).then(()=>Nh(s,e,n)).catch(Qs)}async function yS(i,e){const n=Ee(i),s=e.batch.batchId;try{const a=await A0(n.localStore,e);hy(n,s,null),cy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _a(n,a)}catch(a){await Qs(a)}}async function _S(i,e,n){const s=Ee(i);try{const a=await function(f,m){const g=Ee(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next(R=>(Fe(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);hy(s,e,n),cy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _a(s,a)}catch(a){await Qs(a)}}function cy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function hy(i,e,n){const s=Ee(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Nh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||fy(i,s)})}function fy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(rf(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),hf(i))}function km(i,e,n){for(const s of n)s instanceof oy?(i.ka.addReference(s.key,e),vS(i,s)):s instanceof ay?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||fy(i,s.key)):_e()}function vS(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),hf(i))}function hf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(et.fromString(e)),s=i.Ka.next();i.Ba.set(s,new lS(n)),i.La=i.La.insert(n,s),ey(i.remoteStore,new qr(Hn(Gh(n.path)),s,"TargetPurposeLimboResolution",du.oe))}}async function _a(i,e,n){const s=Ee(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{f.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){a.push(_);const R=nf.zi(g.targetId,_);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const w=Ee(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>q.forEach(_,C=>q.forEach(C.Wi,O=>w.persistence.referenceDelegate.addReference(R,C.targetId,O)).next(()=>q.forEach(C.Gi,O=>w.persistence.referenceDelegate.removeReference(R,C.targetId,O)))))}catch(R){if(!Ks(R))throw R;se("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const C=R.targetId;if(!R.fromCache){const O=w.us.get(C),z=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(z);w.us=w.us.insert(C,$)}}}(s.localStore,c))}async function ES(i,e){const n=Ee(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await Xg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new me(J.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _a(n,s.Ts)}}function wS(i,e){const n=Ee(i),s=n.Ba.get(e);if(s&&s.Fa)return Ae().add(s.key);{let a=Ae();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function dy(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gS.bind(null,e),e.Ma.R_=rS.bind(null,e.eventManager),e.Ma.Wa=iS.bind(null,e.eventManager),e}function TS(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_S.bind(null,e),e}class au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return R0(this.persistence,new S0,e.initialUser,this.serializer)}ja(e){return new Gg(tf.ei,this.serializer)}za(e){return new D0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}au.provider={build:()=>new au};class SS extends au{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Fe(this.persistence.referenceDelegate instanceof su);const s=this.persistence.referenceDelegate.garbageCollector;return new l0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Gg(s=>su.ei(s,n),this.serializer)}}class Lh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ES.bind(null,this.syncEngine),await J0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eS}()}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),s=function(c){return new M0(c)}(e.databaseInfo);return function(c,f,m,g){return new z0(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new b0(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Pm(this.syncEngine,n,0),function(){return Sm.p()?new Sm:new N0}())}createSyncEngine(e,n){return function(a,c,f,m,g,_,w){const R=new uS(a,c,f,m,g,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ee(a);se("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ya(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lh.provider={build:()=>new Lh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=uf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hh(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Xg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await AS(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Im(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Im(e.remoteStore,a)),i._onlineComponents=e}async function AS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await hh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await hh(i,new au)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await hh(i,new SS(void 0));return i._offlineComponents}async function py(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await xm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await xm(i,new Lh))),i._onlineComponents}function CS(i){return py(i).then(e=>e.syncEngine)}async function PS(i){const e=await py(i),n=e.eventManager;return n.onListen=cS.bind(null,e.syncEngine),n.onUnlisten=dS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pS.bind(null,e.syncEngine),n}function kS(i,e,n={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const w=new IS({next:C=>{w.eu(),f.enqueueAndForget(()=>nS(c,R));const O=C.docs.has(m);!O&&C.fromCache?_.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&C.fromCache&&g&&g.source==="server"?_.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),R=new sS(Gh(m.path),w,{includeMetadataChanges:!0,ua:!0});return tS(c,R)}(await PS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(i,e,n){if(!n)throw new me(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VS(i,e,n,s){if(e===!0&&s===!0)throw new me(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Dm(i){if(!ge.isDocumentKey(i))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e()}function ca(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(i);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=my((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Fw;switch(s.type){case"firstParty":return new bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Vm.delete(n),s.terminate())}(this),Promise.resolve()}}function DS(i,e,n,s={}){var a;const c=(i=ca(i,df))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=_E(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(_)}i._authCredentials=new Uw(new mg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pf(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ha extends pf{constructor(e,n,s){super(e,n,Gh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ge(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function lu(i,e,...n){if(i=Xl(i),arguments.length===1&&(e=gg.newId()),xS("doc","path",e),i instanceof df){const s=et.fromString(e,...n);return Dm(s),new gn(i,null,new ge(s))}{if(!(i instanceof gn||i instanceof ha))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Dm(s),new gn(i.firestore,i instanceof ha?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Jg(this,"async_queue_retry"),this.fu=()=>{const s=ch();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=ch();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Kr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ks(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=lf.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&_e()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class mf extends df{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Lm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lm(e),this._firestoreClient=void 0,await e}}}function NS(i,e){const n=typeof i=="object"?i:Cw(),s=typeof i=="string"?i:"(default)",a=Sw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=gE("firestore");c&&DS(a,...c)}return a}function gy(i){if(i._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LS(i),i._firestoreClient}function LS(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,w){return new nT(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,my(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new RS(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(Pt.fromBase64String(e))}catch(n){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=/^__.*__$/;class MS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ma(e,this.data,n,this.fieldTransforms)}}function _y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class vf{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return uu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(_y(this.Mu)&&OS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class FS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tu(e)}$u(e,n,s,a=!1){return new vf({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function US(i){const e=i._freezeSettings(),n=Tu(i._databaseId);return new FS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zS(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Ty("Data must be an object, but it was:",f,s);const m=Ey(s,f);let g,_;if(c.merge)g=new Dn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const R of c.mergeFields){const C=BS(e,R,n);if(!f.contains(C))throw new me(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);jS(w,C)||w.push(C)}g=new Dn(w),_=f.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,_=f.fieldTransforms;return new MS(new mn(m),g,_)}function vy(i,e){if(wy(i=Xl(i)))return Ty("Unsupported field value:",e,i),Ey(i,e);if(i instanceof yy)return function(s,a){if(!_y(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let g=vy(m,a.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Xl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:iu(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:iu(a.serializer,c)}}if(s instanceof yf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:jg(a.serializer,s._byteString)};if(s instanceof gn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof _f)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Xh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${ff(s)}`)}(i,e)}function Ey(i,e){const n={};return yg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(i,(s,a)=>{const c=vy(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function wy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof yf||i instanceof js||i instanceof gn||i instanceof yy||i instanceof _f)}function Ty(i,e,n){if(!wy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=ff(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function BS(i,e,n){if((e=Xl(e))instanceof gf)return e._internalPath;if(typeof e=="string")return Sy(i,e);throw uu("Field path arguments must be of type string or ",i,!1,void 0,n)}const bS=new RegExp("[~\\*/\\[\\]]");function Sy(i,e,n){if(e.search(bS)>=0)throw uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function uu(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${a}`),g+=")"),new me(J.INVALID_ARGUMENT,m+i+g)}function jS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $S extends Iy{data(){return super.data()}}function Ry(i,e){return typeof e=="string"?Sy(i,e):e instanceof gf?e._internalPath:e._delegate._internalPath}class HS{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Li(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>it(f.doubleValue));return new _f(c)}convertGeoPoint(e){return new yf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(Kg(s));const a=new oa(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ay extends Iy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ry("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class QS extends Ay{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(i){i=ca(i,gn);const e=ca(i.firestore,mf);return kS(gy(e),i._key).then(n=>XS(e,i,n))}class KS extends HS{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Om(i,e,n){i=ca(i,gn);const s=ca(i.firestore,mf),a=qS(i.converter,e);return GS(s,[zS(US(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,mr.none())])}function GS(i,e){return function(s,a){const c=new Kr;return s.asyncQueue.enqueueAndForget(async()=>mS(await CS(s),a,c)),c.promise}(gy(i),e)}function XS(i,e,n){const s=n.docs.get(e._key),a=new KS(i);return new Ay(i,a,e._key,s,new WS(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ws=a})(Aw),Jl(new na("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new mf(new zw(s.getProvider("auth-internal")),new $w(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ls(Jp,"4.7.5",e),Ls(Jp,"4.7.5","esm2017")})();var YS="firebase",JS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(YS,JS,"app");const ZS={apiKey:"AIzaSyAJTf0vpWYxRtqv0MIOFNPdU_PiEMdaQeA",authDomain:"plusone-42be4.firebaseapp.com",projectId:"plusone-42be4",storageBucket:"plusone-42be4.firebasestorage.app",messagingSenderId:"615275828959",appId:"1:615275828959:web:176d086a5394a69cb93b6a",measurementId:"G-3QLQNN5W9T"},eI=og(ZS),cu=NS(eI),tI=()=>{const[i,e]=H.useState(""),[n,s]=H.useState(""),[a,c]=H.useState({username:"",password:""}),[f,m]=H.useState({username:"",password:""}),g=qm(),_=async()=>{const R=lu(cu,"counters","user1"),C=await Oh(R);if(C.exists()){const $=C.data();c({username:$.username,password:$.password})}else console.log("No data found for user1");const O=lu(cu,"counters","user2"),z=await Oh(O);if(z.exists()){const $=z.data();m({username:$.username,password:$.password})}else console.log("No data found for user2")};H.useEffect(()=>{_()},[]);const w=()=>{(i===a.username&&n===a.password||i===f.username&&n===f.password)&&g("/user")};return We.jsx("body",{className:"bg-[#525252]",children:We.jsx("div",{className:"flex items-center justify-center min-h-screen",children:We.jsx("div",{className:"card bg-gradient-to-b from-[#FF6422] to-[#99147C] w-96 shadow-xl border-4 border-whi",children:We.jsxs("div",{className:"card-body",children:[We.jsx("h1",{className:"font-neue font-bold text-4xl text-white",children:"PlusOne"}),We.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Username"}),We.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:i,onChange:R=>e(R.target.value)}),We.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Password"}),We.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:n,onChange:R=>s(R.target.value)}),We.jsx("div",{className:"card-actions justify-end",children:We.jsx("button",{className:"btn btn-sm btn-primary",onClick:w,children:"Submit"})})]})})})})},nI=()=>{const[i,e]=H.useState(0);H.useEffect(()=>{n()},[]);const n=async()=>{const a=lu(cu,"counters","user1"),c=await Oh(a);c.exists()?e(c.data().counter):(await Om(a,{counter:0}),e(0))},s=async()=>{const a=lu(cu,"counters","user1");await Om(a,{counter:i+1}),e(i+1)};return We.jsx(We.Fragment,{children:We.jsx("button",{className:"btn",onClick:s,children:"Hello"})})},rI=()=>We.jsx("body",{className:"bg-[#525252] ",children:We.jsx("div",{className:"flex items-center justify-center min-h-screen",children:We.jsx(nI,{})})}),iI=()=>We.jsx(Yv,{children:We.jsxs(Cv,{children:[We.jsx(dh,{path:"/",element:We.jsx(tI,{})}),We.jsx(dh,{path:"/User",element:We.jsx(rI,{})})]})});F_.createRoot(document.getElementById("root")).render(We.jsx(H.StrictMode,{children:We.jsx(iI,{})}));
