(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var rh={exports:{}},Wo={},ih={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function V_(){if(Np)return Re;Np=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function U(L,K,fe){this.props=L,this.context=K,this.refs=B,this.updater=fe||V}U.prototype.isReactComponent={},U.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function X(L,K,fe){this.props=L,this.context=K,this.refs=B,this.updater=fe||V}var re=X.prototype=new Q;re.constructor=X,O(re,U.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,Ae=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(L,K,fe){var Se,Ie={},xe=null,Me=null;if(K!=null)for(Se in K.ref!==void 0&&(Me=K.ref),K.key!==void 0&&(xe=""+K.key),K)Ae.call(K,Se)&&!x.hasOwnProperty(Se)&&(Ie[Se]=K[Se]);var Fe=arguments.length-2;if(Fe===1)Ie.children=fe;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Ie.children=Be}if(L&&L.defaultProps)for(Se in Fe=L.defaultProps,Fe)Ie[Se]===void 0&&(Ie[Se]=Fe[Se]);return{$$typeof:i,type:L,key:xe,ref:Me,props:Ie,_owner:Te.current}}function R(L,K){return{$$typeof:i,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function D(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return K[fe]})}var M=/\/+/g;function C(L,K){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):K.toString(36)}function tt(L,K,fe,Se,Ie){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case i:case e:Me=!0}}if(Me)return Me=L,Ie=Ie(Me),L=Se===""?"."+C(Me,0):Se,ce(Ie)?(fe="",L!=null&&(fe=L.replace(M,"$&/")+"/"),tt(Ie,K,fe,"",function(gt){return gt})):Ie!=null&&(k(Ie)&&(Ie=R(Ie,fe+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+L)),K.push(Ie)),1;if(Me=0,Se=Se===""?".":Se+":",ce(L))for(var Fe=0;Fe<L.length;Fe++){xe=L[Fe];var Be=Se+C(xe,Fe);Me+=tt(xe,K,fe,Be,Ie)}else if(Be=I(L),typeof Be=="function")for(L=Be.call(L),Fe=0;!(xe=L.next()).done;)xe=xe.value,Be=Se+C(xe,Fe++),Me+=tt(xe,K,fe,Be,Ie);else if(xe==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(L,K,fe){if(L==null)return L;var Se=[],Ie=0;return tt(L,Se,"","",function(xe){return K.call(fe,xe,Ie++)}),Se}function xt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var je={current:null},ne={transition:null},de={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:kt,forEach:function(L,K,fe){kt(L,function(){K.apply(this,arguments)},fe)},count:function(L){var K=0;return kt(L,function(){K++}),K},toArray:function(L){return kt(L,function(K){return K})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=U,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Re.act=se,Re.cloneElement=function(L,K,fe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Se=O({},L.props),Ie=L.key,xe=L.ref,Me=L._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Me=Te.current),K.key!==void 0&&(Ie=""+K.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(Be in K)Ae.call(K,Be)&&!x.hasOwnProperty(Be)&&(Se[Be]=K[Be]===void 0&&Fe!==void 0?Fe[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)Se.children=fe;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Se.children=Fe}return{$$typeof:i,type:L.type,key:Ie,ref:xe,props:Se,_owner:Me}},Re.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Re.createElement=T,Re.createFactory=function(L){var K=T.bind(null,L);return K.type=L,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:m,render:L}},Re.isValidElement=k,Re.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:xt}},Re.memo=function(L,K){return{$$typeof:_,type:L,compare:K===void 0?null:K}},Re.startTransition=function(L){var K=ne.transition;ne.transition={};try{L()}finally{ne.transition=K}},Re.unstable_act=se,Re.useCallback=function(L,K){return je.current.useCallback(L,K)},Re.useContext=function(L){return je.current.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L){return je.current.useDeferredValue(L)},Re.useEffect=function(L,K){return je.current.useEffect(L,K)},Re.useId=function(){return je.current.useId()},Re.useImperativeHandle=function(L,K,fe){return je.current.useImperativeHandle(L,K,fe)},Re.useInsertionEffect=function(L,K){return je.current.useInsertionEffect(L,K)},Re.useLayoutEffect=function(L,K){return je.current.useLayoutEffect(L,K)},Re.useMemo=function(L,K){return je.current.useMemo(L,K)},Re.useReducer=function(L,K,fe){return je.current.useReducer(L,K,fe)},Re.useRef=function(L){return je.current.useRef(L)},Re.useState=function(L){return je.current.useState(L)},Re.useSyncExternalStore=function(L,K,fe){return je.current.useSyncExternalStore(L,K,fe)},Re.useTransition=function(){return je.current.useTransition()},Re.version="18.3.1",Re}var Dp;function jh(){return Dp||(Dp=1,ih.exports=V_()),ih.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function L_(){if(Vp)return Wo;Vp=1;var i=jh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var w,A={},I=null,V=null;_!==void 0&&(I=""+_),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(V=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(A[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)A[w]===void 0&&(A[w]=g[w]);return{$$typeof:e,type:m,key:I,ref:V,props:A,_owner:a.current}}return Wo.Fragment=n,Wo.jsx=h,Wo.jsxs=h,Wo}var Lp;function O_(){return Lp||(Lp=1,rh.exports=L_()),rh.exports}var q=O_(),H=jh(),bl={},sh={exports:{}},Gt={},oh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function M_(){return Op||(Op=1,function(i){function e(ne,de){var se=ne.length;ne.push(de);e:for(;0<se;){var L=se-1>>>1,K=ne[L];if(0<a(K,de))ne[L]=de,ne[se]=K,se=L;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var de=ne[0],se=ne.pop();if(se!==de){ne[0]=se;e:for(var L=0,K=ne.length,fe=K>>>1;L<fe;){var Se=2*(L+1)-1,Ie=ne[Se],xe=Se+1,Me=ne[xe];if(0>a(Ie,se))xe<K&&0>a(Me,Ie)?(ne[L]=Me,ne[xe]=se,L=xe):(ne[L]=Ie,ne[Se]=se,L=Se);else if(xe<K&&0>a(Me,se))ne[L]=Me,ne[xe]=se,L=xe;else break e}}return de}function a(ne,de){var se=ne.sortIndex-de.sortIndex;return se!==0?se:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],_=[],w=1,A=null,I=3,V=!1,O=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var de=n(_);de!==null;){if(de.callback===null)s(_);else if(de.startTime<=ne)s(_),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(_)}}function ce(ne){if(B=!1,re(ne),!O)if(n(g)!==null)O=!0,xt(Ae);else{var de=n(_);de!==null&&je(ce,de.startTime-ne)}}function Ae(ne,de){O=!1,B&&(B=!1,Q(T),T=-1),V=!0;var se=I;try{for(re(de),A=n(g);A!==null&&(!(A.expirationTime>de)||ne&&!D());){var L=A.callback;if(typeof L=="function"){A.callback=null,I=A.priorityLevel;var K=L(A.expirationTime<=de);de=i.unstable_now(),typeof K=="function"?A.callback=K:A===n(g)&&s(g),re(de)}else s(g);A=n(g)}if(A!==null)var fe=!0;else{var Se=n(_);Se!==null&&je(ce,Se.startTime-de),fe=!1}return fe}finally{A=null,I=se,V=!1}}var Te=!1,x=null,T=-1,R=5,k=-1;function D(){return!(i.unstable_now()-k<R)}function M(){if(x!==null){var ne=i.unstable_now();k=ne;var de=!0;try{de=x(!0,ne)}finally{de?C():(Te=!1,x=null)}}else Te=!1}var C;if(typeof X=="function")C=function(){X(M)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=M,C=function(){kt.postMessage(null)}}else C=function(){U(M,0)};function xt(ne){x=ne,Te||(Te=!0,C())}function je(ne,de){T=U(function(){ne(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){O||V||(O=!0,xt(Ae))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var de=3;break;default:de=I}var se=I;I=de;try{return ne()}finally{I=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=I;I=ne;try{return de()}finally{I=se}},i.unstable_scheduleCallback=function(ne,de,se){var L=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,ne={id:w++,callback:de,priorityLevel:ne,startTime:se,expirationTime:K,sortIndex:-1},se>L?(ne.sortIndex=se,e(_,ne),n(g)===null&&ne===n(_)&&(B?(Q(T),T=-1):B=!0,je(ce,se-L))):(ne.sortIndex=K,e(g,ne),O||V||(O=!0,xt(Ae))),ne},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ne){var de=I;return function(){var se=I;I=de;try{return ne.apply(this,arguments)}finally{I=se}}}}(ah)),ah}var Mp;function F_(){return Mp||(Mp=1,oh.exports=M_()),oh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function b_(){if(Fp)return Gt;Fp=1;var i=jh(),e=F_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},A={};function I(t){return g.call(A,t)?!0:g.call(w,t)?!1:_.test(t)?A[t]=!0:(w[t]=!0,!1)}function V(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O(t,r,o,c){if(r===null||typeof r>"u"||V(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function B(t,r,o,c,f,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new B(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,X);U[r]=new B(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,X);U[r]=new B(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,X);U[r]=new B(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,o,c){var f=U.hasOwnProperty(r)?U[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(O(r,o,f,c)&&(o=null),c||f===null?I(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,L;function K(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var fe=!1;function Se(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),p=c.stack.split(`
`),v=f.length-1,S=p.length-1;1<=v&&0<=S&&f[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(f[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||f[v]!==p[S]){var P=`
`+f[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function Ie(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=gt(t))}function Ui(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ni(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ji(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xs(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function Js(t,r){Xs(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?zi(t,r.type,o):r.hasOwnProperty("defaultValue")&&zi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Sa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function zi(t,r,o){(r!=="number"||Er(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Xn=Array.isArray;function Jn(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Xn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function $i(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(t){ii.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ri[r]=ri[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ri.hasOwnProperty(t)&&ri[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=no(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var io=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,on=null,Vn=null;function Wi(t){if(t=No(t)){if(typeof qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Za(r),qi(t.stateNode,t.type,r))}}function Ln(t){on?Vn?Vn.push(t):Vn=[t]:on=t}function ao(){if(on){var t=on,r=Vn;if(Vn=on=null,Wi(t),r)for(t=0;t<r.length;t++)Wi(r[t])}}function oi(t,r){return t(r)}function lo(){}var er=!1;function uo(t,r,o){if(er)return t(r,o);er=!0;try{return oi(t,r,o)}finally{er=!1,(on!==null||Vn!==null)&&(lo(),ao())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var c=Za(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Qi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Qi=!1}function ai(t,r,o,c,f,p,v,S,P){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(Y){this.onError(Y)}}var li=!1,Ki=null,_n=!1,co=null,Nu={onError:function(t){li=!0,Ki=t}};function Gi(t,r,o,c,f,p,v,S,P){li=!1,Ki=null,ai.apply(Nu,arguments)}function Ia(t,r,o,c,f,p,v,S,P){if(Gi.apply(this,arguments),li){if(li){var z=Ki;li=!1,Ki=null}else throw Error(n(198));_n||(_n=!0,co=z)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ui(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function Ra(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return En(f),t;if(p===c)return En(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=p;else{for(var v=!1,S=f.child;S;){if(S===o){v=!0,o=f,c=p;break}if(S===c){v=!0,c=f,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,c=f;break}if(S===c){v=!0,c=p,o=f;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=Ra(t),t!==null?Yi(t):null}function Yi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Yi(t);if(r!==null)return r;t=t.sibling}return null}var Xi=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,Aa=e.unstable_shouldYield,Du=e.unstable_requestPaint,$e=e.unstable_now,Ca=e.unstable_getCurrentPriorityLevel,ci=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,po=e.unstable_LowPriority,Pa=e.unstable_IdlePriority,hi=null,Xt=null;function ka(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Na,mo=Math.log,xa=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(mo(t)/xa|0)|0}var Ji=64,Zi=4194304;function Sr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~f;S!==0?c=Sr(S):(p&=v,p!==0&&(c=Sr(p)))}else v=o&~f,v!==0?c=Sr(v):p!==0&&(c=Sr(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-bt(r),f=1<<o,c|=t[o],r&=~f;return c}function Vu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-bt(p),S=1<<v,P=f[v];P===-1?(!(S&o)||S&c)&&(f[v]=Vu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function di(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function Ir(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Rr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-bt(o),p=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-bt(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var Pe=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Da,es,Va,La,Oa,go=!1,On=[],Tt=null,wn=null,Tn=null,Pr=new Map,ln=new Map,Mn=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ma(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function Bt(t,r,o,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=No(r),r!==null&&es(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ou(t,r,o,c,f){switch(r){case"focusin":return Tt=Bt(Tt,t,r,o,c,f),!0;case"dragenter":return wn=Bt(wn,t,r,o,c,f),!0;case"mouseover":return Tn=Bt(Tn,t,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Pr.set(p,Bt(Pr.get(p)||null,t,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,ln.set(p,Bt(ln.get(p)||null,t,r,o,c,f)),!0}return!1}function Fa(t){var r=_i(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=ui(o),r!==null){t.blockedOn=r,Oa(t.priority,function(){Va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ts(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);si=c,o.target.dispatchEvent(c),si=null}else return r=No(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function pi(t,r,o){nr(t)&&o.delete(r)}function ba(){go=!1,Tt!==null&&nr(Tt)&&(Tt=null),wn!==null&&nr(wn)&&(wn=null),Tn!==null&&nr(Tn)&&(Tn=null),Pr.forEach(pi),ln.forEach(pi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ba)))}function In(t){function r(f){return Sn(f,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var c=On[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),Pr.forEach(r),ln.forEach(r),o=0;o<Mn.length;o++)c=Mn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Fa(o),o.blockedOn===null&&Mn.shift()}var rr=ce.ReactCurrentBatchConfig,kr=!0;function Qe(t,r,o,c){var f=Pe,p=rr.transition;rr.transition=null;try{Pe=1,yo(t,r,o,c)}finally{Pe=f,rr.transition=p}}function Mu(t,r,o,c){var f=Pe,p=rr.transition;rr.transition=null;try{Pe=4,yo(t,r,o,c)}finally{Pe=f,rr.transition=p}}function yo(t,r,o,c){if(kr){var f=ts(t,r,o,c);if(f===null)Qu(t,r,c,mi,o),Ma(t,c);else if(Ou(f,t,r,o,c))c.stopPropagation();else if(Ma(t,c),r&4&&-1<Lu.indexOf(t)){for(;f!==null;){var p=No(f);if(p!==null&&Da(p),p=ts(t,r,o,c),p===null&&Qu(t,r,c,mi,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Qu(t,r,c,null,o)}}var mi=null;function ts(t,r,o,c){if(mi=null,t=Hi(c),t=_i(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ui(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return mi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ca()){case ci:return 1;case Tr:return 4;case an:case po:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var Zt=null,ns=null,$t=null;function vo(){if($t)return $t;var t,r=ns,o=r.length,c,f="value"in Zt?Zt.value:Zt.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var v=o-t;for(c=1;c<=v&&r[o-c]===f[p-c];c++);return $t=f.slice(t,1<c?1-c:void 0)}function rs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Eo(){return!1}function St(t){function r(o,c,f,p,v){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:Eo,this.isPropagationStopped=Eo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=St(Rn),bn=se({},Rn,{view:0,detail:0}),Fu=St(bn),ss,ir,xr,gi=se({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(ss=t.screenX-xr.screenX,ir=t.screenY-xr.screenY):ir=ss=0,xr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),os=St(gi),wo=se({},gi,{dataTransfer:0}),Ua=St(wo),as=se({},bn,{relatedTarget:0}),ls=St(as),ja=se({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=St(ja),za=se({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=St(za),$a=se({},Rn,{data:0}),To=St($a),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ha[t])?!!r[t]:!1}function Un(){return qa}var l=se({},bn,{key:function(t){if(t.key){var r=us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=se({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),F=se({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),$=St(F),te=se({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=St(te),ct=se({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,yi=m&&(!st||un&&8<un&&11>=un),cs=" ",Rf=!1;function Af(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function Ny(t,r){switch(t){case"compositionend":return Cf(r);case"keypress":return r.which!==32?null:(Rf=!0,cs);case"textInput":return t=r.data,t===cs&&Rf?null:t;default:return null}}function Dy(t,r){if(hs)return t==="compositionend"||!st&&Af(t,r)?(t=vo(),$t=ns=Zt=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yi&&r.locale!=="ko"?null:r.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vy[t.type]:r==="textarea"}function kf(t,r,o,c){Ln(c),r=Ya(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var So=null,Io=null;function Ly(t){Qf(t,0)}function Wa(t){var r=gs(t);if(Ui(r))return t}function Oy(t,r){if(t==="change")return r}var xf=!1;if(m){var bu;if(m){var Uu="oninput"in document;if(!Uu){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Uu=typeof Nf.oninput=="function"}bu=Uu}else bu=!1;xf=bu&&(!document.documentMode||9<document.documentMode)}function Df(){So&&(So.detachEvent("onpropertychange",Vf),Io=So=null)}function Vf(t){if(t.propertyName==="value"&&Wa(Io)){var r=[];kf(r,Io,t,Hi(t)),uo(Ly,r)}}function My(t,r,o){t==="focusin"?(Df(),So=r,Io=o,So.attachEvent("onpropertychange",Vf)):t==="focusout"&&Df()}function Fy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wa(Io)}function by(t,r){if(t==="click")return Wa(r)}function Uy(t,r){if(t==="input"||t==="change")return Wa(r)}function jy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:jy;function Ro(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!An(t[f],r[f]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Of(t,r){var o=Lf(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lf(o)}}function Mf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ff(){for(var t=window,r=Er();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Er(t.document)}return r}function ju(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function zy(t){var r=Ff(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Mf(o.ownerDocument.documentElement,o)){if(c!==null&&ju(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!t.extend&&p>c&&(f=c,c=p,p=f),f=Of(o,p);var v=Of(o,c);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var By=m&&"documentMode"in document&&11>=document.documentMode,fs=null,zu=null,Ao=null,Bu=!1;function bf(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bu||fs==null||fs!==Er(c)||(c=fs,"selectionStart"in c&&ju(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ao&&Ro(Ao,c)||(Ao=c,c=Ya(zu,"onSelect"),0<c.length&&(r=new is("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=fs)))}function Qa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},$u={},Uf={};m&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ka(t){if($u[t])return $u[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Uf)return $u[t]=r[o];return t}var jf=Ka("animationend"),zf=Ka("animationiteration"),Bf=Ka("animationstart"),$f=Ka("transitionend"),Hf=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,r){Hf.set(t,r),u(r,[t])}for(var Hu=0;Hu<qf.length;Hu++){var qu=qf[Hu],$y=qu.toLowerCase(),Hy=qu[0].toUpperCase()+qu.slice(1);Nr($y,"on"+Hy)}Nr(jf,"onAnimationEnd"),Nr(zf,"onAnimationIteration"),Nr(Bf,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr($f,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Wf(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ia(c,r,void 0,t),t.currentTarget=null}function Qf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var v=c.length-1;0<=v;v--){var S=c[v],P=S.instance,z=S.currentTarget;if(S=S.listener,P!==p&&f.isPropagationStopped())break e;Wf(f,S,z),p=P}else for(v=0;v<c.length;v++){if(S=c[v],P=S.instance,z=S.currentTarget,S=S.listener,P!==p&&f.isPropagationStopped())break e;Wf(f,S,z),p=P}}}if(_n)throw t=co,_n=!1,co=null,t}function qe(t,r){var o=r[Zu];o===void 0&&(o=r[Zu]=new Set);var c=t+"__bubble";o.has(c)||(Kf(r,t,2,!1),o.add(c))}function Wu(t,r,o){var c=0;r&&(c|=4),Kf(o,t,c,r)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[Ga]){t[Ga]=!0,s.forEach(function(o){o!=="selectionchange"&&(qy.has(o)||Wu(o,!1,t),Wu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ga]||(r[Ga]=!0,Wu("selectionchange",!1,r))}}function Kf(t,r,o,c){switch(_o(r)){case 1:var f=Qe;break;case 4:f=Mu;break;default:f=yo}o=f.bind(null,r,o,t),f=void 0,!Qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Qu(t,r,o,c,f){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;v=v.return}for(;S!==null;){if(v=_i(S),v===null)return;if(P=v.tag,P===5||P===6){c=p=v;continue e}S=S.parentNode}}c=c.return}uo(function(){var z=p,Y=Hi(o),J=[];e:{var G=Hf.get(t);if(G!==void 0){var ie=is,le=t;switch(t){case"keypress":if(rs(o)===0)break e;case"keydown":case"keyup":ie=d;break;case"focusin":le="focus",ie=ls;break;case"focusout":le="blur",ie=ls;break;case"beforeblur":case"afterblur":ie=ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ua;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case jf:case zf:case Bf:ie=sr;break;case $f:ie=Ue;break;case"scroll":ie=Fu;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ue=(r&4)!==0,rt=!ue&&t==="scroll",b=ue?G!==null?G+"Capture":null:G;ue=[];for(var N=z,j;N!==null;){j=N;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,b!==null&&(ee=nt(N,b),ee!=null&&ue.push(ko(N,ee,j)))),rt)break;N=N.return}0<ue.length&&(G=new ie(G,le,null,o,Y),J.push({event:G,listeners:ue}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",G&&o!==si&&(le=o.relatedTarget||o.fromElement)&&(_i(le)||le[or]))break e;if((ie||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=z,le=le?_i(le):null,le!==null&&(rt=vn(le),le!==rt||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=z),ie!==le)){if(ue=os,ee="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ue=E,ee="onPointerLeave",b="onPointerEnter",N="pointer"),rt=ie==null?G:gs(ie),j=le==null?G:gs(le),G=new ue(ee,N+"leave",ie,o,Y),G.target=rt,G.relatedTarget=j,ee=null,_i(Y)===z&&(ue=new ue(b,N+"enter",le,o,Y),ue.target=j,ue.relatedTarget=rt,ee=ue),rt=ee,ie&&le)t:{for(ue=ie,b=le,N=0,j=ue;j;j=ps(j))N++;for(j=0,ee=b;ee;ee=ps(ee))j++;for(;0<N-j;)ue=ps(ue),N--;for(;0<j-N;)b=ps(b),j--;for(;N--;){if(ue===b||b!==null&&ue===b.alternate)break t;ue=ps(ue),b=ps(b)}ue=null}else ue=null;ie!==null&&Gf(J,G,ie,ue,!1),le!==null&&rt!==null&&Gf(J,rt,le,ue,!0)}}e:{if(G=z?gs(z):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var he=Oy;else if(Pf(G))if(xf)he=Uy;else{he=Fy;var pe=My}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=by);if(he&&(he=he(t,z))){kf(J,he,o,Y);break e}pe&&pe(t,G,z),t==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&zi(G,"number",G.value)}switch(pe=z?gs(z):window,t){case"focusin":(Pf(pe)||pe.contentEditable==="true")&&(fs=pe,zu=z,Ao=null);break;case"focusout":Ao=zu=fs=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,bf(J,o,Y);break;case"selectionchange":if(By)break;case"keydown":case"keyup":bf(J,o,Y)}var me;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else hs?Af(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(yi&&o.locale!=="ko"&&(hs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&hs&&(me=vo()):(Zt=Y,ns="value"in Zt?Zt.value:Zt.textContent,hs=!0)),pe=Ya(z,_e),0<pe.length&&(_e=new To(_e,t,null,o,Y),J.push({event:_e,listeners:pe}),me?_e.data=me:(me=Cf(o),me!==null&&(_e.data=me)))),(me=en?Ny(t,o):Dy(t,o))&&(z=Ya(z,"onBeforeInput"),0<z.length&&(Y=new To("onBeforeInput","beforeinput",null,o,Y),J.push({event:Y,listeners:z}),Y.data=me))}Qf(J,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ya(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=nt(t,o),p!=null&&c.unshift(ko(t,p,f)),p=nt(t,r),p!=null&&c.push(ko(t,p,f))),t=t.return}return c}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gf(t,r,o,c,f){for(var p=r._reactName,v=[];o!==null&&o!==c;){var S=o,P=S.alternate,z=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&z!==null&&(S=z,f?(P=nt(o,p),P!=null&&v.unshift(ko(o,P,S))):f||(P=nt(o,p),P!=null&&v.push(ko(o,P,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var Wy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function Yf(t){return(typeof t=="string"?t:""+t).replace(Wy,`
`).replace(Qy,"")}function Xa(t,r,o){if(r=Yf(r),Yf(t)!==r&&o)throw Error(n(425))}function Ja(){}var Ku=null,Gu=null;function Yu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,Ky=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(t){return Xf.resolve(null).then(t).catch(Yy)}:Xu;function Yy(t){setTimeout(function(){throw t})}function Ju(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),In(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);In(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Jf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),jn="__reactFiber$"+ms,xo="__reactProps$"+ms,or="__reactContainer$"+ms,Zu="__reactEvents$"+ms,Xy="__reactListeners$"+ms,Jy="__reactHandles$"+ms;function _i(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Jf(t);t!==null;){if(o=t[jn])return o;t=Jf(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[jn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Za(t){return t[xo]||null}var ec=[],ys=-1;function Vr(t){return{current:t}}function We(t){0>ys||(t.current=ec[ys],ec[ys]=null,ys--)}function He(t,r){ys++,ec[ys]=t.current,t.current=r}var Lr={},Nt=Vr(Lr),Ht=Vr(!1),vi=Lr;function _s(t,r){var o=t.type.contextTypes;if(!o)return Lr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function qt(t){return t=t.childContextTypes,t!=null}function el(){We(Ht),We(Nt)}function Zf(t,r,o){if(Nt.current!==Lr)throw Error(n(168));He(Nt,r),He(Ht,o)}function ed(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Me(t)||"Unknown",f));return se({},o,c)}function tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,vi=Nt.current,He(Nt,t),He(Ht,Ht.current),!0}function td(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=ed(t,r,vi),c.__reactInternalMemoizedMergedChildContext=t,We(Ht),We(Nt),He(Nt,t)):We(Ht),He(Ht,o)}var ar=null,nl=!1,tc=!1;function nd(t){ar===null?ar=[t]:ar.push(t)}function Zy(t){nl=!0,nd(t)}function Or(){if(!tc&&ar!==null){tc=!0;var t=0,r=Pe;try{var o=ar;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}ar=null,nl=!1}catch(f){throw ar!==null&&(ar=ar.slice(t+1)),Xi(ci,Or),f}finally{Pe=r,tc=!1}}return null}var vs=[],Es=0,rl=null,il=0,cn=[],hn=0,Ei=null,lr=1,ur="";function wi(t,r){vs[Es++]=il,vs[Es++]=rl,rl=t,il=r}function rd(t,r,o){cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,Ei=t;var c=lr;t=ur;var f=32-bt(c)-1;c&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,lr=1<<32-bt(r)+f|o<<f|c,ur=p+t}else lr=1<<p|o<<f|c,ur=t}function nc(t){t.return!==null&&(wi(t,1),rd(t,1,0))}function rc(t){for(;t===rl;)rl=vs[--Es],vs[Es]=null,il=vs[--Es],vs[Es]=null;for(;t===Ei;)Ei=cn[--hn],cn[hn]=null,ur=cn[--hn],cn[hn]=null,lr=cn[--hn],cn[hn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function id(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function sd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ei!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sc(t){if(Ke){var r=nn;if(r){var o=r;if(!sd(t,r)){if(ic(t))throw Error(n(418));r=Dr(o.nextSibling);var c=tn;r&&sd(t,r)?id(c,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(ic(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function sl(t){if(t!==tn)return!1;if(!Ke)return od(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Yu(t.type,t.memoizedProps)),r&&(r=nn)){if(ic(t))throw ad(),Error(n(418));for(;r;)id(t,r),r=Dr(r.nextSibling)}if(od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Dr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Dr(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=nn;t;)t=Dr(t.nextSibling)}function ws(){nn=tn=null,Ke=!1}function oc(t){Cn===null?Cn=[t]:Cn.push(t)}var e_=ce.ReactCurrentBatchConfig;function Do(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=f.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ol(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ld(t){var r=t._init;return r(t._payload)}function ud(t){function r(b,N){if(t){var j=b.deletions;j===null?(b.deletions=[N],b.flags|=16):j.push(N)}}function o(b,N){if(!t)return null;for(;N!==null;)r(b,N),N=N.sibling;return null}function c(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function f(b,N){return b=$r(b,N),b.index=0,b.sibling=null,b}function p(b,N,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<N?(b.flags|=2,N):j):(b.flags|=2,N)):(b.flags|=1048576,N)}function v(b){return t&&b.alternate===null&&(b.flags|=2),b}function S(b,N,j,ee){return N===null||N.tag!==6?(N=Xc(j,b.mode,ee),N.return=b,N):(N=f(N,j),N.return=b,N)}function P(b,N,j,ee){var he=j.type;return he===x?Y(b,N,j.props.children,ee,j.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&ld(he)===N.type)?(ee=f(N,j.props),ee.ref=Do(b,N,j),ee.return=b,ee):(ee=xl(j.type,j.key,j.props,null,b.mode,ee),ee.ref=Do(b,N,j),ee.return=b,ee)}function z(b,N,j,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Jc(j,b.mode,ee),N.return=b,N):(N=f(N,j.children||[]),N.return=b,N)}function Y(b,N,j,ee,he){return N===null||N.tag!==7?(N=ki(j,b.mode,ee,he),N.return=b,N):(N=f(N,j),N.return=b,N)}function J(b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Xc(""+N,b.mode,j),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ae:return j=xl(N.type,N.key,N.props,null,b.mode,j),j.ref=Do(b,null,N),j.return=b,j;case Te:return N=Jc(N,b.mode,j),N.return=b,N;case xt:var ee=N._init;return J(b,ee(N._payload),j)}if(Xn(N)||de(N))return N=ki(N,b.mode,j,null),N.return=b,N;ol(b,N)}return null}function G(b,N,j,ee){var he=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:S(b,N,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ae:return j.key===he?P(b,N,j,ee):null;case Te:return j.key===he?z(b,N,j,ee):null;case xt:return he=j._init,G(b,N,he(j._payload),ee)}if(Xn(j)||de(j))return he!==null?null:Y(b,N,j,ee,null);ol(b,j)}return null}function ie(b,N,j,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(j)||null,S(N,b,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ae:return b=b.get(ee.key===null?j:ee.key)||null,P(N,b,ee,he);case Te:return b=b.get(ee.key===null?j:ee.key)||null,z(N,b,ee,he);case xt:var pe=ee._init;return ie(b,N,j,pe(ee._payload),he)}if(Xn(ee)||de(ee))return b=b.get(j)||null,Y(N,b,ee,he,null);ol(N,ee)}return null}function le(b,N,j,ee){for(var he=null,pe=null,me=N,_e=N=0,Et=null;me!==null&&_e<j.length;_e++){me.index>_e?(Et=me,me=null):Et=me.sibling;var Oe=G(b,me,j[_e],ee);if(Oe===null){me===null&&(me=Et);break}t&&me&&Oe.alternate===null&&r(b,me),N=p(Oe,N,_e),pe===null?he=Oe:pe.sibling=Oe,pe=Oe,me=Et}if(_e===j.length)return o(b,me),Ke&&wi(b,_e),he;if(me===null){for(;_e<j.length;_e++)me=J(b,j[_e],ee),me!==null&&(N=p(me,N,_e),pe===null?he=me:pe.sibling=me,pe=me);return Ke&&wi(b,_e),he}for(me=c(b,me);_e<j.length;_e++)Et=ie(me,b,_e,j[_e],ee),Et!==null&&(t&&Et.alternate!==null&&me.delete(Et.key===null?_e:Et.key),N=p(Et,N,_e),pe===null?he=Et:pe.sibling=Et,pe=Et);return t&&me.forEach(function(Hr){return r(b,Hr)}),Ke&&wi(b,_e),he}function ue(b,N,j,ee){var he=de(j);if(typeof he!="function")throw Error(n(150));if(j=he.call(j),j==null)throw Error(n(151));for(var pe=he=null,me=N,_e=N=0,Et=null,Oe=j.next();me!==null&&!Oe.done;_e++,Oe=j.next()){me.index>_e?(Et=me,me=null):Et=me.sibling;var Hr=G(b,me,Oe.value,ee);if(Hr===null){me===null&&(me=Et);break}t&&me&&Hr.alternate===null&&r(b,me),N=p(Hr,N,_e),pe===null?he=Hr:pe.sibling=Hr,pe=Hr,me=Et}if(Oe.done)return o(b,me),Ke&&wi(b,_e),he;if(me===null){for(;!Oe.done;_e++,Oe=j.next())Oe=J(b,Oe.value,ee),Oe!==null&&(N=p(Oe,N,_e),pe===null?he=Oe:pe.sibling=Oe,pe=Oe);return Ke&&wi(b,_e),he}for(me=c(b,me);!Oe.done;_e++,Oe=j.next())Oe=ie(me,b,_e,Oe.value,ee),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?_e:Oe.key),N=p(Oe,N,_e),pe===null?he=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(D_){return r(b,D_)}),Ke&&wi(b,_e),he}function rt(b,N,j,ee){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ae:e:{for(var he=j.key,pe=N;pe!==null;){if(pe.key===he){if(he=j.type,he===x){if(pe.tag===7){o(b,pe.sibling),N=f(pe,j.props.children),N.return=b,b=N;break e}}else if(pe.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&ld(he)===pe.type){o(b,pe.sibling),N=f(pe,j.props),N.ref=Do(b,pe,j),N.return=b,b=N;break e}o(b,pe);break}else r(b,pe);pe=pe.sibling}j.type===x?(N=ki(j.props.children,b.mode,ee,j.key),N.return=b,b=N):(ee=xl(j.type,j.key,j.props,null,b.mode,ee),ee.ref=Do(b,N,j),ee.return=b,b=ee)}return v(b);case Te:e:{for(pe=j.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){o(b,N.sibling),N=f(N,j.children||[]),N.return=b,b=N;break e}else{o(b,N);break}else r(b,N);N=N.sibling}N=Jc(j,b.mode,ee),N.return=b,b=N}return v(b);case xt:return pe=j._init,rt(b,N,pe(j._payload),ee)}if(Xn(j))return le(b,N,j,ee);if(de(j))return ue(b,N,j,ee);ol(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(o(b,N.sibling),N=f(N,j),N.return=b,b=N):(o(b,N),N=Xc(j,b.mode,ee),N.return=b,b=N),v(b)):o(b,N)}return rt}var Ts=ud(!0),cd=ud(!1),al=Vr(null),ll=null,Ss=null,ac=null;function lc(){ac=Ss=ll=null}function uc(t){var r=al.current;We(al),t._currentValue=r}function cc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){ll=t,ac=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(ll===null)throw Error(n(308));Ss=t,ll.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var Ti=null;function hc(t){Ti===null?Ti=[t]:Ti.push(t)}function hd(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,hc(r)):(o.next=f.next,f.next=o),r.interleaved=o,cr(t,c)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,cr(t,o)}return f=c.interleaved,f===null?(r.next=r,hc(c)):(r.next=f.next,f.next=r),c.interleaved=r,cr(t,o)}function ul(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Ar(t,o)}}function dd(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function cl(t,r,o,c){var f=t.updateQueue;Mr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,z=P.next;P.next=null,v===null?p=z:v.next=z,v=P;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==v&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=P))}if(p!==null){var J=f.baseState;v=0,Y=z=P=null,S=p;do{var G=S.lane,ie=S.eventTime;if((c&G)===G){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ue=S;switch(G=r,ie=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){J=le.call(ie,J,G);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(ie,J,G):le,G==null)break e;J=se({},J,G);break e;case 2:Mr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else ie={eventTime:ie,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=ie,P=J):Y=Y.next=ie,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Y===null&&(P=J),f.baseState=P,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Ri|=v,t.lanes=v,t.memoizedState=J}}function pd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Vo={},zn=Vr(Vo),Lo=Vr(Vo),Oo=Vr(Vo);function Si(t){if(t===Vo)throw Error(n(174));return t}function dc(t,r){switch(He(Oo,r),He(Lo,t),He(zn,Vo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(zn),He(zn,r)}function Rs(){We(zn),We(Lo),We(Oo)}function md(t){Si(Oo.current);var r=Si(zn.current),o=ut(r,t.type);r!==o&&(He(Lo,t),He(zn,o))}function pc(t){Lo.current===t&&(We(zn),We(Lo))}var Ge=Vr(0);function hl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mc=[];function gc(){for(var t=0;t<mc.length;t++)mc[t]._workInProgressVersionPrimary=null;mc.length=0}var fl=ce.ReactCurrentDispatcher,yc=ce.ReactCurrentBatchConfig,Ii=0,Ye=null,ht=null,_t=null,dl=!1,Mo=!1,Fo=0,t_=0;function Dt(){throw Error(n(321))}function _c(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function vc(t,r,o,c,f,p){if(Ii=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,fl.current=t===null||t.memoizedState===null?s_:o_,t=o(c,f),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,fl.current=a_,t=o(c,f)}while(Mo)}if(fl.current=gl,r=ht!==null&&ht.next!==null,Ii=0,_t=ht=Ye=null,dl=!1,r)throw Error(n(300));return t}function Ec(){var t=Fo!==0;return Fo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ye.memoizedState=_t=t:_t=_t.next=t,_t}function dn(){if(ht===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Ye.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Ye.memoizedState=_t=t:_t=_t.next=t}return _t}function bo(t,r){return typeof r=="function"?r(t):r}function wc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=ht,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var S=v=null,P=null,z=p;do{var Y=z.lane;if((Ii&Y)===Y)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(S=P=J,v=c):P=P.next=J,Ye.lanes|=Y,Ri|=Y}z=z.next}while(z!==null&&z!==p);P===null?v=c:P.next=S,An(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Ye.lanes|=p,Ri|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Tc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=t(p,v.action),v=v.next;while(v!==f);An(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function gd(){}function yd(t,r){var o=Ye,c=dn(),f=r(),p=!An(c.memoizedState,f);if(p&&(c.memoizedState=f,Wt=!0),c=c.queue,Sc(Ed.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Uo(9,vd.bind(null,o,c,f,r),void 0,null),vt===null)throw Error(n(349));Ii&30||_d(o,r,f)}return f}function _d(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function vd(t,r,o,c){r.value=o,r.getSnapshot=c,wd(r)&&Td(t)}function Ed(t,r,o){return o(function(){wd(r)&&Td(t)})}function wd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function Td(t){var r=cr(t,1);r!==null&&Nn(r,t,1,-1)}function Sd(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},r.queue=t,t=t.dispatch=i_.bind(null,Ye,t),[r.memoizedState,t]}function Uo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Id(){return dn().memoizedState}function pl(t,r,o,c){var f=Bn();Ye.flags|=t,f.memoizedState=Uo(1|r,o,void 0,c===void 0?null:c)}function ml(t,r,o,c){var f=dn();c=c===void 0?null:c;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,c!==null&&_c(c,v.deps)){f.memoizedState=Uo(r,o,p,c);return}}Ye.flags|=t,f.memoizedState=Uo(1|r,o,p,c)}function Rd(t,r){return pl(8390656,8,t,r)}function Sc(t,r){return ml(2048,8,t,r)}function Ad(t,r){return ml(4,2,t,r)}function Cd(t,r){return ml(4,4,t,r)}function Pd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function kd(t,r,o){return o=o!=null?o.concat([t]):null,ml(4,4,Pd.bind(null,r,t),o)}function Ic(){}function xd(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&_c(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Nd(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&_c(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Dd(t,r,o){return Ii&21?(An(o,r)||(o=di(),Ye.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function n_(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=yc.transition;yc.transition={};try{t(!1),r()}finally{Pe=o,yc.transition=c}}function Vd(){return dn().memoizedState}function r_(t,r,o){var c=zr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Ld(t))Od(r,o);else if(o=hd(t,r,o,c),o!==null){var f=zt();Nn(o,t,c,f),Md(o,r,c)}}function i_(t,r,o){var c=zr(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ld(t))Od(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(f.hasEagerState=!0,f.eagerState=S,An(S,v)){var P=r.interleaved;P===null?(f.next=f,hc(r)):(f.next=P.next,P.next=f),r.interleaved=f;return}}catch{}finally{}o=hd(t,r,f,c),o!==null&&(f=zt(),Nn(o,t,c,f),Md(o,r,c))}}function Ld(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Od(t,r){Mo=dl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Md(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Ar(t,o)}}var gl={readContext:fn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},s_={readContext:fn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:Rd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,pl(4194308,4,Pd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return pl(4194308,4,t,r)},useInsertionEffect:function(t,r){return pl(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Bn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=r_.bind(null,Ye,t),[c.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:Sd,useDebugValue:Ic,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Sd(!1),r=t[0];return t=n_.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Ye,f=Bn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Ii&30||_d(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Rd(Ed.bind(null,c,p,t),[t]),c.flags|=2048,Uo(9,vd.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=vt.identifierPrefix;if(Ke){var o=ur,c=lr;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=t_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},o_={readContext:fn,useCallback:xd,useContext:fn,useEffect:Sc,useImperativeHandle:kd,useInsertionEffect:Ad,useLayoutEffect:Cd,useMemo:Nd,useReducer:wc,useRef:Id,useState:function(){return wc(bo)},useDebugValue:Ic,useDeferredValue:function(t){var r=dn();return Dd(r,ht.memoizedState,t)},useTransition:function(){var t=wc(bo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:gd,useSyncExternalStore:yd,useId:Vd,unstable_isNewReconciler:!1},a_={readContext:fn,useCallback:xd,useContext:fn,useEffect:Sc,useImperativeHandle:kd,useInsertionEffect:Ad,useLayoutEffect:Cd,useMemo:Nd,useReducer:Tc,useRef:Id,useState:function(){return Tc(bo)},useDebugValue:Ic,useDeferredValue:function(t){var r=dn();return ht===null?r.memoizedState=t:Dd(r,ht.memoizedState,t)},useTransition:function(){var t=Tc(bo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:gd,useSyncExternalStore:yd,useId:Vd,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Rc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var yl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=zt(),f=zr(t),p=hr(c,f);p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,f),r!==null&&(Nn(r,t,f,c),ul(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=zt(),f=zr(t),p=hr(c,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,f),r!==null&&(Nn(r,t,f,c),ul(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),c=zr(t),f=hr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Fr(t,f,c),r!==null&&(Nn(r,t,c,o),ul(r,t,c))}};function Fd(t,r,o,c,f,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ro(o,c)||!Ro(f,p):!0}function bd(t,r,o){var c=!1,f=Lr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(f=qt(r)?vi:Nt.current,c=r.contextTypes,p=(c=c!=null)?_s(t,f):Lr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=yl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function Ud(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&yl.enqueueReplaceState(r,r.state,null)}function Ac(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},fc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=fn(p):(p=qt(r)?vi:Nt.current,f.context=_s(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Rc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&yl.enqueueReplaceState(f,f.state,null),cl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,r){try{var o="",c=r;do o+=Ie(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Cc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Pc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var l_=typeof WeakMap=="function"?WeakMap:Map;function jd(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Il||(Il=!0,$c=c),Pc(t,r)},o}function zd(t,r,o){o=hr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Pc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Pc(t,r),typeof c!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Bd(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new l_;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=T_.bind(null,t,r,o),r.then(t,t))}function $d(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Hd(t,r,o,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Fr(o,r,1))),o.lanes|=1),t)}var u_=ce.ReactCurrentOwner,Wt=!1;function jt(t,r,o,c){r.child=t===null?cd(r,null,o,c):Ts(r,t.child,o,c)}function qd(t,r,o,c,f){o=o.render;var p=r.ref;return Is(r,f),c=vc(t,r,o,c,p,f),o=Ec(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,fr(t,r,f)):(Ke&&o&&nc(r),r.flags|=1,jt(t,r,c,f),r.child)}function Wd(t,r,o,c,f){if(t===null){var p=o.type;return typeof p=="function"&&!Yc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Qd(t,r,p,c,f)):(t=xl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(v,c)&&t.ref===r.ref)return fr(t,r,f)}return r.flags|=1,t=$r(p,c),t.ref=r.ref,t.return=r,r.child=t}function Qd(t,r,o,c,f){if(t!==null){var p=t.memoizedProps;if(Ro(p,c)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=c=p,(t.lanes&f)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,fr(t,r,f)}return kc(t,r,o,c,f)}function Kd(t,r,o){var c=r.pendingProps,f=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ps,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ps,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,He(Ps,rn),rn|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,He(Ps,rn),rn|=c;return jt(t,r,f,o),r.child}function Gd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function kc(t,r,o,c,f){var p=qt(o)?vi:Nt.current;return p=_s(r,p),Is(r,f),o=vc(t,r,o,c,p,f),c=Ec(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,fr(t,r,f)):(Ke&&c&&nc(r),r.flags|=1,jt(t,r,o,f),r.child)}function Yd(t,r,o,c,f){if(qt(o)){var p=!0;tl(r)}else p=!1;if(Is(r,f),r.stateNode===null)vl(t,r),bd(r,o,c),Ac(r,o,c,f),c=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var P=v.context,z=o.contextType;typeof z=="object"&&z!==null?z=fn(z):(z=qt(o)?vi:Nt.current,z=_s(r,z));var Y=o.getDerivedStateFromProps,J=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||P!==z)&&Ud(r,v,c,z),Mr=!1;var G=r.memoizedState;v.state=G,cl(r,c,v,f),P=r.memoizedState,S!==c||G!==P||Ht.current||Mr?(typeof Y=="function"&&(Rc(r,o,Y,c),P=r.memoizedState),(S=Mr||Fd(r,o,S,c,G,P,z))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),v.props=c,v.state=P,v.context=z,c=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,fd(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:Pn(r.type,S),v.props=z,J=r.pendingProps,G=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=fn(P):(P=qt(o)?vi:Nt.current,P=_s(r,P));var ie=o.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==J||G!==P)&&Ud(r,v,c,P),Mr=!1,G=r.memoizedState,v.state=G,cl(r,c,v,f);var le=r.memoizedState;S!==J||G!==le||Ht.current||Mr?(typeof ie=="function"&&(Rc(r,o,ie,c),le=r.memoizedState),(z=Mr||Fd(r,o,z,c,G,le,P)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,le,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,le,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=le),v.props=c,v.state=le,v.context=P,c=z):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),c=!1)}return xc(t,r,o,c,p,f)}function xc(t,r,o,c,f,p){Gd(t,r);var v=(r.flags&128)!==0;if(!c&&!v)return f&&td(r,o,!1),fr(t,r,p);c=r.stateNode,u_.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&v?(r.child=Ts(r,t.child,null,p),r.child=Ts(r,null,S,p)):jt(t,r,S,p),r.memoizedState=c.state,f&&td(r,o,!0),r.child}function Xd(t){var r=t.stateNode;r.pendingContext?Zf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Zf(t,r.context,!1),dc(t,r.containerInfo)}function Jd(t,r,o,c,f){return ws(),oc(f),r.flags|=256,jt(t,r,o,c),r.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zd(t,r,o){var c=r.pendingProps,f=Ge.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),He(Ge,f&1),t===null)return sc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=c.children,t=c.fallback,p?(c=r.mode,p=r.child,v={mode:"hidden",children:v},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Nl(v,c,0,null),t=ki(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Dc(o),r.memoizedState=Nc,t):Vc(r,v));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return c_(t,r,v,c,S,f,o);if(p){p=c.fallback,v=r.mode,f=t.child,S=f.sibling;var P={mode:"hidden",children:c.children};return!(v&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=$r(f,P),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=$r(S,p):(p=ki(p,v,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,v=t.child.memoizedState,v=v===null?Dc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Nc,c}return p=t.child,t=p.sibling,c=$r(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Vc(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function _l(t,r,o,c){return c!==null&&oc(c),Ts(r,t.child,null,o),t=Vc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c_(t,r,o,c,f,p,v){if(o)return r.flags&256?(r.flags&=-257,c=Cc(Error(n(422))),_l(t,r,v,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,f=r.mode,c=Nl({mode:"visible",children:c.children},f,0,null),p=ki(p,f,v,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&Ts(r,t.child,null,v),r.child.memoizedState=Dc(v),r.memoizedState=Nc,p);if(!(r.mode&1))return _l(t,r,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=Cc(p,c,void 0),_l(t,r,v,c)}if(S=(v&t.childLanes)!==0,Wt||S){if(c=vt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,cr(t,f),Nn(c,t,f,-1))}return Gc(),c=Cc(Error(n(421))),_l(t,r,v,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=S_.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,nn=Dr(f.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,lr=t.id,ur=t.overflow,Ei=r),r=Vc(r,c.children),r.flags|=4096,r)}function ep(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),cc(t.return,r,o)}function Lc(t,r,o,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function tp(t,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(jt(t,r,c.children,o),c=Ge.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ep(t,o,r);else if(t.tag===19)ep(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Ge,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&hl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Lc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&hl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Lc(r,!0,o,null,p);break;case"together":Lc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=$r(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function h_(t,r,o){switch(r.tag){case 3:Xd(r),ws();break;case 5:md(r);break;case 1:qt(r.type)&&tl(r);break;case 4:dc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;He(al,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Zd(t,r,o):(He(Ge,Ge.current&1),t=fr(t,r,o),t!==null?t.sibling:null);He(Ge,Ge.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return tp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Ge,Ge.current),c)break;return null;case 22:case 23:return r.lanes=0,Kd(t,r,o)}return fr(t,r,o)}var np,Oc,rp,ip;np=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Oc=function(){},rp=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Si(zn.current);var p=null;switch(o){case"input":f=ni(t,f),c=ni(t,c),p=[];break;case"select":f=se({},f,{value:void 0}),c=se({},c,{value:void 0}),p=[];break;case"textarea":f=Zs(t,f),c=Zs(t,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Ja)}so(o,c);var v;o=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var S=f[z];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in c){var P=c[z];if(S=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&P!==S&&(P!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(z,o)),o=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&qe("scroll",t),p||S===P||(p=[])):(p=p||[]).push(z,P))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},ip=function(t,r,o,c){o!==c&&(r.flags|=4)};function jo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function f_(t,r,o){var c=r.pendingProps;switch(rc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return qt(r.type)&&el(),Vt(r),null;case 3:return c=r.stateNode,Rs(),We(Ht),We(Nt),gc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(sl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Wc(Cn),Cn=null))),Oc(t,r),Vt(r),null;case 5:pc(r);var f=Si(Oo.current);if(o=r.type,t!==null&&r.stateNode!=null)rp(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Si(zn.current),sl(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[jn]=r,c[xo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(f=0;f<Co.length;f++)qe(Co[f],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":ji(c,p),qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},qe("invalid",c);break;case"textarea":Bi(c,p),qe("invalid",c)}so(o,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&Xa(c.textContent,S,t),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Xa(c.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&qe("scroll",c)}switch(o){case"input":Yn(c),Sa(c,p,!0);break;case"textarea":Yn(c),eo(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Ja)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(o,{is:c.is}):(t=v.createElement(o),o==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,o),t[jn]=r,t[xo]=c,np(t,r,!1,!1),r.stateNode=t;e:{switch(v=oo(o,c),o){case"dialog":qe("cancel",t),qe("close",t),f=c;break;case"iframe":case"object":case"embed":qe("load",t),f=c;break;case"video":case"audio":for(f=0;f<Co.length;f++)qe(Co[f],t);f=c;break;case"source":qe("error",t),f=c;break;case"img":case"image":case"link":qe("error",t),qe("load",t),f=c;break;case"details":qe("toggle",t),f=c;break;case"input":ji(t,c),f=ni(t,c),qe("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=se({},c,{value:void 0}),qe("invalid",t);break;case"textarea":Bi(t,c),f=Zs(t,c),qe("invalid",t);break;default:f=c}so(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?ro(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&to(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&wr(t,P):typeof P=="number"&&wr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&re(t,p,P,v))}switch(o){case"input":Yn(t),Sa(t,c,!1);break;case"textarea":Yn(t),eo(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?Jn(t,!!c.multiple,p,!1):c.defaultValue!=null&&Jn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Ja)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)ip(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Oo.current),Si(zn.current),sl(r)){if(c=r.stateNode,o=r.memoizedProps,c[jn]=r,(p=c.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Xa(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[jn]=r,r.stateNode=c}return Vt(r),null;case 13:if(We(Ge),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))ad(),ws(),r.flags|=98560,p=!1;else if(p=sl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else ws(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Cn!==null&&(Wc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ft===0&&(ft=3):Gc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Rs(),Oc(t,r),t===null&&Po(r.stateNode.containerInfo),Vt(r),null;case 10:return uc(r.type._context),Vt(r),null;case 17:return qt(r.type)&&el(),Vt(r),null;case 19:if(We(Ge),p=r.memoizedState,p===null)return Vt(r),null;if(c=(r.flags&128)!==0,v=p.rendering,v===null)if(c)jo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=hl(t),v!==null){for(r.flags|=128,jo(p,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>ks&&(r.flags|=128,c=!0,jo(p,!1),r.lanes=4194304)}else{if(!c)if(t=hl(v),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),jo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Vt(r),null}else 2*$e()-p.renderingStartTime>ks&&o!==1073741824&&(r.flags|=128,c=!0,jo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ge.current,He(Ge,c?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Kc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?rn&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function d_(t,r){switch(rc(r),r.tag){case 1:return qt(r.type)&&el(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rs(),We(Ht),We(Nt),gc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return pc(r),null;case 13:if(We(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ge),null;case 4:return Rs(),null;case 10:return uc(r.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var El=!1,Lt=!1,p_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Cs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ze(t,r,c)}else o.current=null}function Mc(t,r,o){try{o()}catch(c){Ze(t,r,c)}}var sp=!1;function m_(t,r){if(Ku=kr,t=Ff(),ju(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,P=-1,z=0,Y=0,J=t,G=null;t:for(;;){for(var ie;J!==o||f!==0&&J.nodeType!==3||(S=v+f),J!==p||c!==0&&J.nodeType!==3||(P=v+c),J.nodeType===3&&(v+=J.nodeValue.length),(ie=J.firstChild)!==null;)G=J,J=ie;for(;;){if(J===t)break t;if(G===o&&++z===f&&(S=v),G===p&&++Y===c&&(P=v),(ie=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=ie}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gu={focusedElem:t,selectionRange:o},kr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,rt=le.memoizedState,b=r.stateNode,N=b.getSnapshotBeforeUpdate(r.elementType===r.type?ue:Pn(r.type,ue),rt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){Ze(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=sp,sp=!1,le}function zo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Mc(r,o,p)}f=f.next}while(f!==c)}}function wl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Fc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function op(t){var r=t.alternate;r!==null&&(t.alternate=null,op(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[xo],delete r[Zu],delete r[Xy],delete r[Jy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ap(t){return t.tag===5||t.tag===3||t.tag===4}function lp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ja));else if(c!==4&&(t=t.child,t!==null))for(bc(t,r,o),t=t.sibling;t!==null;)bc(t,r,o),t=t.sibling}function Uc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Uc(t,r,o),t=t.sibling;t!==null;)Uc(t,r,o),t=t.sibling}var It=null,kn=!1;function br(t,r,o){for(o=o.child;o!==null;)up(t,r,o),o=o.sibling}function up(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(hi,o)}catch{}switch(o.tag){case 5:Lt||Cs(o,r);case 6:var c=It,f=kn;It=null,br(t,r,o),It=c,kn=f,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?Ju(t.parentNode,o):t.nodeType===1&&Ju(t,o),In(t)):Ju(It,o.stateNode));break;case 4:c=It,f=kn,It=o.stateNode.containerInfo,kn=!0,br(t,r,o),It=c,kn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Mc(o,r,v),f=f.next}while(f!==c)}br(t,r,o);break;case 1:if(!Lt&&(Cs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){Ze(o,r,S)}br(t,r,o);break;case 21:br(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,br(t,r,o),Lt=c):br(t,r,o);break;default:br(t,r,o)}}function cp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new p_),r.forEach(function(c){var f=I_.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));up(p,v,f),It=null,kn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(z){Ze(f,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)hp(r,t),r=r.sibling}function hp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),c&4){try{zo(3,t,t.return),wl(3,t)}catch(ue){Ze(t,t.return,ue)}try{zo(5,t,t.return)}catch(ue){Ze(t,t.return,ue)}}break;case 1:xn(r,t),$n(t),c&512&&o!==null&&Cs(o,o.return);break;case 5:if(xn(r,t),$n(t),c&512&&o!==null&&Cs(o,o.return),t.flags&32){var f=t.stateNode;try{wr(f,"")}catch(ue){Ze(t,t.return,ue)}}if(c&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Xs(f,p),oo(S,v);var z=oo(S,p);for(v=0;v<P.length;v+=2){var Y=P[v],J=P[v+1];Y==="style"?ro(f,J):Y==="dangerouslySetInnerHTML"?to(f,J):Y==="children"?wr(f,J):re(f,Y,J,z)}switch(S){case"input":Js(f,p);break;case"textarea":$i(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?Jn(f,!!p.multiple,ie,!1):G!==!!p.multiple&&(p.defaultValue!=null?Jn(f,!!p.multiple,p.defaultValue,!0):Jn(f,!!p.multiple,p.multiple?[]:"",!1))}f[xo]=p}catch(ue){Ze(t,t.return,ue)}}break;case 6:if(xn(r,t),$n(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(ue){Ze(t,t.return,ue)}}break;case 3:if(xn(r,t),$n(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ue){Ze(t,t.return,ue)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Bc=$e())),c&4&&cp(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(z=Lt)||Y,xn(r,t),Lt=z):xn(r,t),$n(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!Y&&t.mode&1)for(ae=t,Y=t.child;Y!==null;){for(J=ae=Y;ae!==null;){switch(G=ae,ie=G.child,G.tag){case 0:case 11:case 14:case 15:zo(4,G,G.return);break;case 1:Cs(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){c=G,o=G.return;try{r=c,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){Ze(c,o,ue)}}break;case 5:Cs(G,G.return);break;case 22:if(G.memoizedState!==null){pp(J);continue}}ie!==null?(ie.return=G,ae=ie):pp(J)}Y=Y.sibling}e:for(Y=null,J=t;;){if(J.tag===5){if(Y===null){Y=J;try{f=J.stateNode,z?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=no("display",v))}catch(ue){Ze(t,t.return,ue)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ue){Ze(t,t.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:xn(r,t),$n(t),c&4&&cp(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(ap(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(wr(f,""),c.flags&=-33);var p=lp(t);Uc(t,p,f);break;case 3:case 4:var v=c.stateNode.containerInfo,S=lp(t);bc(t,S,v);break;default:throw Error(n(161))}}catch(P){Ze(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function g_(t,r,o){ae=t,fp(t)}function fp(t,r,o){for(var c=(t.mode&1)!==0;ae!==null;){var f=ae,p=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||El;if(!v){var S=f.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=El;var z=Lt;if(El=v,(Lt=P)&&!z)for(ae=f;ae!==null;)v=ae,P=v.child,v.tag===22&&v.memoizedState!==null?mp(f):P!==null?(P.return=v,ae=P):mp(f);for(;p!==null;)ae=p,fp(p),p=p.sibling;ae=f,El=S,Lt=z}dp(t)}else f.subtreeFlags&8772&&p!==null?(p.return=f,ae=p):dp(t)}}function dp(t){for(;ae!==null;){var r=ae;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||wl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&pd(r,p,c);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}pd(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&In(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Fc(r)}catch(G){Ze(r,r.return,G)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function pp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function mp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{wl(4,r)}catch(P){Ze(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(P){Ze(r,f,P)}}var p=r.return;try{Fc(r)}catch(P){Ze(r,p,P)}break;case 5:var v=r.return;try{Fc(r)}catch(P){Ze(r,v,P)}}}catch(P){Ze(r,r.return,P)}if(r===t){ae=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ae=S;break}ae=r.return}}var y_=Math.ceil,Tl=ce.ReactCurrentDispatcher,jc=ce.ReactCurrentOwner,pn=ce.ReactCurrentBatchConfig,Le=0,vt=null,ot=null,Rt=0,rn=0,Ps=Vr(0),ft=0,Bo=null,Ri=0,Sl=0,zc=0,$o=null,Qt=null,Bc=0,ks=1/0,dr=null,Il=!1,$c=null,Ur=null,Rl=!1,jr=null,Al=0,Ho=0,Hc=null,Cl=-1,Pl=0;function zt(){return Le&6?$e():Cl!==-1?Cl:Cl=$e()}function zr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:e_.transition!==null?(Pl===0&&(Pl=di()),Pl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Nn(t,r,o,c){if(50<Ho)throw Ho=0,Hc=null,Error(n(185));Rr(t,o,c),(!(Le&2)||t!==vt)&&(t===vt&&(!(Le&2)&&(Sl|=o),ft===4&&Br(t,Rt)),Kt(t,c),o===1&&Le===0&&!(r.mode&1)&&(ks=$e()+500,nl&&Or()))}function Kt(t,r){var o=t.callbackNode;tr(t,r);var c=fi(t,t===vt?Rt:0);if(c===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?Zy(yp.bind(null,t)):nd(yp.bind(null,t)),Gy(function(){!(Le&6)&&Or()}),o=null;else{switch(Cr(c)){case 1:o=ci;break;case 4:o=Tr;break;case 16:o=an;break;case 536870912:o=Pa;break;default:o=an}o=Rp(o,gp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function gp(t,r){if(Cl=-1,Pl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(xs()&&t.callbackNode!==o)return null;var c=fi(t,t===vt?Rt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=kl(t,c);else{r=c;var f=Le;Le|=2;var p=vp();(vt!==t||Rt!==r)&&(dr=null,ks=$e()+500,Ci(t,r));do try{E_();break}catch(S){_p(t,S)}while(!0);lc(),Tl.current=p,Le=f,ot!==null?r=0:(vt=null,Rt=0,r=ft)}if(r!==0){if(r===2&&(f=Jt(t),f!==0&&(c=f,r=qc(t,f))),r===1)throw o=Bo,Ci(t,0),Br(t,c),Kt(t,$e()),o;if(r===6)Br(t,c);else{if(f=t.current.alternate,!(c&30)&&!__(f)&&(r=kl(t,c),r===2&&(p=Jt(t),p!==0&&(c=p,r=qc(t,p))),r===1))throw o=Bo,Ci(t,0),Br(t,c),Kt(t,$e()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Pi(t,Qt,dr);break;case 3:if(Br(t,c),(c&130023424)===c&&(r=Bc+500-$e(),10<r)){if(fi(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){zt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Xu(Pi.bind(null,t,Qt,dr),r);break}Pi(t,Qt,dr);break;case 4:if(Br(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var v=31-bt(c);p=1<<v,v=r[v],v>f&&(f=v),c&=~p}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*y_(c/1960))-c,10<c){t.timeoutHandle=Xu(Pi.bind(null,t,Qt,dr),c);break}Pi(t,Qt,dr);break;case 5:Pi(t,Qt,dr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?gp.bind(null,t):null}function qc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(Ci(t,r).flags|=256),t=kl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Wc(r)),t}function Wc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function __(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!An(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Br(t,r){for(r&=~zc,r&=~Sl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),c=1<<o;t[o]=-1,r&=~c}}function yp(t){if(Le&6)throw Error(n(327));xs();var r=fi(t,0);if(!(r&1))return Kt(t,$e()),null;var o=kl(t,r);if(t.tag!==0&&o===2){var c=Jt(t);c!==0&&(r=c,o=qc(t,c))}if(o===1)throw o=Bo,Ci(t,0),Br(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Pi(t,Qt,dr),Kt(t,$e()),null}function Qc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(ks=$e()+500,nl&&Or())}}function Ai(t){jr!==null&&jr.tag===0&&!(Le&6)&&xs();var r=Le;Le|=1;var o=pn.transition,c=Pe;try{if(pn.transition=null,Pe=1,t)return t()}finally{Pe=c,pn.transition=o,Le=r,!(Le&6)&&Or()}}function Kc(){rn=Ps.current,We(Ps)}function Ci(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ky(o)),ot!==null)for(o=ot.return;o!==null;){var c=o;switch(rc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&el();break;case 3:Rs(),We(Ht),We(Nt),gc();break;case 5:pc(c);break;case 4:Rs();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:uc(c.type._context);break;case 22:case 23:Kc()}o=o.return}if(vt=t,ot=t=$r(t.current,null),Rt=rn=r,ft=0,Bo=null,zc=Sl=Ri=0,Qt=$o=null,Ti!==null){for(r=0;r<Ti.length;r++)if(o=Ti[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var v=p.next;p.next=f,c.next=v}o.pending=c}Ti=null}return t}function _p(t,r){do{var o=ot;try{if(lc(),fl.current=gl,dl){for(var c=Ye.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}dl=!1}if(Ii=0,_t=ht=Ye=null,Mo=!1,Fo=0,jc.current=null,o===null||o.return===null){ft=1,Bo=r,ot=null;break}e:{var p=t,v=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Y=S,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=$d(v);if(ie!==null){ie.flags&=-257,Hd(ie,v,S,p,r),ie.mode&1&&Bd(p,z,r),r=ie,P=z;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else le.add(P);break e}else{if(!(r&1)){Bd(p,z,r),Gc();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=$d(v);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Hd(rt,v,S,p,r),oc(As(P,S));break e}}p=P=As(P,S),ft!==4&&(ft=2),$o===null?$o=[p]:$o.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=jd(p,P,r);dd(p,b);break e;case 1:S=P;var N=p.type,j=p.stateNode;if(!(p.flags&128)&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ur===null||!Ur.has(j)))){p.flags|=65536,r&=-r,p.lanes|=r;var ee=zd(p,S,r);dd(p,ee);break e}}p=p.return}while(p!==null)}wp(o)}catch(he){r=he,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function vp(){var t=Tl.current;return Tl.current=gl,t===null?gl:t}function Gc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Ri&268435455)&&!(Sl&268435455)||Br(vt,Rt)}function kl(t,r){var o=Le;Le|=2;var c=vp();(vt!==t||Rt!==r)&&(dr=null,Ci(t,r));do try{v_();break}catch(f){_p(t,f)}while(!0);if(lc(),Le=o,Tl.current=c,ot!==null)throw Error(n(261));return vt=null,Rt=0,ft}function v_(){for(;ot!==null;)Ep(ot)}function E_(){for(;ot!==null&&!Aa();)Ep(ot)}function Ep(t){var r=Ip(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?wp(t):ot=r,jc.current=null}function wp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=d_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=f_(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Pi(t,r,o){var c=Pe,f=pn.transition;try{pn.transition=null,Pe=1,w_(t,r,o,c)}finally{pn.transition=f,Pe=c}return null}function w_(t,r,o,c){do xs();while(jr!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===vt&&(ot=vt=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Rl||(Rl=!0,Rp(an,function(){return xs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var v=Pe;Pe=1;var S=Le;Le|=4,jc.current=null,m_(t,o),hp(o,t),zy(Gu),kr=!!Ku,Gu=Ku=null,t.current=o,g_(o),Du(),Le=S,Pe=v,pn.transition=p}else t.current=o;if(Rl&&(Rl=!1,jr=t,Al=f),p=t.pendingLanes,p===0&&(Ur=null),ka(o.stateNode),Kt(t,$e()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Il)throw Il=!1,t=$c,$c=null,t;return Al&1&&t.tag!==0&&xs(),p=t.pendingLanes,p&1?t===Hc?Ho++:(Ho=0,Hc=t):Ho=0,Or(),null}function xs(){if(jr!==null){var t=Cr(Al),r=pn.transition,o=Pe;try{if(pn.transition=null,Pe=16>t?16:t,jr===null)var c=!1;else{if(t=jr,jr=null,Al=0,Le&6)throw Error(n(331));var f=Le;for(Le|=4,ae=t.current;ae!==null;){var p=ae,v=p.child;if(ae.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var z=S[P];for(ae=z;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:zo(8,Y,p)}var J=Y.child;if(J!==null)J.return=Y,ae=J;else for(;ae!==null;){Y=ae;var G=Y.sibling,ie=Y.return;if(op(Y),Y===z){ae=null;break}if(G!==null){G.return=ie,ae=G;break}ae=ie}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var rt=ue.sibling;ue.sibling=null,ue=rt}while(ue!==null)}}ae=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,ae=v;else e:for(;ae!==null;){if(p=ae,p.flags&2048)switch(p.tag){case 0:case 11:case 15:zo(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,ae=b;break e}ae=p.return}}var N=t.current;for(ae=N;ae!==null;){v=ae;var j=v.child;if(v.subtreeFlags&2064&&j!==null)j.return=v,ae=j;else e:for(v=N;ae!==null;){if(S=ae,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:wl(9,S)}}catch(he){Ze(S,S.return,he)}if(S===v){ae=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,ae=ee;break e}ae=S.return}}if(Le=f,Or(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(hi,t)}catch{}c=!0}return c}finally{Pe=o,pn.transition=r}}return!1}function Tp(t,r,o){r=As(o,r),r=jd(t,r,1),t=Fr(t,r,1),r=zt(),t!==null&&(Rr(t,1,r),Kt(t,r))}function Ze(t,r,o){if(t.tag===3)Tp(t,t,o);else for(;r!==null;){if(r.tag===3){Tp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ur===null||!Ur.has(c))){t=As(o,t),t=zd(r,t,1),r=Fr(r,t,1),t=zt(),r!==null&&(Rr(r,1,t),Kt(r,t));break}}r=r.return}}function T_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(Rt&o)===o&&(ft===4||ft===3&&(Rt&130023424)===Rt&&500>$e()-Bc?Ci(t,0):zc|=o),Kt(t,r)}function Sp(t,r){r===0&&(t.mode&1?(r=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):r=1);var o=zt();t=cr(t,r),t!==null&&(Rr(t,r,o),Kt(t,o))}function S_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Sp(t,o)}function I_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Sp(t,o)}var Ip;Ip=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,h_(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&rd(r,il,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;vl(t,r),t=r.pendingProps;var f=_s(r,Nt.current);Is(r,o),f=vc(null,r,c,t,f,o);var p=Ec();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(c)?(p=!0,tl(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fc(r),f.updater=yl,r.stateNode=f,f._reactInternals=r,Ac(r,c,t,o),r=xc(null,r,c,!0,p,o)):(r.tag=0,Ke&&p&&nc(r),jt(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(vl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=A_(c),t=Pn(c,t),f){case 0:r=kc(null,r,c,t,o);break e;case 1:r=Yd(null,r,c,t,o);break e;case 11:r=qd(null,r,c,t,o);break e;case 14:r=Wd(null,r,c,Pn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),kc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),Yd(t,r,c,f,o);case 3:e:{if(Xd(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,f=p.element,fd(t,r),cl(r,c,null,o);var v=r.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=As(Error(n(423)),r),r=Jd(t,r,c,o,f);break e}else if(c!==f){f=As(Error(n(424)),r),r=Jd(t,r,c,o,f);break e}else for(nn=Dr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=cd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ws(),c===f){r=fr(t,r,o);break e}jt(t,r,c,o)}r=r.child}return r;case 5:return md(r),t===null&&sc(r),c=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,v=f.children,Yu(c,f)?v=null:p!==null&&Yu(c,p)&&(r.flags|=32),Gd(t,r),jt(t,r,v,o),r.child;case 6:return t===null&&sc(r),null;case 13:return Zd(t,r,o);case 4:return dc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ts(r,null,c,o):jt(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),qd(t,r,c,f,o);case 7:return jt(t,r,r.pendingProps,o),r.child;case 8:return jt(t,r,r.pendingProps.children,o),r.child;case 12:return jt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,p=r.memoizedProps,v=f.value,He(al,c._currentValue),c._currentValue=v,p!==null)if(An(p.value,v)){if(p.children===f.children&&!Ht.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=hr(-1,o&-o),P.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),z.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),cc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),cc(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}jt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Is(r,o),f=fn(f),c=c(f),r.flags|=1,jt(t,r,c,o),r.child;case 14:return c=r.type,f=Pn(c,r.pendingProps),f=Pn(c.type,f),Wd(t,r,c,f,o);case 15:return Qd(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),vl(t,r),r.tag=1,qt(c)?(t=!0,tl(r)):t=!1,Is(r,o),bd(r,c,f),Ac(r,c,f,o),xc(null,r,c,!0,t,o);case 19:return tp(t,r,o);case 22:return Kd(t,r,o)}throw Error(n(156,r.tag))};function Rp(t,r){return Xi(t,r)}function R_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,c){return new R_(t,r,o,c)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A_(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===kt)return 14}return 2}function $r(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function xl(t,r,o,c,f,p){var v=2;if(c=t,typeof t=="function")Yc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return ki(o.children,f,p,r);case T:v=8,f|=8;break;case R:return t=mn(12,o,r,f|2),t.elementType=R,t.lanes=p,t;case C:return t=mn(13,o,r,f),t.elementType=C,t.lanes=p,t;case tt:return t=mn(19,o,r,f),t.elementType=tt,t.lanes=p,t;case je:return Nl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case D:v=9;break e;case M:v=11;break e;case kt:v=14;break e;case xt:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(v,o,r,f),r.elementType=t,r.type=c,r.lanes=p,r}function ki(t,r,o,c){return t=mn(7,t,c,r),t.lanes=o,t}function Nl(t,r,o,c){return t=mn(22,t,c,r),t.elementType=je,t.lanes=o,t.stateNode={isHidden:!1},t}function Xc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function Jc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function C_(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Zc(t,r,o,c,f,p,v,S,P){return t=new C_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(p),t}function P_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Ap(t){if(!t)return Lr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return ed(t,o,r)}return r}function Cp(t,r,o,c,f,p,v,S,P){return t=Zc(o,c,!0,t,f,p,v,S,P),t.context=Ap(null),o=t.current,c=zt(),f=zr(o),p=hr(c,f),p.callback=r??null,Fr(o,p,f),t.current.lanes=f,Rr(t,f,c),Kt(t,c),t}function Dl(t,r,o,c){var f=r.current,p=zt(),v=zr(f);return o=Ap(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,v),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Fr(f,r,v),t!==null&&(Nn(t,f,v,p),ul(t,f,v)),v}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function eh(t,r){Pp(t,r),(t=t.alternate)&&Pp(t,r)}var kp=typeof reportError=="function"?reportError:function(t){console.error(t)};function th(t){this._internalRoot=t}Ll.prototype.render=th.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Dl(t,r,null,null)},Ll.prototype.unmount=th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ai(function(){Dl(null,t,null,null)}),r[or]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var r=La();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&Fa(t)}};function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function k_(t,r,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var z=Vl(v);p.call(z)}}var v=Cp(r,c,t,0,null,!1,!1,"",xp);return t._reactRootContainer=v,t[or]=v.current,Po(t.nodeType===8?t.parentNode:t),Ai(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var z=Vl(P);S.call(z)}}var P=Zc(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=P,t[or]=P.current,Po(t.nodeType===8?t.parentNode:t),Ai(function(){Dl(r,P,o,c)}),P}function Ml(t,r,o,c,f){var p=o._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var S=f;f=function(){var P=Vl(v);S.call(P)}}Dl(r,v,t,f)}else v=k_(o,r,t,f,c);return Vl(v)}Da=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Sr(r.pendingLanes);o!==0&&(Ar(r,o|1),Kt(r,$e()),!(Le&6)&&(ks=$e()+500,Or()))}break;case 13:Ai(function(){var c=cr(t,1);if(c!==null){var f=zt();Nn(c,t,1,f)}}),eh(t,1)}},es=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=zt();Nn(r,t,134217728,o)}eh(t,134217728)}},Va=function(t){if(t.tag===13){var r=zr(t),o=cr(t,r);if(o!==null){var c=zt();Nn(o,t,r,c)}eh(t,r)}},La=function(){return Pe},Oa=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},qi=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=Za(c);if(!f)throw Error(n(90));Ui(c),Js(c,f)}}}break;case"textarea":$i(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},oi=Qc,lo=Ai;var x_={usingClientEntryPoint:!1,Events:[No,gs,Za,Ln,ao,Qc]},qo={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N_={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{hi=Fl.inject(N_),Xt=Fl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nh(r))throw Error(n(200));return P_(t,r,null,o)},Gt.createRoot=function(t,r){if(!nh(t))throw Error(n(299));var o=!1,c="",f=kp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Zc(t,1,!1,null,null,o,!1,c,f),t[or]=r.current,Po(t.nodeType===8?t.parentNode:t),new th(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ai(t)},Gt.hydrate=function(t,r,o){if(!Ol(r))throw Error(n(200));return Ml(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!nh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",v=kp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Cp(r,null,t,1,o??null,f,!1,p,v),t[or]=r.current,Po(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Ll(r)},Gt.render=function(t,r,o){if(!Ol(r))throw Error(n(200));return Ml(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Ol(t))throw Error(n(40));return t._reactRootContainer?(Ai(function(){Ml(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Gt.unstable_batchedUpdates=Qc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Ol(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ml(t,r,o,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var bp;function U_(){if(bp)return sh.exports;bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sh.exports=b_(),sh.exports}var Up;function j_(){if(Up)return bl;Up=1;var i=U_();return bl.createRoot=i.createRoot,bl.hydrateRoot=i.hydrateRoot,bl}var z_=j_();const Bm=H.createContext(void 0),B_=({children:i})=>{const[e,n]=H.useState(null);return q.jsx(Bm.Provider,{value:{username:e,setUsername:n},children:i})},$m=()=>{const i=H.useContext(Bm);if(!i)throw new Error("useUser must be used within a UserProvider");return i};var Qo={},jp;function $_(){if(jp)return Qo;jp=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.parse=h,Qo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,V){const O=new u,B=I.length;if(B<2)return O;const U=(V==null?void 0:V.decode)||w;let Q=0;do{const X=I.indexOf("=",Q);if(X===-1)break;const re=I.indexOf(";",Q),ce=re===-1?B:re;if(X>ce){Q=I.lastIndexOf(";",X-1)+1;continue}const Ae=m(I,Q,X),Te=g(I,X,Ae),x=I.slice(Ae,Te);if(O[x]===void 0){let T=m(I,X+1,ce),R=g(I,ce,T);const k=U(I.slice(T,R));O[x]=k}Q=ce+1}while(Q<B);return O}function m(I,V,O){do{const B=I.charCodeAt(V);if(B!==32&&B!==9)return V}while(++V<O);return O}function g(I,V,O){for(;V>O;){const B=I.charCodeAt(--V);if(B!==32&&B!==9)return V+1}return O}function _(I,V,O){const B=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const U=B(V);if(!e.test(U))throw new TypeError(`argument val is invalid: ${V}`);let Q=I+"="+U;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function A(I){return a.call(I)==="[object Date]"}return Qo}$_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zp="popstate";function H_(i={}){function e(s,a){let{pathname:u,search:h,hash:m}=s.location;return _h("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ra(a)}return W_(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q_(){return Math.random().toString(36).substring(2,10)}function Bp(i,e){return{usr:i.state,key:i.key,idx:e}}function _h(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:n,key:e&&e.key||s||q_()}}function ra({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Hs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function W_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,_=w();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function w(){return(h.state||{idx:null}).idx}function A(){m="POP";let U=w(),Q=U==null?null:U-_;_=U,g&&g({action:m,location:B.location,delta:Q})}function I(U,Q){m="PUSH";let X=_h(B.location,U,Q);_=w()+1;let re=Bp(X,_),ce=B.createHref(X);try{h.pushState(re,"",ce)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;a.location.assign(ce)}u&&g&&g({action:m,location:B.location,delta:1})}function V(U,Q){m="REPLACE";let X=_h(B.location,U,Q);_=w();let re=Bp(X,_),ce=B.createHref(X);h.replaceState(re,"",ce),u&&g&&g({action:m,location:B.location,delta:0})}function O(U){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof U=="string"?U:ra(U);return X=X.replace(/ $/,"%20"),Xe(Q,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,Q)}let B={get action(){return m},get location(){return i(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(zp,A),g=U,()=>{a.removeEventListener(zp,A),g=null}},createHref(U){return e(a,U)},createURL:O,encodeLocation(U){let Q=O(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:V,go(U){return h.go(U)}};return B}function Hm(i,e,n="/"){return Q_(i,e,n,!1)}function Q_(i,e,n,s){let a=typeof e=="string"?Hs(e):e,u=Gr(a.pathname||"/",n);if(u==null)return null;let h=qm(i);K_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let _=sv(u);m=rv(h[g],_,s)}return m}function qm(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Xe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=pr([s,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),qm(u.children,e,w,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:tv(_,u.index),routesMeta:w})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of Wm(u.path))a(u,h,g)}),e}function Wm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=Wm(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function K_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:nv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var G_=/^:[\w-]+$/,Y_=3,X_=2,J_=1,Z_=10,ev=-2,$p=i=>i==="*";function tv(i,e){let n=i.split("/"),s=n.length;return n.some($p)&&(s+=ev),e&&(s+=X_),n.filter(a=>!$p(a)).reduce((a,u)=>a+(G_.test(u)?Y_:u===""?J_:Z_),s)}function nv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function rv(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",A=Jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),I=g.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!A)return null;Object.assign(a,A.params),h.push({params:a,pathname:pr([u,A.pathname]),pathnameBase:uv(pr([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=pr([u,A.pathnameBase]))}return h}function Jl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=iv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:A},I)=>{if(w==="*"){let O=m[I]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const V=m[I];return A&&!V?_[w]=void 0:_[w]=(V||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:i}}function iv(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function sv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function ov(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Hs(i):i;return{pathname:n?n.startsWith("/")?n:av(n,e):e,search:cv(s),hash:hv(a)}}function av(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(i){let e=lv(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Km(i,e,n,s=!1){let a;typeof i=="string"?a=Hs(i):(a={...i},Xe(!a.pathname||!a.pathname.includes("?"),lh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),lh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),lh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),A-=1;a.pathname=I.join("/")}m=A>=0?e[A]:"/"}let g=ov(a,m),_=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),uv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),cv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,hv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function fv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Gm=["POST","PUT","PATCH","DELETE"];new Set(Gm);var dv=["GET",...Gm];new Set(dv);var qs=H.createContext(null);qs.displayName="DataRouter";var du=H.createContext(null);du.displayName="DataRouterState";var Ym=H.createContext({isTransitioning:!1});Ym.displayName="ViewTransition";var pv=H.createContext(new Map);pv.displayName="Fetchers";var mv=H.createContext(null);mv.displayName="Await";var Gn=H.createContext(null);Gn.displayName="Navigation";var ya=H.createContext(null);ya.displayName="Location";var vr=H.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var zh=H.createContext(null);zh.displayName="RouteError";function gv(i,{relative:e}={}){Xe(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Gn),{hash:a,pathname:u,search:h}=va(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function _a(){return H.useContext(ya)!=null}function Oi(){return Xe(_a(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ya).location}var Xm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jm(i){H.useContext(Gn).static||H.useLayoutEffect(i)}function Zm(){let{isDataRoute:i}=H.useContext(vr);return i?kv():yv()}function yv(){Xe(_a(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(qs),{basename:e,navigator:n}=H.useContext(Gn),{matches:s}=H.useContext(vr),{pathname:a}=Oi(),u=JSON.stringify(Qm(s)),h=H.useRef(!1);return Jm(()=>{h.current=!0}),H.useCallback((g,_={})=>{if(Wn(h.current,Xm),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=Km(g,JSON.parse(u),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,u,a,i])}H.createContext(null);function va(i,{relative:e}={}){let{matches:n}=H.useContext(vr),{pathname:s}=Oi(),a=JSON.stringify(Qm(n));return H.useMemo(()=>Km(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function _v(i,e){return eg(i,e)}function eg(i,e,n,s){var Q;Xe(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Gn),{matches:u}=H.useContext(vr),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",w=h&&h.route;{let X=w&&w.path||"";tg(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Oi(),I;if(e){let X=typeof e=="string"?Hs(e):e;Xe(_==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),I=X}else I=A;let V=I.pathname||"/",O=V;if(_!=="/"){let X=_.replace(/^\//,"").split("/");O="/"+V.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=Hm(i,{pathname:O});Wn(w||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Wn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Sv(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:pr([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:pr([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&U?H.createElement(ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},U):U}function vv(){let i=Pv(),e=fv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,h)}var Ev=H.createElement(vv,null),wv=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(vr.Provider,{value:this.props.routeContext},H.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tv({routeContext:i,match:e,children:n}){let s=H.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(vr.Provider,{value:i},n)}function Sv(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:A}=n,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||I){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let A,I=!1,V=null,O=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,V=_.route.errorElement||Ev,h&&(m<0&&w===0?(tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):m===w&&(I=!0,O=_.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,w+1)),U=()=>{let Q;return A?Q=V:I?Q=O:_.route.Component?Q=H.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,H.createElement(Tv,{match:_,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?H.createElement(wv,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}function Bh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iv(i){let e=H.useContext(qs);return Xe(e,Bh(i)),e}function Rv(i){let e=H.useContext(du);return Xe(e,Bh(i)),e}function Av(i){let e=H.useContext(vr);return Xe(e,Bh(i)),e}function $h(i){let e=Av(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Cv(){return $h("useRouteId")}function Pv(){var s;let i=H.useContext(zh),e=Rv("useRouteError"),n=$h("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function kv(){let{router:i}=Iv("useNavigate"),e=$h("useNavigate"),n=H.useRef(!1);return Jm(()=>{n.current=!0}),H.useCallback(async(a,u={})=>{Wn(n.current,Xm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Hp={};function tg(i,e,n){!e&&!Hp[i]&&(Hp[i]=!0,Wn(!1,n))}H.memo(xv);function xv({routes:i,future:e,state:n}){return eg(i,void 0,n,e)}function Go(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nv({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Xe(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:_="",hash:w="",state:A=null,key:I="default"}=n,V=H.useMemo(()=>{let O=Gr(g,h);return O==null?null:{location:{pathname:O,search:_,hash:w,state:A,key:I},navigationType:s}},[h,g,_,w,A,I,s]);return Wn(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(Gn.Provider,{value:m},H.createElement(ya.Provider,{children:e,value:V}))}function Dv({children:i,location:e}){return _v(vh(i),e)}function vh(i,e=[]){let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let u=[...e,a];if(s.type===H.Fragment){n.push.apply(n,vh(s.props.children,u));return}Xe(s.type===Go,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=vh(s.props.children,u)),n.push(h)}),n}var ql="get",Wl="application/x-www-form-urlencoded";function pu(i){return i!=null&&typeof i.tagName=="string"}function Vv(i){return pu(i)&&i.tagName.toLowerCase()==="button"}function Lv(i){return pu(i)&&i.tagName.toLowerCase()==="form"}function Ov(i){return pu(i)&&i.tagName.toLowerCase()==="input"}function Mv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Fv(i,e){return i.button===0&&(!e||e==="_self")&&!Mv(i)}var Ul=null;function bv(){if(Ul===null)try{new FormData(document.createElement("form"),0),Ul=!1}catch{Ul=!0}return Ul}var Uv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uh(i){return i!=null&&!Uv.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wl}"`),null):i}function jv(i,e){let n,s,a,u,h;if(Lv(i)){let m=i.getAttribute("action");s=m?Gr(m,e):null,n=i.getAttribute("method")||ql,a=uh(i.getAttribute("enctype"))||Wl,u=new FormData(i)}else if(Vv(i)||Ov(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Gr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ql,a=uh(i.getAttribute("formenctype"))||uh(m.getAttribute("enctype"))||Wl,u=new FormData(m,i),!bv()){let{name:_,type:w,value:A}=i;if(w==="image"){let I=_?`${_}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else _&&u.append(_,A)}}else{if(pu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ql,s=null,a=Wl,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function Hh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function zv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $v(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await zv(u,n);return h.links?h.links():[]}return[]}));return Qv(s.flat(1).filter(Bv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qp(i,e,n,s,a,u){let h=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,_)=>h(g,_)||m(g,_)):u==="data"?e.filter((g,_)=>{var A;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function Hv(i,e){return qv(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function qv(i){return[...new Set(i)]}function Wv(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Qv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(Wv(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Kv(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Gv(){let i=H.useContext(qs);return Hh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Yv(){let i=H.useContext(du);return Hh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qh=H.createContext(void 0);qh.displayName="FrameworkContext";function ng(){let i=H.useContext(qh);return Hh(i,"You must render this element inside a <HydratedRouter> element"),i}function Xv(i,e){let n=H.useContext(qh),[s,a]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:A}=e,I=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=Q=>{Q.forEach(X=>{h(X.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return I.current&&U.observe(I.current),()=>{U.disconnect()}}},[i]),H.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let V=()=>{a(!0)},O=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:Ko(m,V),onBlur:Ko(g,O),onMouseEnter:Ko(_,V),onMouseLeave:Ko(w,O),onTouchStart:Ko(A,V)}]:[!1,I,{}]}function Ko(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Jv({page:i,...e}){let{router:n}=Gv(),s=H.useMemo(()=>Hm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(eE,{page:i,matches:s,...e}):null}function Zv(i){let{manifest:e,routeModules:n}=ng(),[s,a]=H.useState([]);return H.useEffect(()=>{let u=!1;return $v(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function eE({page:i,matches:e,...n}){let s=Oi(),{manifest:a,routeModules:u}=ng(),{loaderData:h,matches:m}=Yv(),g=H.useMemo(()=>qp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=H.useMemo(()=>qp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,O=!1;if(e.forEach(U=>{var X;let Q=a.routes[U.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===U.route.id)&&U.route.id in h&&((X=u[U.route.id])!=null&&X.shouldRevalidate)||Q.hasClientLoader?O=!0:V.add(U.route.id))}),V.size===0)return[];let B=Kv(i);return O&&V.size>0&&B.searchParams.set("_routes",e.filter(U=>V.has(U.route.id)).map(U=>U.route.id).join(",")),[B.pathname+B.search]},[h,s,a,g,e,i,u]),A=H.useMemo(()=>Hv(_,a),[_,a]),I=Zv(_);return H.createElement(H.Fragment,null,w.map(V=>H.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>H.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:O})=>H.createElement("link",{key:V,...O})))}function tE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rg&&(window.__reactRouterVersion="7.1.1")}catch{}function nE({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=H_({window:n,v5Compat:!0}));let a=s.current,[u,h]=H.useState({action:a.action,location:a.location}),m=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement(Nv,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:_,preventScrollReset:w,viewTransition:A,...I},V){let{basename:O}=H.useContext(Gn),B=typeof _=="string"&&ig.test(_),U,Q=!1;if(typeof _=="string"&&B&&(U=_,rg))try{let R=new URL(window.location.href),k=_.startsWith("//")?new URL(R.protocol+_):new URL(_),D=Gr(k.pathname,O);k.origin===R.origin&&D!=null?_=D+k.search+k.hash:Q=!0}catch{Wn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=gv(_,{relative:a}),[re,ce,Ae]=Xv(s,I),Te=oE(_,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:A});function x(R){e&&e(R),R.defaultPrevented||Te(R)}let T=H.createElement("a",{...I,...Ae,href:U||X,onClick:Q||u?e:x,ref:tE(V,ce),target:g,"data-discover":!B&&n==="render"?"true":void 0});return re&&!B?H.createElement(H.Fragment,null,T,H.createElement(Jv,{page:X})):T});Zl.displayName="Link";var rE=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,..._},w){let A=va(h,{relative:_.relative}),I=Oi(),V=H.useContext(du),{navigator:O,basename:B}=H.useContext(Gn),U=V!=null&&hE(A)&&m===!0,Q=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,X=I.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&B&&(re=Gr(re,B)||re);const ce=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ae=X===Q||!a&&X.startsWith(Q)&&X.charAt(ce)==="/",Te=re!=null&&(re===Q||!a&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),x={isActive:Ae,isPending:Te,isTransitioning:U},T=Ae?e:void 0,R;typeof s=="function"?R=s(x):R=[s,Ae?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return H.createElement(Zl,{..._,"aria-current":T,className:R,ref:w,style:k,to:h,viewTransition:m},typeof g=="function"?g(x):g)});rE.displayName="NavLink";var iE=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=ql,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:A,...I},V)=>{let O=uE(),B=cE(m,{relative:_}),U=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&ig.test(m),X=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,Ae=(ce==null?void 0:ce.getAttribute("formmethod"))||h;O(ce||re.currentTarget,{fetcherKey:e,method:Ae,navigate:n,replace:a,state:u,relative:_,preventScrollReset:w,viewTransition:A})};return H.createElement("form",{ref:V,method:U,action:B,onSubmit:s?g:X,...I,"data-discover":!Q&&i==="render"?"true":void 0})});iE.displayName="Form";function sE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(i){let e=H.useContext(qs);return Xe(e,sE(i)),e}function oE(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=Zm(),g=Oi(),_=va(i,{relative:u});return H.useCallback(w=>{if(Fv(w,e)){w.preventDefault();let A=n!==void 0?n:ra(g)===ra(_);m(i,{replace:A,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,_,n,s,e,i,a,u,h])}var aE=0,lE=()=>`__${String(++aE)}__`;function uE(){let{router:i}=sg("useSubmit"),{basename:e}=H.useContext(Gn),n=Cv();return H.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:_}=jv(s,e);if(a.navigate===!1){let w=a.fetcherKey||lE();await i.fetch(w,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function cE(i,{relative:e}={}){let{basename:n}=H.useContext(Gn),s=H.useContext(vr);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...va(i||".",{relative:e})},h=Oi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let w=m.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),ra(u)}function hE(i,e={}){let n=H.useContext(Ym);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=sg("useViewTransitionState"),a=va(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jl(a.pathname,h)!=null||Jl(a.pathname,u)!=null}new TextEncoder;function fE(){return q.jsx(q.Fragment,{children:q.jsxs("div",{role:"alert",className:"alert alert-error",children:[q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),q.jsx("span",{children:"Warning: Invalid username or password!"})]})})}var Wp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},dE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ag={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=u>>2,A=(u&3)<<4|m>>4;let I=(m&15)<<2|_>>6,V=_&63;g||(V=64,h||(I=64)),s.push(n[w],n[A],n[I],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(og(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):dE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const A=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||_==null||A==null)throw new pE;const I=u<<2|m>>4;if(s.push(I),_!==64){const V=m<<4&240|_>>2;if(s.push(V),A!==64){const O=_<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class pE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mE=function(i){const e=og(i);return ag.encodeByteArray(e,!0)},eu=function(i){return mE(i).replace(/\./g,"")},gE=function(i){try{return ag.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=()=>yE().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof Wp>"u")return;const i=Wp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},EE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&gE(i[1]);return e&&JSON.parse(e)},Wh=()=>{try{return _E()||vE()||EE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wE=i=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},TE=i=>{const e=wE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lg=()=>{var i;return(i=Wh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[eu(JSON.stringify(n)),eu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AE(){var i;const e=(i=Wh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CE(){return!AE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PE(){try{return typeof indexedDB=="object"}catch{return!1}}function kE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xE,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ug.prototype.create)}}class ug{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?NE(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ws(a,m,s)}}function NE(i,e){return i.replace(DE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const DE=/\{\$([^}]+)}/g;function Eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Qp(u)&&Qp(h)){if(!Eh(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Qp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OE(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LE(i){return i===xi?void 0:i}function OE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const FE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},bE=Ve.INFO,UE={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},jE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=UE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=bE,this._logHandler=jE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const zE=(i,e)=>e.some(n=>i instanceof n);let Kp,Gp;function BE(){return Kp||(Kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $E(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hg=new WeakMap,wh=new WeakMap,fg=new WeakMap,ch=new WeakMap,Qh=new WeakMap;function HE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Wr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&hg.set(n,i)}).catch(()=>{}),Qh.set(e,i),e}function qE(i){if(wh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});wh.set(i,e)}let Th={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return wh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WE(i){Th=i(Th)}function QE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hh(this),e,...n);return fg.set(s,e.sort?e.sort():[e]),Wr(s)}:$E().includes(i)?function(...e){return i.apply(hh(this),e),Wr(hg.get(this))}:function(...e){return Wr(i.apply(hh(this),e))}}function KE(i){return typeof i=="function"?QE(i):(i instanceof IDBTransaction&&qE(i),zE(i,BE())?new Proxy(i,Th):i)}function Wr(i){if(i instanceof IDBRequest)return HE(i);if(ch.has(i))return ch.get(i);const e=KE(i);return e!==i&&(ch.set(i,e),Qh.set(e,i)),e}const hh=i=>Qh.get(i);function GE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=Wr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Wr(h.result),g.oldVersion,g.newVersion,Wr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const YE=["get","getKey","getAll","getAllKeys","count"],XE=["put","add","delete","clear"],fh=new Map;function Yp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=XE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YE.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return fh.set(e,u),u}WE(i=>({...i,get:(e,n,s)=>Yp(e,n)||i.get(e,n,s),has:(e,n)=>!!Yp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sh="@firebase/app",Xp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new cg("@firebase/app"),ew="@firebase/app-compat",tw="@firebase/analytics-compat",nw="@firebase/analytics",rw="@firebase/app-check-compat",iw="@firebase/app-check",sw="@firebase/auth",ow="@firebase/auth-compat",aw="@firebase/database",lw="@firebase/data-connect",uw="@firebase/database-compat",cw="@firebase/functions",hw="@firebase/functions-compat",fw="@firebase/installations",dw="@firebase/installations-compat",pw="@firebase/messaging",mw="@firebase/messaging-compat",gw="@firebase/performance",yw="@firebase/performance-compat",_w="@firebase/remote-config",vw="@firebase/remote-config-compat",Ew="@firebase/storage",ww="@firebase/storage-compat",Tw="@firebase/firestore",Sw="@firebase/vertexai",Iw="@firebase/firestore-compat",Rw="firebase",Aw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]",Cw={[Sh]:"fire-core",[ew]:"fire-core-compat",[nw]:"fire-analytics",[tw]:"fire-analytics-compat",[iw]:"fire-app-check",[rw]:"fire-app-check-compat",[sw]:"fire-auth",[ow]:"fire-auth-compat",[aw]:"fire-rtdb",[lw]:"fire-data-connect",[uw]:"fire-rtdb-compat",[cw]:"fire-fn",[hw]:"fire-fn-compat",[fw]:"fire-iid",[dw]:"fire-iid-compat",[pw]:"fire-fcm",[mw]:"fire-fcm-compat",[gw]:"fire-perf",[yw]:"fire-perf-compat",[_w]:"fire-rc",[vw]:"fire-rc-compat",[Ew]:"fire-gcs",[ww]:"fire-gcs-compat",[Tw]:"fire-fst",[Iw]:"fire-fst-compat",[Sw]:"fire-vertex","fire-js":"fire-js",[Rw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,Pw=new Map,Rh=new Map;function Jp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function nu(i){const e=i.name;if(Rh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,i);for(const n of tu.values())Jp(n,i);for(const n of Pw.values())Jp(n,i);return!0}function kw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new ug("app","Firebase",xw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=Aw;function dg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ih,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=lg()),!n)throw Qr.create("no-options");const u=tu.get(a);if(u){if(Eh(n,u.options)&&Eh(s,u.config))return u;throw Qr.create("duplicate-app",{appName:a})}const h=new ME(a);for(const g of Rh.values())h.addComponent(g);const m=new Nw(n,s,h);return tu.set(a,m),m}function Vw(i=Ih){const e=tu.get(i);if(!e&&i===Ih&&lg())return dg();if(!e)throw Qr.create("no-app",{appName:i});return e}function Os(i,e,n){var s;let a=(s=Cw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}nu(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",Ow=1,sa="firebase-heartbeat-store";let dh=null;function pg(){return dh||(dh=GE(Lw,Ow,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),dh}async function Mw(i){try{const n=(await pg()).transaction(sa),s=await n.objectStore(sa).get(mg(i));return await n.done,s}catch(e){if(e instanceof Ws)gr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Zp(i,e){try{const s=(await pg()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,mg(i)),await s.done}catch(n){if(n instanceof Ws)gr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function mg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,bw=30*24*60*60*1e3;class Uw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=em();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=bw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=em(),{heartbeatsToSend:s,unsentEntries:a}=jw(this._heartbeatsCache.heartbeats),u=eu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gr.warn(n),""}}}function em(){return new Date().toISOString().substring(0,10)}function jw(i,e=Fw){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),tm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),tm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PE()?kE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function tm(i){return eu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i){nu(new ia("platform-logger",e=>new JE(e),"PRIVATE")),nu(new ia("heartbeat",e=>new Uw(e),"PRIVATE")),Os(Sh,Xp,i),Os(Sh,Xp,"esm2017"),Os("fire-js","")}Bw("");var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,gg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function R(){}R.prototype=T.prototype,x.D=T.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,D,M){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return T.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(D=0;16>D;++D)k[D]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=x.g[0],R=x.g[1],D=x.g[2];var M=x.g[3],C=T+(M^R&(D^M))+k[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=M+(D^T&(R^D))+k[1]+3905402710&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(R^M&(T^R))+k[2]+606105819&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(T^D&(M^T))+k[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(M^R&(D^M))+k[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=M+(D^T&(R^D))+k[5]+1200080426&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(R^M&(T^R))+k[6]+2821735955&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(T^D&(M^T))+k[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(M^R&(D^M))+k[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=M+(D^T&(R^D))+k[9]+2336552879&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(R^M&(T^R))+k[10]+4294925233&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(T^D&(M^T))+k[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(M^R&(D^M))+k[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=M+(D^T&(R^D))+k[13]+4254626195&4294967295,M=T+(C<<12&4294967295|C>>>20),C=D+(R^M&(T^R))+k[14]+2792965006&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(T^D&(M^T))+k[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=T+(D^M&(R^D))+k[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(T^R))+k[6]+3225465664&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(M^T))+k[11]+643717713&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^T&(D^M))+k[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(R^D))+k[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(T^R))+k[10]+38016083&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(M^T))+k[15]+3634488961&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^T&(D^M))+k[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(R^D))+k[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(T^R))+k[14]+3275163606&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(M^T))+k[3]+4107603335&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^T&(D^M))+k[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(D^M&(R^D))+k[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(T^R))+k[2]+4243563512&4294967295,M=T+(C<<9&4294967295|C>>>23),C=D+(T^R&(M^T))+k[7]+1735328473&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^T&(D^M))+k[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=T+(R^D^M)+k[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=M+(T^R^D)+k[8]+2272392833&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^R)+k[11]+1839030562&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^T)+k[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^M)+k[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=M+(T^R^D)+k[4]+1272893353&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^R)+k[7]+4139469664&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^T)+k[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^M)+k[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=M+(T^R^D)+k[0]+3936430074&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^R)+k[3]+3572445317&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^T)+k[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(R^D^M)+k[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=M+(T^R^D)+k[12]+3873151461&4294967295,M=T+(C<<11&4294967295|C>>>21),C=D+(M^T^R)+k[15]+530742520&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^T)+k[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=T+(D^(R|~M))+k[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=M+(R^(T|~D))+k[7]+1126891415&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~R))+k[14]+2878612391&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~T))+k[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~M))+k[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=M+(R^(T|~D))+k[3]+2399980690&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~R))+k[10]+4293915773&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~T))+k[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~M))+k[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=M+(R^(T|~D))+k[15]+4264355552&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~R))+k[6]+2734768916&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~T))+k[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=T+(D^(R|~M))+k[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=M+(R^(T|~D))+k[11]+3174756917&4294967295,M=T+(C<<10&4294967295|C>>>22),C=D+(T^(M|~R))+k[2]+718787259&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+M&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var R=T-this.blockSize,k=this.B,D=this.h,M=0;M<T;){if(D==0)for(;M<=R;)a(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<T;)if(k[D++]=x.charCodeAt(M++),D==this.blockSize){a(this,k),D=0;break}}else for(;M<T;)if(k[D++]=x[M++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var R=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=R&255,R/=256;for(this.u(x),x=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)x[R++]=this.g[T]>>>k&255;return x};function u(x,T){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=T(x)}function h(x,T){this.h=T;for(var R=[],k=!0,D=x.length-1;0<=D;D--){var M=x[D]|0;k&&M==T||(R[D]=M,k=!1)}this.g=R}var m={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return U(_(-x));for(var T=[],R=1,k=0;x>=R;k++)T[k]=x/R|0,R*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return U(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(T,8)),k=A,D=0;D<x.length;D+=8){var M=Math.min(8,x.length-D),C=parseInt(x.substring(D,D+M),T);8>M?(M=_(Math.pow(T,M)),k=k.j(M).add(_(C))):(k=k.j(R),k=k.add(_(C)))}return k}var A=g(0),I=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(B(this))return-U(this).m();for(var x=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(B(this))return"-"+U(this).toString(x);for(var T=_(Math.pow(x,6)),R=this,k="";;){var D=ce(R,T).g;R=Q(R,D.j(T));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=D,O(R))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function B(x){return x.h==-1}i.l=function(x){return x=Q(this,x),B(x)?-1:O(x)?0:1};function U(x){for(var T=x.g.length,R=[],k=0;k<T;k++)R[k]=~x.g[k];return new h(R,~x.h).add(I)}i.abs=function(){return B(this)?U(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0,D=0;D<=T;D++){var M=k+(this.i(D)&65535)+(x.i(D)&65535),C=(M>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,M&=65535,C&=65535,R[D]=C<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(U(T))}i.j=function(x){if(O(this)||O(x))return A;if(B(this))return B(x)?U(this).j(U(x)):U(U(this).j(x));if(B(x))return U(this.j(U(x)));if(0>this.l(V)&&0>x.l(V))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var M=this.i(k)>>>16,C=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;R[2*k+2*D]+=C*kt,X(R,2*k+2*D),R[2*k+2*D+1]+=M*kt,X(R,2*k+2*D+1),R[2*k+2*D+1]+=C*tt,X(R,2*k+2*D+1),R[2*k+2*D+2]+=M*tt,X(R,2*k+2*D+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function X(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function re(x,T){this.g=x,this.h=T}function ce(x,T){if(O(T))throw Error("division by zero");if(O(x))return new re(A,A);if(B(x))return T=ce(U(x),T),new re(U(T.g),U(T.h));if(B(T))return T=ce(x,U(T)),new re(U(T.g),T.h);if(30<x.g.length){if(B(x)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var R=I,k=T;0>=k.l(x);)R=Ae(R),k=Ae(k);var D=Te(R,1),M=Te(k,1);for(k=Te(k,2),R=Te(R,2);!O(k);){var C=M.add(k);0>=C.l(x)&&(D=D.add(R),M=C),k=Te(k,1),R=Te(R,1)}return T=Q(x,D.j(T)),new re(D,T)}for(D=A;0<=x.l(T);){for(R=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=_(R),C=M.j(T);B(C)||0<C.l(x);)R-=k,M=_(R),C=M.j(T);O(M)&&(M=I),D=D.add(M),x=Q(x,C)}return new re(D,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&x.i(k);return new h(R,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|x.i(k);return new h(R,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^x.i(k);return new h(R,this.h^x.h)};function Ae(x){for(var T=x.g.length+1,R=[],k=0;k<T;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(R,x.h)}function Te(x,T){var R=T>>5;T%=32;for(var k=x.g.length-R,D=[],M=0;M<k;M++)D[M]=0<T?x.i(M+R)>>>T|x.i(M+R+1)<<32-T:x.i(M+R);return new h(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,Di=h}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yg,Yo,_g,Ql,Ah,vg,Eg,wg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var F=l[E];if(!(F in y))break e;y=y[F]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,E=!1,F={next:function(){if(!E&&y<l.length){var $=y++;return{value:d($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function A(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function I(l,d,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,I.apply(null,arguments)}function V(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function O(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,F,$){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return d.prototype[F].apply(E,te)}}function B(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function U(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const F=l.length||0,$=E.length||0;l.length=F+$;for(let te=0;te<$;te++)l[F+te]=E[te]}else l.push(E)}}class Q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var Ae=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Te(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(y in E)l[y]=E[y];for(let $=0;$<R.length;$++)y=R[$],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function M(l){m.setTimeout(()=>{throw l},0)}function C(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const E=kt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ne=!1,de=new tt,se=()=>{const l=m.Promise.resolve(void 0);je=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){M(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ie(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ae){e:{try{ce(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,fe);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,d,y,E,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,d,y,E,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=Er(l,d,E,F);return-1<te?(d=l[te],y||(d.fa=!1)):(d=new Be(d,this.src,$,!!E,F),d.fa=y,l.push(d)),d};function Ui(l,d){var y=d.type;if(y in l.g){var E=l.g[y],F=Array.prototype.indexOf.call(E,d,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Er(l,d,y,E){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==d&&$.capture==!!y&&$.ha==E)return F}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),ji={};function Xs(l,d,y,E,F){if(Array.isArray(d)){for(var $=0;$<d.length;$++)Xs(l,d[$],y,E,F);return null}return y=eo(y),l&&l[Me]?l.K(d,y,_(E)?!!E.capture:!1,F):Js(l,d,y,!1,E,F)}function Js(l,d,y,E,F,$){if(!d)throw Error("Invalid event type");var te=_(F)?!!F.capture:!!F,Ue=Bi(l);if(Ue||(l[ni]=Ue=new Yn(l)),y=Ue.add(d,y,E,te,$),y.proxy)return y;if(E=Sa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Se||(F=te),F===void 0&&(F=!1),l.addEventListener(d.toString(),E,F);else if(l.attachEvent)l.attachEvent(Jn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Sa(){function l(y){return d.call(l.src,l.listener,y)}const d=Zs;return l}function zi(l,d,y,E,F){if(Array.isArray(d))for(var $=0;$<d.length;$++)zi(l,d[$],y,E,F);else E=_(E)?!!E.capture:!!E,y=eo(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&($=l.g[d],y=Er($,y,E,F),-1<y&&(gt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[d],l.h--)))):l&&(l=Bi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Er(d,y,E,F)),(y=-1<l?d[l]:null)&&Xn(y))}function Xn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])Ui(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Jn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=Bi(d))?(Ui(y,l),y.h==0&&(y.src=null,d[ni]=null)):gt(l)}}}function Jn(l){return l in ji?ji[l]:ji[l]="on"+l}function Zs(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Xn(l),l=y.call(E,d)}return l}function Bi(l){return l=l[ni],l instanceof Yn?l:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[$i]||(l[$i]=function(d){return l.handleEvent(d)}),l[$i])}function lt(){K.call(this),this.i=new Yn(this),this.M=this,this.F=null}O(lt,K),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,d,y,E){zi(this,l,d,y,E)};function ut(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var F=d;d=new fe(E,l),k(d,F)}if(F=!0,y)for(var $=y.length-1;0<=$;$--){var te=d.g=y[$];F=Zn(te,E,!0,d)&&F}if(te=d.g=l,F=Zn(te,E,!0,d)&&F,F=Zn(te,E,!1,d)&&F,y)for($=0;$<y.length;$++)te=d.g=y[$],F=Zn(te,E,!1,d)&&F}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)gt(y[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},lt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function Zn(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,$=0;$<d.length;++$){var te=d[$];if(te&&!te.da&&te.capture==y){var Ue=te.listener,ct=te.ha||te.src;te.fa&&Ui(l.i,te),F=Ue.call(ct,E)!==!1&&F}}return F&&!E.defaultPrevented}function to(l,d,y){if(typeof l=="function")y&&(l=I(l,y));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function wr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ri extends K{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(l){K.call(this),this.h=l,this.g={}}O(ii,K);var no=[];function ro(l){Te(l.g,function(d,y){this.g.hasOwnProperty(y)&&Xn(d)},l),l.g={}}ii.prototype.N=function(){ii.aa.N.call(this),ro(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function si(){}si.prototype.h=null;function Hi(l){return l.h||(l.h=l.i())}function qi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){fe.call(this,"d")}O(Vn,fe);function Wi(){fe.call(this,"c")}O(Wi,fe);var Ln={},ao=null;function oi(){return ao=ao||new lt}Ln.La="serverreachability";function lo(l){fe.call(this,Ln.La,l)}O(lo,fe);function er(l){const d=oi();ut(d,new lo(d))}Ln.STAT_EVENT="statevent";function uo(l,d){fe.call(this,Ln.STAT_EVENT,l),this.stat=d}O(uo,fe);function nt(l){const d=oi();ut(d,new uo(d,l))}Ln.Ma="timingevent";function Qi(l,d){fe.call(this,Ln.Ma,l),this.size=d}O(Qi,fe);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function li(l,d,y,E,F,$){l.info(function(){if(l.g)if($)for(var te="",Ue=$.split("&"),ct=0;ct<Ue.length;ct++){var Ne=Ue[ct].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ne+"&"):te+(yt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+d+`
`+y+`
`+te})}function Ki(l,d,y,E,F,$,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+d+`
`+y+`
`+$+" "+te})}function _n(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Nu(l,y)+(E?" "+E:"")})}function co(l,d){l.info(function(){return"TIMEOUT: "+d})}ai.prototype.info=function(){};function Nu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return io(y)}catch{return d}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ia={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function ui(){}O(ui,si),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},vn=new ui;function En(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ra}function Ra(){this.i=null,this.g="",this.h=!1}var ho={},Yi={};function Xi(l,d,y){l.L=1,l.v=Ar(Jt(d)),l.m=y,l.P=!0,fo(l,null)}function fo(l,d){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Pr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ra,l.g=$a(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ri(I(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(no[0]=F.toString()),F=no);for(var $=0;$<F.length;$++){var te=Xs(y,F[$],E||d.handleEvent,!1,d.h||d);if(!te)break;d.g[te.key]=te}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),er(),li(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||st!=4||d==7||(d==8||0>=un?er(3):er(2)),ci(this);var y=this.g.Z();this.X=y;t:if(Aa(this)){var E=vo(this.g);l="";var F=E.length,$=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Tr(this);var te="";break t}this.h.i=new m.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!($&&d==F-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,Ki(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ct=this.g;if((Ue=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ue)){var Ne=Ue;break t}}Ne=null}if(y=Ne)_n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,y);else{this.o=!1,this.s=3,nt(12),an(this),Tr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<te.length;)if(en=Du(this,te),en==Yi){st==4&&(this.s=4,nt(14),y=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ho){this.s=4,nt(15),_n(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else _n(this.i,this.l,en,null),po(this,en);if(Aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)_n(this.i,this.l,te,"[Invalid Chunked Response]"),an(this),Tr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),wo(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,te,null),po(this,te);st==4&&an(this),this.o&&!this.J&&(st==4?ls(this.j,this):(this.o=!1,$e(this)))}else rs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),an(this),Tr(this)}}}catch{}finally{}};function Aa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Du(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Yi:(y=Number(d.substring(y,E)),isNaN(y)?ho:(E+=1,E+y>d.length?Yi:(d=d.slice(E,E+y),l.C=E+y,d)))}En.prototype.cancel=function(){this.J=!0,an(this)};function $e(l){l.S=Date.now()+l.I,Ca(l,l.I)}function Ca(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(I(l.ba,l),d)}function ci(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(er(),nt(17)),an(this),this.s=2,Tr(this)):Ca(this,this.S-l)};function Tr(l){l.j.G==0||l.J||ls(l.j,l)}function an(l){ci(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ro(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function po(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)as(y),Rn(y);else break e;os(y),nt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(I(y.Za,y),6e3));if(1>=ka(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else sr(y,11)}else if((l.K||y.g==l)&&as(y),!X(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let Ne=F[d];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const yt=Ne[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ne[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Ne[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const yi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var $=E.h;$.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(mo($,$.h),$.h=null))}if(E.D){const cs=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(E.ya=cs,ze(E.I,E.D,cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=Ba(E,E.J?E.ia:null,E.W),te.K){xa(E.h,te);var Ue=te,ct=E.L;ct&&(Ue.I=ct),Ue.B&&(ci(Ue),$e(Ue)),E.g=te}else gi(E);0<y.i.length&&bn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||sr(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?sr(y,7):St(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}er(4)}catch{}}var Pa=class{constructor(l,d){this.g=l,this.map=d}};function hi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ka(l){return l.h?1:l.g?l.g.size:0}function bt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function mo(l,d){l.g?l.g.add(d):l.h=d}function xa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}hi.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Na(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return B(l.i)}function Ji(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Sr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Zi(l),E=Ji(l),F=E.length,$=0;$<F;$++)d.call(void 0,E[$],y&&y[$],l)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),F=null;if(0<=E){var $=l[y].substring(0,E);F=l[y].substring(E+1)}else $=l[y];d($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,di(this,l.j),this.o=l.o,this.g=l.g,Ir(this,l.s),this.l=l.l;var d=l.i,y=new On;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Rr(this,y),this.m=l.m}else l&&(d=String(l).match(fi))?(this.h=!1,di(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),Ir(this,d[4]),this.l=Pe(d[5]||"",!0),Rr(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}tr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Cr(d,es,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Cr(d,es,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Cr(y,y.charAt(0)=="/"?La:Va,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Cr(y,go)),l.join("")};function Jt(l){return new tr(l)}function di(l,d,y){l.j=y?Pe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ir(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Rr(l,d,y){d instanceof On?(l.i=d,Mn(l.i,l.h)):(y||(d=Cr(d,Oa)),l.i=new On(d,l.h))}function ze(l,d,y){l.i.set(d,y)}function Ar(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Da),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Da(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var es=/[#\/\?@]/g,Va=/[#\?:]/g,La=/[#\?]/g,Oa=/[#\?@]/g,go=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Vu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,d){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function wn(l,d){Tt(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Tt(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(F){l.call(d,F,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const F=l[E];for(let $=0;$<F.length;$++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=ln(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Pr(l,d,y){wn(l,d),0<y.length&&(l.i=null,l.g.set(ln(l,d),B(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var F=$;te[E]!==""&&(F+="="+encodeURIComponent(String(te[E]))),l.push(F)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var F=E.toLowerCase();E!=F&&(wn(this,E),Pr(this,F,y))},l)),l.j=d}function Lu(l,d){const y=new ai;if(m.Image){const E=new Image;E.onload=V(Bt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=V(Bt,y,"TestLoadImage: error",!1,d,E),E.onabort=V(Bt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=V(Bt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ma(l,d){const y=new ai,E=new AbortController,F=setTimeout(()=>{E.abort(),Bt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?Bt(y,"TestPingServer: ok",!0,d):Bt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),Bt(y,"TestPingServer: error",!1,d)})}function Bt(l,d,y,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(y)}catch{}}function Ou(){this.g=new oo}function Fa(l,d,y){const E=y||"";try{Sr(l,function(F,$){let te=F;_(F)&&(te=io(F)),d.push(E+$+"="+encodeURIComponent(te))})}catch(F){throw d.push(E+"type="+encodeURIComponent("_badmap")),F}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}O(nr,si),nr.prototype.g=function(){return new pi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function pi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(pi,lt),i=pi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ba(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ba(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&ba(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let d="";return Te(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function kr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=rr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,d,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,lt);var Mu=/^https?$/i,yo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?Hi(this.o):Hi(vn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch($){mi(this,$);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)y.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),F=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,d,void 0))||E||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of y)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(l),this.u=!1}catch($){mi(this,$)}};function mi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ts(l),Zt(l)}function ts(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)to(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=te===0){var F=String(l.D).match(fi)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),E=!Mu.test(F?F.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var $=2<$t(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",ts(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){ns(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function ns(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),so(d)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(X(l[E]))continue;var y=D(l[E]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=d[F]||[];d[F]=$,$.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Eo(l){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(l&&l.concurrentRequestLimit),this.Da=new Ou,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ba(this,null,this.W),bn(this)};function St(l){if(is(l),l.G==3){var d=l.U++,y=Jt(l.I);if(ze(y,"SID",l.K),ze(y,"RID",d),ze(y,"TYPE","terminate"),ir(l,y),d=new En(l,l.j,d),d.L=2,d.v=Ar(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=$a(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}za(l)}function Rn(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function is(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),as(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function bn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;je||se(),ne||(je(),ne=!0),de.add(d,l),l.B=0}}function Fu(l,d){return ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(I(l.Ga,l,d),ja(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new En(this,this.j,l);let $=this.o;if(this.S&&($?($=T($),k($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=xr(this,F,d),y=Jt(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),ir(this,y),$&&(this.O?d="headers="+encodeURIComponent(String(rr($)))+"&"+d:this.m&&kr(y,this.m,$)),mo(this.h,F),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",d),ze(y,"SID","null"),F.T=!0,Xi(F,y,null)):Xi(F,y,d),this.G=2}}else this.G==3&&(l?ss(this,l):this.i.length==0||Xt(this.h)||ss(this))};function ss(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);ze(E,"SID",l.K),ze(E,"RID",y),ze(E,"AID",l.T),ir(l,E),l.m&&l.o&&kr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=xr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,y),Xi(y,E,d)}function ir(l,d){l.H&&Te(l.H,function(y,E){ze(d,E,y)}),l.l&&Sr({},function(y,E){ze(d,E,y)})}function xr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?I(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const te=["count="+y];$==-1?0<y?($=F[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let Ue=!0;for(let ct=0;ct<y;ct++){let Ne=F[ct].g;const yt=F[ct].map;if(Ne-=$,0>Ne)$=Math.max(0,F[ct].g-100),Ue=!1;else try{Fa(yt,te,"req"+Ne+"_")}catch{E&&E(yt)}}if(Ue){E=te.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function gi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;je||se(),ne||(je(),ne=!0),de.add(d,l),l.v=0}}function os(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(I(l.Fa,l),ja(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(I(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Ua(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ua(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),ir(l,d),l.m&&l.o&&kr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ar(Jt(d)),y.m=null,y.P=!0,fo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),os(this),nt(19))};function as(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ls(l,d){var y=null;if(l.g==d){as(l),wo(l),l.g=null;var E=2}else if(bt(l.h,d))y=d.D,xa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;E=oi(),ut(E,new Qi(E,y)),bn(l)}else gi(l);else if(F=d.s,F==3||F==0&&0<d.X||!(E==1&&Fu(l,d)||E==2&&os(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function ja(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function sr(l,d){if(l.j.info("Error code "+d),d==2){var y=I(l.fb,l),E=l.Xa;const F=!E;E=new tr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(E,"https"),Ar(E),F?Lu(E.toString(),y):Ma(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),za(l),is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function za(l){if(l.G=0,l.ka=[],l.l){const d=Na(l.h);(d.length!=0||l.i.length!=0)&&(U(l.ka,d),U(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function Ba(l,d,y){var E=y instanceof tr?Jt(y):new tr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Ir(E,E.s);else{var F=m.location;E=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var $=new tr(null);E&&di($,E),d&&($.g=d),F&&Ir($,F),y&&($.l=y),E=$}return y=l.D,d=l.ya,y&&d&&ze(E,y,d),ze(E,"VER",l.la),ir(l,E),E}function $a(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new nr({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){lt.call(this),this.g=new Eo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!X(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}O(Ut,lt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){St(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=io(l),l=y);d.i.push(new Pa(d.Ya++,l)),d.G==3&&bn(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,Ut.aa.N.call(this)};function Ha(l){Vn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}O(Ha,Vn);function qa(){Wi.call(this),this.status=1}O(qa,Wi);function Un(l){this.g=l}O(Un,To),Un.prototype.ua=function(){ut(this.g,"a")},Un.prototype.ta=function(l){ut(this.g,new Ha(l))},Un.prototype.sa=function(l){ut(this.g,new qa)},Un.prototype.ra=function(){ut(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,wg=function(){return new us},Eg=function(){return oi()},vg=Ln,Ah={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Ql=Gi,Ia.COMPLETE="complete",_g=Ia,qi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Yo=qi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,yg=Qe}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});const rm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new cg("@firebase/firestore");function Ns(){return Li.logLevel}function oe(i,...e){if(Li.logLevel<=Ve.DEBUG){const n=e.map(Kh);Li.debug(`Firestore (${Qs}): ${i}`,...n)}}function yr(i,...e){if(Li.logLevel<=Ve.ERROR){const n=e.map(Kh);Li.error(`Firestore (${Qs}): ${i}`,...n)}}function Fs(i,...e){if(Li.logLevel<=Ve.WARN){const n=e.map(Kh);Li.warn(`Firestore (${Qs}): ${i}`,...n)}}function Kh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function be(i,e){i||ve()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new Tg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Mt(e)}}class Ww{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Ww(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Yw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new pt(0,0))}static max(){return new Ee(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends oa{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new et(n)}static emptyPath(){return new et([])}}const Xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends oa{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return Xw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}function Jw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Yr(a,ye.empty(),e)}function Zw(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Ee.min(),ye.empty(),-1)}static max(){return new Yr(Ee.max(),ye.empty(),-1)}}function e0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==t0)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(w=>{h[_]=w,++m,m===u&&s(h)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function r0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mu.oe=-1;function gu(i){return i==null}function ru(i){return i===0&&1/i==-1/0}function i0(i){return typeof i=="number"&&Number.isInteger(i)&&!ru(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=im(e)),e=o0(i.get(n),e);return im(e)}function o0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function im(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ti(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ig(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zl(this.root,e,this.comparator,!0)}}class zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new At(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,u){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(e){return new om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Rg("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const a0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(be(!!i),typeof i=="string"){let e=0;const n=a0.exec(i);if(be(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yu(i){const e=i.mapValue.fields.__previous_value__;return Gh(e)?yu(e):e}function aa(i){const e=Xr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,s,a,u,h,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gh(i)?4:c0(i)?9007199254740991:u0(i)?10:11:ve()}function Qn(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Xr(a.timestampValue),m=Xr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return Jr(a.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return it(a.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return it(a.integerValue)===it(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=it(a.doubleValue),m=it(u.doubleValue);return h===m?ru(h)===ru(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(sm(h)!==sm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Qn(h[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function ua(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function Us(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return am(i.timestampValue,e.timestampValue);case 4:return am(aa(i),aa(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Jr(u),g=Jr(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=ke(m[_],g[_]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(it(u.latitude),it(h.latitude));return m!==0?m:ke(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return lm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,_,w;const A=u.fields||{},I=h.fields||{},V=(m=A.value)===null||m===void 0?void 0:m.arrayValue,O=(g=I.value)===null||g===void 0?void 0:g.arrayValue,B=ke(((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:lm(V,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Bl.mapValue&&h===Bl.mapValue)return 0;if(u===Bl.mapValue)return 1;if(h===Bl.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const I=ke(g[A],w[A]);if(I!==0)return I;const V=Us(m[g[A]],_[w[A]]);if(V!==0)return V}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function am(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Xr(i),s=Xr(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function lm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Us(n[a],s[a]);if(u)return u}return ke(n.length,s.length)}function js(i){return Ch(i)}function Ch(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Ch(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Ch(n.fields[h])}`;return a+"}"}(i.mapValue):ve()}function Kl(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yu(i);return e?16+Kl(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Kl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ti(s.fields,(u,h)=>{a+=u.length+Kl(h)}),a}(i.mapValue);default:throw ve()}}function Ph(i){return!!i&&"integerValue"in i}function Yh(i){return!!i&&"arrayValue"in i}function um(i){return!!i&&"nullValue"in i}function cm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gl(i){return!!i&&"mapValue"in i}function u0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function c0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=Zo(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Gl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ti(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new sn(Zo(this.value))}}function Ag(i){const e=[];return ti(i.fields,(n,s)=>{const a=new Ct([n]);if(Gl(s)){const u=Ag(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),sn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ee.min(),Ee.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ee.min(),Ee.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.position=e,this.inclusive=n}}function hm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Us(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function h0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{}class dt extends Cg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new d0(e,n,s):n==="array-contains"?new g0(e,s):n==="in"?new y0(e,s):n==="not-in"?new _0(e,s):n==="array-contains-any"?new v0(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new p0(e,s):new m0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Cg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return Pg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pg(i){return i.op==="and"}function kg(i){return f0(i)&&Pg(i)}function f0(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function kh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+js(i.value);if(kg(i))return i.filters.map(e=>kh(e)).join(",");{const e=i.filters.map(n=>kh(n)).join(",");return`${i.op}(${e})`}}function xg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&xg(h,a.filters[m]),!0):!1}(i,e):void ve()}function Ng(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ng).join(" ,")+"}"}(i):"Filter"}class d0 extends dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class p0 extends dt{constructor(e,n){super(e,"in",n),this.keys=Dg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m0 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Dg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class g0 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&ua(n.arrayValue,this.value)}}class y0 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class _0 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class v0 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ua(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function dm(i,e=null,n=[],s=[],a=null,u=null,h=null){return new E0(i,e,n,s,a,u,h)}function Xh(i){const e=we(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>kh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>js(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>js(s)).join(",")),e.ue=n}return e.ue}function Jh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!h0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fm(i.startAt,e.startAt)&&fm(i.endAt,e.endAt)}function xh(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w0(i,e,n,s,a,u,h,m){return new _u(i,e,n,s,a,u,h,m)}function Zh(i){return new _u(i)}function pm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function T0(i){return i.collectionGroup!==null}function ea(i){const e=we(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new su(u,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new su(Ct.keyField(),s))}return e.ce}function Hn(i){const e=we(i);return e.le||(e.le=S0(e,ea(i))),e.le}function S0(i,e){if(i.limitType==="F")return dm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new su(a.field,u)});const n=i.endAt?new iu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new iu(i.startAt.position,i.startAt.inclusive):null;return dm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Nh(i,e,n){return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vu(i,e){return Jh(Hn(i),Hn(e))&&i.limitType===e.limitType}function Vg(i){return`${Xh(Hn(i))}|lt:${i.limitType}`}function Ds(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ng(a)).join(", ")}]`),gu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>js(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>js(a)).join(",")),`Target(${s})`}(Hn(i))}; limitType=${i.limitType})`}function Eu(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of ea(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const _=hm(h,m,g);return h.inclusive?_<=0:_<0}(s.startAt,ea(s),a)||s.endAt&&!function(h,m,g){const _=hm(h,m,g);return h.inclusive?_>=0:_>0}(s.endAt,ea(s),a))}(i,e)}function I0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Lg(i){return(e,n)=>{let s=!1;for(const a of ea(i)){const u=R0(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function R0(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),_=m.data.field(u);return g!==null&&_!==null?Us(g,_):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Ig(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Je(ye.comparator);function _r(){return A0}const Og=new Je(ye.comparator);function Xo(...i){let e=Og;for(const n of i)e=e.insert(n.key,n);return e}function Mg(i){let e=Og;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ni(){return ta()}function Fg(){return ta()}function ta(){return new Mi(i=>i.toString(),(i,e)=>i.isEqual(e))}const C0=new Je(ye.comparator),P0=new mt(ye.comparator);function Ce(...i){let e=P0;for(const n of i)e=e.add(n);return e}const k0=new mt(ke);function x0(){return k0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function bg(i){return{integerValue:""+i}}function N0(i,e){return i0(e)?bg(e):ef(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function D0(i,e,n){return i instanceof ou?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Gh(u)&&(u=yu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof ca?jg(i,e):i instanceof ha?zg(i,e):function(a,u){const h=Ug(a,u),m=mm(h)+mm(a.Pe);return Ph(h)&&Ph(a.Pe)?bg(m):ef(a.serializer,m)}(i,e)}function V0(i,e,n){return i instanceof ca?jg(i,e):i instanceof ha?zg(i,e):n}function Ug(i,e){return i instanceof au?function(s){return Ph(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ou extends wu{}class ca extends wu{constructor(e){super(),this.elements=e}}function jg(i,e){const n=Bg(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ha extends wu{constructor(e){super(),this.elements=e}}function zg(i,e){let n=Bg(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class au extends wu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mm(i){return it(i.integerValue||i.doubleValue)}function Bg(i){return Yh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function L0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ca&&a instanceof ca||s instanceof ha&&a instanceof ha?bs(s.elements,a.elements,Qn):s instanceof au&&a instanceof au?Qn(s.Pe,a.Pe):s instanceof ou&&a instanceof ou}(i.transform,e.transform)}class O0{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tu{}function $g(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qg(i.key,mr.none()):new Su(i.key,i.data,mr.none());{const n=i.data,s=sn.empty();let a=new mt(Ct.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Fi(i.key,s,new Dn(a.toArray()),mr.none())}}function M0(i,e,n){i instanceof Su?function(a,u,h){const m=a.value.clone(),g=ym(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Fi?function(a,u,h){if(!Yl(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=ym(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Hg(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function na(i,e,n,s){return i instanceof Su?function(u,h,m,g){if(!Yl(u.precondition,h))return m;const _=u.value.clone(),w=_m(u.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Fi?function(u,h,m,g){if(!Yl(u.precondition,h))return m;const _=_m(u.fieldTransforms,g,h),w=h.data;return w.setAll(Hg(u)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,h,m){return Yl(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function F0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=Ug(s.transform,a||null);u!=null&&(n===null&&(n=sn.empty()),n.set(s.field,u))}return n||null}function gm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bs(s,a,(u,h)=>L0(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends Tu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fi extends Tu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ym(i,e,n){const s=new Map;be(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,V0(h,m,n[a]))}return s}function _m(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,D0(u,h,e))}return s}class qg extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b0 extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&M0(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fg();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=$g(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,s)=>gm(n,s))&&bs(this.baseMutations,e.baseMutations,(n,s)=>gm(n,s))}}class tf{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){be(e.mutations.length===s.length);let a=function(){return C0}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new tf(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function B0(i){switch(i){default:return ve();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Wg(i){if(i===void 0)return yr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case at.OK:return Z.OK;case at.CANCELLED:return Z.CANCELLED;case at.UNKNOWN:return Z.UNKNOWN;case at.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case at.INTERNAL:return Z.INTERNAL;case at.UNAVAILABLE:return Z.UNAVAILABLE;case at.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case at.NOT_FOUND:return Z.NOT_FOUND;case at.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case at.ABORTED:return Z.ABORTED;case at.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case at.DATA_LOSS:return Z.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Di([4294967295,4294967295],0);function vm(i){const e=$0().encode(i),n=new gg;return n.update(e),new Uint8Array(n.digest())}function Em(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,u],0)]}class nf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Di.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(H0)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=vm(e),[s,a]=Em(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new nf(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=vm(e),[s,a]=Em(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ea.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Iu(Ee.min(),a,new Je(ke),_r(),Ce())}}class Ea{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ea(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Qg{constructor(e,n){this.targetId=e,this.me=n}}class Kg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class wm{constructor(){this.fe=0,this.ge=Tm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),s=Ce();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new Ea(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Tm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q0{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=$l(),this.Qe=$l(),this.Ke=new Je(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(xh(u))if(s===0){const h=new ye(u.path);this.We(n,h,Ft.newNoDocument(h,Ee.min()))}else be(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=Jr(s).toUint8Array()}catch(g){if(g instanceof Rg)return Fs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new nf(h,a,u)}catch(g){return Fs(g instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const m=this.Ye(h);if(m){if(u.current&&xh(m.target)){const g=new ye(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=Ce();this.Qe.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Iu(e,n,this.Ke,this.ke,s);return this.ke=_r(),this.qe=$l(),this.Qe=$l(),this.Ke=new Je(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new wm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new wm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $l(){return new Je(ye.comparator)}function Tm(){return new Je(ye.comparator)}const W0={asc:"ASCENDING",desc:"DESCENDING"},Q0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K0={and:"AND",or:"OR"};class G0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dh(i,e){return i.useProto3Json||gu(e)?e:{value:e}}function lu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Y0(i,e){return lu(i,e.toTimestamp())}function qn(i){return be(!!i),Ee.fromTimestamp(function(n){const s=Xr(n);return new pt(s.seconds,s.nanos)}(i))}function rf(i,e){return Vh(i,e).canonicalString()}function Vh(i,e){const n=function(a){return new et(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Yg(i){const e=et.fromString(i);return be(ty(e)),e}function Lh(i,e){return rf(i.databaseId,e.path)}function ph(i,e){const n=Yg(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Jg(n))}function Xg(i,e){return rf(i.databaseId,e)}function X0(i){const e=Yg(i);return e.length===4?et.emptyPath():Jg(e)}function Oh(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Jg(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Sm(i,e,n){return{name:Lh(i,e),fields:n.value.mapValue.fields}}function J0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(_,w){return _.useProto3Json?(be(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const w=_.code===void 0?Z.UNKNOWN:Wg(_.code);return new ge(w,_.message||"")}(h);n=new Kg(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ph(i,s.document.name),u=qn(s.document.updateTime),h=s.document.createTime?qn(s.document.createTime):Ee.min(),m=new sn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,u,h,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Xl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ph(i,s.document),u=s.readTime?qn(s.readTime):Ee.min(),h=Ft.newNoDocument(a,u),m=s.removedTargetIds||[];n=new Xl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ph(i,s.document),u=s.removedTargetIds||[];n=new Xl([],u,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new z0(a,u),m=s.targetId;n=new Qg(m,h)}}return n}function Z0(i,e){let n;if(e instanceof Su)n={update:Sm(i,e.key,e.value)};else if(e instanceof qg)n={delete:Lh(i,e.key)};else if(e instanceof Fi)n={update:Sm(i,e.key,e.data),updateMask:lT(e.fieldMask)};else{if(!(e instanceof b0))return ve();n={verify:Lh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof ou)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ca)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ha)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:Y0(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(i,e.precondition)),n}function eT(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?qn(a.updateTime):qn(u);return h.isEqual(Ee.min())&&(h=qn(u)),new O0(h,a.transformResults||[])}(n,e))):[]}function tT(i,e){return{documents:[Xg(i,e.path)]}}function nT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xg(i,a);const u=function(_){if(_.length!==0)return ey(Kn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(w=>function(I){return{field:Vs(I.field),direction:sT(I.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Dh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function rT(i){let e=X0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){be(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(A){const I=Zg(A);return I instanceof Kn&&kg(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(I=>function(O){return new su(Ls(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(A){let I;return I=typeof A=="object"?A.value:A,gu(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(A){const I=!!A.before,V=A.values||[];return new iu(V,I)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const I=!A.before,V=A.values||[];return new iu(V,I)}(n.endAt)),w0(e,a,h,u,m,"F",g,_)}function iT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ls(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ls(n.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ls(n.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ls(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Zg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function sT(i){return W0[i]}function oT(i){return Q0[i]}function aT(i){return K0[i]}function Vs(i){return{fieldPath:i.canonicalString()}}function Ls(i){return Ct.fromServerFormat(i.fieldPath)}function ey(i){return i instanceof dt?function(n){if(n.op==="=="){if(cm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(um(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cm(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(um(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:oT(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>ey(a));return s.length===1?s[0]:{compositeFilter:{op:aT(n.op),filters:s}}}(i):ve()}function lT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ty(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,u=Ee.min(),h=Ee.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.ht=e}}function cT(i){const e=rT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.ln=new fT}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Yr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class fT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(et.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zs(0)}static Qn(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class dT{constructor(e){this.Gn=e,this.buffer=new mt(Rm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Yn(3e5)})}}class mT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(mu.oe);const s=new dT(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Im)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Im):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,h=Date.now(),this.nthSequenceNumber(e,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(_=Date.now(),Ns()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:A})))}}function gT(i,e){return new mT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&na(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const a=Ni();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=Xo();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=_r();const h=ta(),m=function(){return ta()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof Fi)?u=u.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),na(w.mutation,_,w.mutation.getFieldMask(),pt.now())):h.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,w)=>h.set(_,w)),n.forEach((_,w)=>{var A;return m.set(_,new _T(w,(A=h.get(_))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ta();let a=new Je((h,m)=>h-m),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(_,w),s.set(g,w);const A=(a.get(m.batchId)||Ce()).add(g);a=a.insert(m.batchId,A)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,A=Fg();w.forEach(I=>{if(!u.has(I)){const V=$g(n.get(I),s.get(I));V!==null&&A.set(I,V),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):W.resolve(Ni());let m=-1,g=u;return h.next(_=>W.forEach(_,(w,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{g=g.insert(w,I)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,Ce())).next(w=>({batchId:m,changes:Mg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=Xo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=Xo();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,g=>{const _=function(A,I){return new _u(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((A,I)=>{h=h.insert(A,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=Xo();return h.forEach((g,_)=>{const w=u.get(g);w!==void 0&&na(w.mutation,_,Dn.empty(),pt.now()),Eu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:cT(a.bundledQuery),readTime:qn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.overlays=new Je(ye.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ni();return W.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ni(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Je((_,w)=>_-w);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=u.get(_.largestBatchId);w===null&&(w=Ni(),u=u.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Ni(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new j0(n,s));let u=this.Er.get(n);u===void 0&&(u=Ce(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ye(new et([])),s=new wt(n,e),a=new wt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new et([])),s=new wt(n,e),a=new wt(n,e+1);let u=Ce();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new U0(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const m=this.Cr(h.br);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ye(u),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},h),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){be(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const u=new wt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.Nr=e,this.docs=function(){return new Je(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=_r();const h=n.path,m=new ye(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||e0(Zw(w),s)<=0||(a.has(w.key)||Eu(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,a){ve()}Lr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new RT(this)}getSize(e){return W.resolve(this.size)}}class RT extends yT{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.persistence=e,this.Br=new Mi(n=>Xh(n),Jh),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new sf,this.targetCount=0,this.Qr=zs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(u).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.Kr={},this.overlays={},this.$r=new mu(0),this.Ur=!1,this.Ur=!0,this.Wr=new TT,this.referenceDelegate=e(this),this.Gr=new AT(this),this.indexManager=new hT,this.remoteDocumentCache=function(a){return new IT(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new uT(n),this.jr=new ET(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new ST(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new CT(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class CT extends n0{constructor(e){super(),this.currentSequenceNumber=e}}class of{constructor(e){this.persistence=e,this.Zr=new sf,this.Xr=null}static ei(e){return new of(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ye.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Ee.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class uu{constructor(e,n){this.persistence=e,this.ri=new Mi(s=>s0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=gT(this,n)}static ei(e,n){return new uu(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ce(),a=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new af(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return CE()?8:r0(RE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new PT;return this.ts(e,n,h).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ns()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Ns()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ds(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ns()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):W.resolve())}Xi(e,n){if(pm(n))return W.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Nh(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ce(...u);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,h,g.readTime)?this.Xi(e,Nh(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return pm(n)||a.isEqual(Ee.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?W.resolve(null):(Ns()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ds(n)),this.os(e,h,n,Jw(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(Lg(e));return n.forEach((a,u)=>{Eu(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return Ns()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Je(ke),this.cs=new Mi(u=>Xh(u),Jh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function NT(i,e,n,s){return new xT(i,e,n,s)}async function ry(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ce();for(const _ of a){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of u){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:h,addedBatchIds:m}))})})}function DT(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,w){const A=_.batch,I=A.keys();let V=W.resolve();return I.forEach(O=>{V=V.next(()=>w.getEntry(g,O)).next(B=>{const U=_.docVersions.get(O);be(U!==null),B.version.compareTo(U)<0&&(A.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),w.addEntry(B)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ce();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function iy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function VT(i,e){const n=we(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,A)=>{const I=a.get(A);if(!I)return;m.push(n.Gr.removeMatchingKeys(u,w.removedDocuments,A).next(()=>n.Gr.addMatchingKeys(u,w.addedDocuments,A)));let V=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(Pt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,s)),a=a.insert(A,V),function(B,U,Q){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,V,w)&&m.push(n.Gr.updateTargetData(u,V))});let g=_r(),_=Ce();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),m.push(LT(u,h,e.documentUpdates).next(w=>{g=w.Is,_=w.Es})),!s.isEqual(Ee.min())){const w=n.Gr.getLastRemoteSnapshotVersion(u).next(A=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.us=a,u))}function LT(i,e,n){let s=Ce(),a=Ce();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=_r();return n.forEach((m,g)=>{const _=u.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:h,Es:a}})}function OT(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MT(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,W.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Mh(i,e,n){const s=we(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Gs(h))throw h;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Am(i,e,n){const s=we(i);let a=Ee.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,w){const A=we(g),I=A.cs.get(w);return I!==void 0?W.resolve(A.us.get(I)):A.Gr.getTargetData(_,w)}(s,h,Hn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?u:Ce())).next(m=>(FT(s,I0(e),m),{documents:m,ds:u})))}function FT(i,e,n){let s=i.ls.get(e)||Ee.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class Cm{constructor(){this.activeTargetIds=x0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bT{constructor(){this._o=new Cm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Cm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function mh(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class BT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const m=mh(),g=this.No(n,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,u,h),this.Bo(n,g,_,a).then(w=>(oe("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Fs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,u,h,m){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=jT[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=mh();return new Promise((h,m)=>{const g=new yg;g.setWithCredentials(!0),g.listenOnce(_g.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ql.NO_ERROR:const w=g.getResponseJson();oe(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Ql.TIMEOUT:oe(Ot,`RPC '${e}' ${u} timed out`),m(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const A=g.getStatus();if(oe(Ot,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const O=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Q)>=0?Q:Z.UNKNOWN}(V.status);m(new ge(O,V.message))}else m(new ge(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Ot,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);oe(Ot,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=mh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=wg(),m=Eg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");oe(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const A=h.createWebChannel(w,g);let I=!1,V=!1;const O=new zT({Eo:U=>{V?oe(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(I||(oe(Ot,`Opening RPC '${e}' stream ${a} transport.`),A.open(),I=!0),oe(Ot,`RPC '${e}' stream ${a} sending:`,U),A.send(U))},Ao:()=>A.close()}),B=(U,Q,X)=>{U.listen(Q,re=>{try{X(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return B(A,Yo.EventType.OPEN,()=>{V||(oe(Ot,`RPC '${e}' stream ${a} transport opened.`),O.So())}),B(A,Yo.EventType.CLOSE,()=>{V||(V=!0,oe(Ot,`RPC '${e}' stream ${a} transport closed`),O.Do())}),B(A,Yo.EventType.ERROR,U=>{V||(V=!0,Fs(Ot,`RPC '${e}' stream ${a} transport errored:`,U),O.Do(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),B(A,Yo.EventType.MESSAGE,U=>{var Q;if(!V){const X=U.data[0];be(!!X);const re=X,ce=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(ce){oe(Ot,`RPC '${e}' stream ${a} received error:`,ce);const Ae=ce.status;let Te=function(R){const k=at[R];if(k!==void 0)return Wg(k)}(Ae),x=ce.message;Te===void 0&&(Te=Z.INTERNAL,x="Unknown error status: "+Ae+" with message "+ce.message),V=!0,O.Do(new ge(Te,x)),A.close()}else oe(Ot,`RPC '${e}' stream ${a} received:`,X),O.vo(X)}}),B(m,vg.STAT_EVENT,U=>{U.stat===Ah.PROXY?oe(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Ah.NOPROXY&&oe(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i){return new G0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,s,a,u,h,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new sy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ge(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $T extends oy{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=J0(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?qn(h.readTime):Ee.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Oh(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=xh(g)?{documents:tT(u,g)}:{query:nT(u,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Gg(u,h.resumeToken);const _=Dh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=lu(u,h.snapshotVersion.toTimestamp());const _=Dh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=iT(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Oh(this.serializer),n.removeTarget=e,this.c_(n)}}class HT extends oy{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=eT(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Oh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Z0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Vh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Z.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Vh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class WT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yr(n),this.C_=!1):oe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{bi(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=we(g);_.k_.add(4),await wa(_),_.K_.set("Unknown"),_.k_.delete(4),await Au(_)}(this))})}),this.K_=new WT(s,a)}}async function Au(i){if(bi(i))for(const e of i.q_)await e(!0)}async function wa(i){for(const e of i.q_)await e(!1)}function ay(i,e){const n=we(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),hf(n)?cf(n):Ys(n).s_()&&uf(n,e))}function lf(i,e){const n=we(i),s=Ys(n);n.B_.delete(e),s.s_()&&ly(n,e),n.B_.size===0&&(s.s_()?s.a_():bi(n)&&n.K_.set("Unknown"))}function uf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(i).V_(e)}function ly(i,e){i.U_.xe(e),Ys(i).m_(e)}function cf(i){i.U_=new q0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ys(i).start(),i.K_.F_()}function hf(i){return bi(i)&&!Ys(i).i_()&&i.B_.size>0}function bi(i){return we(i).k_.size===0}function uy(i){i.U_=void 0}async function KT(i){i.K_.set("Online")}async function GT(i){i.B_.forEach((e,n)=>{uf(i,e)})}async function YT(i,e){uy(i),hf(i)?(i.K_.O_(e),cf(i)):i.K_.set("Unknown")}async function XT(i,e,n){if(i.K_.set("Online"),e instanceof Kg&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cu(i,s)}else if(e instanceof Xl?i.U_.$e(e):e instanceof Qg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ee.min()))try{const s=await iy(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.U_.it(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(_);w&&u.B_.set(_,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),ly(u,g);const A=new qr(w.target,g,_,w.sequenceNumber);uf(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await cu(i,s)}}async function cu(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await wa(i),i.K_.set("Offline"),n||(n=()=>iy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Au(i)})}function cy(i,e){return e().catch(n=>cu(i,n,e))}async function Cu(i){const e=we(i),n=ei(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;JT(e);)try{const a=await OT(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,ZT(e,a)}catch(a){await cu(e,a)}hy(e)&&fy(e)}function JT(i){return bi(i)&&i.L_.length<10}function ZT(i,e){i.L_.push(e);const n=ei(i);n.s_()&&n.f_&&n.g_(e.mutations)}function hy(i){return bi(i)&&!ei(i).i_()&&i.L_.length>0}function fy(i){ei(i).start()}async function eS(i){ei(i).w_()}async function tS(i){const e=ei(i);for(const n of i.L_)e.g_(n.mutations)}async function nS(i,e,n){const s=i.L_.shift(),a=tf.from(s,e,n);await cy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Cu(i)}async function rS(i,e){e&&ei(i).f_&&await async function(s,a){if(function(h){return B0(h)&&h!==Z.ABORTED}(a.code)){const u=s.L_.shift();ei(s).__(),await cy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Cu(s)}}(i,e),hy(i)&&fy(i)}async function km(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=bi(n);n.k_.add(3),await wa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Au(n)}async function iS(i,e){const n=we(i);e?(n.k_.delete(2),await Au(n)):e||(n.k_.add(2),await wa(n),n.K_.set("Unknown"))}function Ys(i){return i.W_||(i.W_=function(n,s,a){const u=we(n);return u.b_(),new $T(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:KT.bind(null,i),mo:GT.bind(null,i),po:YT.bind(null,i),R_:XT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),hf(i)?cf(i):i.K_.set("Unknown")):(await i.W_.stop(),uy(i))})),i.W_}function ei(i){return i.G_||(i.G_=function(n,s,a){const u=we(n);return u.b_(),new HT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:eS.bind(null,i),po:rS.bind(null,i),p_:tS.bind(null,i),y_:nS.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Cu(i)):(await i.G_.stop(),i.L_.length>0&&(oe("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new ff(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function df(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Gs(i))return new ge(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Xo(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.z_=new Je(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Bs{constructor(e,n,s,a,u,h,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Bs(e,n,Ms.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class oS{constructor(){this.queries=Nm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=we(n),u=a.queries;a.queries=Nm(),u.forEach((h,m)=>{for(const g of m.J_)g.onError(s)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function Nm(){return new Mi(i=>Vg(i),vu)}async function aS(i,e){const n=we(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new sS,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=df(h,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&pf(n)}async function lS(i,e){const n=we(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uS(i,e){const n=we(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.J_)m.ta(a)&&(s=!0);h.H_=a}}s&&pf(n)}function cS(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function pf(i){i.X_.forEach(e=>{e.next()})}var Fh,Dm;(Dm=Fh||(Fh={})).na="default",Dm.Cache="cache";class hS{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Fh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.key=e}}class py{constructor(e){this.key=e}}class fS{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=Lg(e),this.ma=new Ms(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new xm,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,A)=>{const I=a.get(w),V=Eu(this.query,A)?A:null,O=!!I&&this.mutatedKeys.has(I.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;I&&V?I.data.isEqual(V.data)?O!==B&&(s.track({type:3,doc:V}),U=!0):this.ya(I,V)||(s.track({type:2,doc:V}),U=!0,(g&&this.Va(V,g)>0||_&&this.Va(V,_)<0)&&(m=!0)):!I&&V?(s.track({type:0,doc:V}),U=!0):I&&!V&&(s.track({type:1,doc:I}),U=!0,(g||_)&&(m=!0)),U&&(V?(h=h.add(V),u=B?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:m,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,A)=>function(V,O){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return B(V)-B(O)}(w.type,A.type)||this.Va(w.doc,A.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,h.length!==0||_?{snapshot:new Bs(this.query,e.ma,u,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new py(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new dy(s))}),n}va(e){this.da=e.ds,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class dS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pS{constructor(e){this.key=e,this.Fa=!1}}class mS{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Mi(m=>Vg(m),vu),this.Oa=new Map,this.Na=new Set,this.La=new Je(ye.comparator),this.Ba=new Map,this.ka=new sf,this.qa={},this.Qa=new Map,this.Ka=zs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function gS(i,e,n=!0){const s=Ey(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await my(s,e,n,!0),a}async function yS(i,e){const n=Ey(i);await my(n,e,!0,!1)}async function my(i,e,n,s){const a=await MT(i.localStore,Hn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _S(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ay(i.remoteStore,a),m}async function _S(i,e,n,s,a){i.Ua=(A,I,V)=>async function(B,U,Q,X){let re=U.view.ga(Q);re.ss&&(re=await Am(B.localStore,U.query,!1).then(({documents:x})=>U.view.ga(x,re)));const ce=X&&X.targetChanges.get(U.targetId),Ae=X&&X.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(re,B.isPrimaryClient,ce,Ae);return Lm(B,U.targetId,Te.ba),Te.snapshot}(i,A,I,V);const u=await Am(i.localStore,e,!0),h=new fS(e,u.ds),m=h.ga(u.documents),g=Ea.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=h.applyChanges(m,i.isPrimaryClient,g);Lm(i,n,_.ba);const w=new dS(e,n,h);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function vS(i,e,n){const s=we(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!vu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Mh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&lf(s.remoteStore,a.targetId),bh(s,a.targetId)}).catch(Ks)):(bh(s,a.targetId),await Mh(s.localStore,a.targetId,!0))}async function ES(i,e){const n=we(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lf(n.remoteStore,s.targetId))}async function wS(i,e,n){const s=PS(i);try{const a=await function(h,m){const g=we(h),_=pt.now(),w=m.reduce((V,O)=>V.add(O.key),Ce());let A,I;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let O=_r(),B=Ce();return g.hs.getEntries(V,w).next(U=>{O=U,O.forEach((Q,X)=>{X.isValidDocument()||(B=B.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,O)).next(U=>{A=U;const Q=[];for(const X of m){const re=F0(X,A.get(X.key).overlayedDocument);re!=null&&Q.push(new Fi(X.key,re,Ag(re.value.mapValue),mr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,_,Q,m)}).next(U=>{I=U;const Q=U.applyToLocalDocumentSet(A,B);return g.documentOverlayCache.saveOverlays(V,U.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:Mg(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let _=h.qa[h.currentUser.toKey()];_||(_=new Je(ke)),_=_.insert(m,g),h.qa[h.currentUser.toKey()]=_}(s,a.batchId,n),await Ta(s,a.changes),await Cu(s.remoteStore)}catch(a){const u=df(a,"Failed to persist write");n.reject(u)}}async function gy(i,e){const n=we(i);try{const s=await VT(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?be(h.Fa):a.removedDocuments.size>0&&(be(h.Fa),h.Fa=!1))}),await Ta(n,s,e)}catch(s){await Ks(s)}}function Vm(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let _=!1;g.queries.forEach((w,A)=>{for(const I of A.J_)I.ea(m)&&(_=!0)}),_&&pf(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TS(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new Je(ye.comparator);h=h.insert(u,Ft.newNoDocument(u,Ee.min()));const m=Ce().add(u),g=new Iu(Ee.min(),new Map,new Je(ke),h,m);await gy(s,g),s.La=s.La.remove(u),s.Ba.delete(e),mf(s)}else await Mh(s.localStore,e,!1).then(()=>bh(s,e,n)).catch(Ks)}async function SS(i,e){const n=we(i),s=e.batch.batchId;try{const a=await DT(n.localStore,e);_y(n,s,null),yy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ta(n,a)}catch(a){await Ks(a)}}async function IS(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next(A=>(be(A!==null),w=A.keys(),g.mutationQueue.removeMutationBatch(_,A))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);_y(s,e,n),yy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ta(s,a)}catch(a){await Ks(a)}}function yy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function _y(i,e,n){const s=we(i);let a=s.qa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function bh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||vy(i,s)})}function vy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(lf(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),mf(i))}function Lm(i,e,n){for(const s of n)s instanceof dy?(i.ka.addReference(s.key,e),RS(i,s)):s instanceof py?(oe("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||vy(i,s.key)):ve()}function RS(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(oe("SyncEngine","New document in limbo: "+n),i.Na.add(s),mf(i))}function mf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ye(et.fromString(e)),s=i.Ka.next();i.Ba.set(s,new pS(n)),i.La=i.La.insert(n,s),ay(i.remoteStore,new qr(Hn(Zh(n.path)),s,"TargetPurposeLimboResolution",mu.oe))}}async function Ta(i,e,n){const s=we(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{h.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){a.push(_);const A=af.zi(g.targetId,_);u.push(A)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,_){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(_,I=>W.forEach(I.Wi,V=>w.persistence.referenceDelegate.addReference(A,I.targetId,V)).next(()=>W.forEach(I.Gi,V=>w.persistence.referenceDelegate.removeReference(A,I.targetId,V)))))}catch(A){if(!Gs(A))throw A;oe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const I=A.targetId;if(!A.fromCache){const V=w.us.get(I),O=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(O);w.us=w.us.insert(I,B)}}}(s.localStore,u))}async function AS(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await ry(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(m=>{m.forEach(g=>{g.reject(new ge(Z.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ta(n,s.Ts)}}function CS(i,e){const n=we(i),s=n.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let a=Ce();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const m=n.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function Ey(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TS.bind(null,e),e.Ma.R_=uS.bind(null,e.eventManager),e.Ma.Wa=cS.bind(null,e.eventManager),e}function PS(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IS.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ru(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return NT(this.persistence,new kT,e.initialUser,this.serializer)}ja(e){return new ny(of.ei,this.serializer)}za(e){return new bT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class kS extends hu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){be(this.persistence.referenceDelegate instanceof uu);const s=this.persistence.referenceDelegate.garbageCollector;return new pT(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new ny(s=>uu.ei(s,n),this.serializer)}}class Uh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AS.bind(null,this.syncEngine),await iS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oS}()}createDatastore(e){const n=Ru(e.databaseInfo.databaseId),s=function(u){return new BT(u)}(e.databaseInfo);return function(u,h,m,g){return new qT(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new QT(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Vm(this.syncEngine,n,0),function(){return Pm.p()?new Pm:new UT}())}createSyncEngine(e,n){return function(a,u,h,m,g,_,w){const A=new mS(a,u,h,m,g,_);return w&&(A.$a=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=we(a);oe("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await wa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uh.provider={build:()=>new Uh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=df(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yh(i,e){i.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ry(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Om(i,e){i.asyncQueue.verifyOperationInProgress();const n=await DS(i);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>km(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>km(e.remoteStore,a)),i._onlineComponents=e}async function DS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await yh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await yh(i,new hu)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await yh(i,new kS(void 0));return i._offlineComponents}async function wy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Om(i,i._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Om(i,new Uh))),i._onlineComponents}function VS(i){return wy(i).then(e=>e.syncEngine)}async function LS(i){const e=await wy(i),n=e.eventManager;return n.onListen=gS.bind(null,e.syncEngine),n.onUnlisten=vS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ES.bind(null,e.syncEngine),n}function OS(i,e,n={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,_){const w=new xS({next:I=>{w.eu(),h.enqueueAndForget(()=>lS(u,A));const V=I.docs.has(m);!V&&I.fromCache?_.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&I.fromCache&&g&&g.source==="server"?_.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),A=new hS(Zh(m.path),w,{includeMetadataChanges:!0,ua:!0});return aS(u,A)}(await LS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(i,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FS(i,e,n,s){if(e===!0&&s===!0)throw new ge(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Fm(i){if(!ye.isDocumentKey(i))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function fa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(i);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ty((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $w;switch(s.type){case"firstParty":return new Qw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Mm.get(n);s&&(oe("ComponentProvider","Removing Datastore"),Mm.delete(n),s.terminate())}(this),Promise.resolve()}}function bS(i,e,n,s={}){var a;const u=(i=fa(i,yf))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=IE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(_)}i._authCredentials=new Hw(new Tg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _f(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class da extends _f{constructor(e,n,s){super(e,n,Zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ye(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function pa(i,e,...n){if(i=Vi(i),arguments.length===1&&(e=Sg.newId()),MS("doc","path",e),i instanceof yf){const s=et.fromString(e,...n);return Fm(s),new gn(i,null,new ye(s))}{if(!(i instanceof gn||i instanceof da))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Fm(s),new gn(i.firestore,i instanceof da?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new sy(this,"async_queue_retry"),this.fu=()=>{const s=gh();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Kr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=ff.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class vf extends yf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Um,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Um(e),this._firestoreClient=void 0,await e}}}function US(i,e){const n=typeof i=="object"?i:Vw(),s=typeof i=="string"?i:"(default)",a=kw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=TE("firestore");u&&bS(a,...u)}return a}function Sy(i){if(i._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jS(i),i._firestoreClient}function jS(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,_,w){return new l0(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ty(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new NS(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Pt.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=/^__.*__$/;class Iy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Sf{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ry(this.Mu)&&zS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class BS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ru(e)}$u(e,n,s,a=!1){return new Sf({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $S(i){const e=i._freezeSettings(),n=Ru(i._databaseId);return new BS(i._databaseId,!!e.ignoreUndefinedProperties,n)}class ku extends Ef{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ku}}function HS(i,e,n,s){const a=i.$u(1,e,n);Cy("Data must be an object, but it was:",a,s);const u=[],h=sn.empty();ti(s,(g,_)=>{const w=If(e,g,n);_=Vi(_);const A=a.Bu(w);if(_ instanceof ku)u.push(w);else{const I=xu(_,A);I!=null&&(u.push(w),h.set(w,I))}});const m=new Dn(u);return new Iy(h,m,a.fieldTransforms)}function qS(i,e,n,s,a,u){const h=i.$u(1,e,n),m=[jm(e,s,n)],g=[a];if(u.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)m.push(jm(e,u[I])),g.push(u[I+1]);const _=[],w=sn.empty();for(let I=m.length-1;I>=0;--I)if(!KS(_,m[I])){const V=m[I];let O=g[I];O=Vi(O);const B=h.Bu(V);if(O instanceof ku)_.push(V);else{const U=xu(O,B);U!=null&&(_.push(V),w.set(V,U))}}const A=new Dn(_);return new Iy(w,A,h.fieldTransforms)}function xu(i,e){if(Ay(i=Vi(i)))return Cy("Unsupported field value:",e,i),WS(i,e);if(i instanceof Ef)return function(s,a){if(!Ry(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let g=xu(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Vi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:lu(a.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lu(a.serializer,u)}}if(s instanceof wf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:Gg(a.serializer,s._byteString)};if(s instanceof gn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Tf)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return ef(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${gf(s)}`)}(i,e)}function WS(i,e){const n={};return Ig(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(s,a)=>{const u=xu(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ay(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof wf||i instanceof $s||i instanceof gn||i instanceof Ef||i instanceof Tf)}function Cy(i,e,n){if(!Ay(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=gf(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function jm(i,e,n){if((e=Vi(e))instanceof Pu)return e._internalPath;if(typeof e=="string")return If(i,e);throw fu("Field path arguments must be of type string or ",i,!1,void 0,n)}const QS=new RegExp("[~\\*/\\[\\]]");function If(i,e,n){if(e.search(QS)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pu(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function fu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ge(Z.INVALID_ARGUMENT,m+i+g)}function KS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GS extends Py{data(){return super.data()}}function ky(i,e){return typeof e=="string"?If(i,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}class YS{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ti(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new Tf(u)}convertGeoPoint(e){return new wf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);be(ty(s));const a=new la(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return a.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xy extends Py{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new JS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ky("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class JS extends xy{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(i){i=fa(i,gn);const e=fa(i.firestore,vf);return OS(Sy(e),i._key).then(n=>nI(e,i,n))}class ZS extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function eI(i,e,n,...s){i=fa(i,gn);const a=fa(i.firestore,vf),u=$S(a);let h;return h=typeof(e=Vi(e))=="string"||e instanceof Pu?qS(u,"updateDoc",i._key,e,n,s):HS(u,"updateDoc",i._key,e),tI(a,[h.toMutation(i._key,mr.exists(!0))])}function tI(i,e){return function(s,a){const u=new Kr;return s.asyncQueue.enqueueAndForget(async()=>wS(await VS(s),a,u)),u.promise}(Sy(i),e)}function nI(i,e,n){const s=n.docs.get(e._key),a=new ZS(i);return new xy(i,a,e._key,s,new XS(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Qs=a})(Dw),nu(new ia("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new vf(new qw(s.getProvider("auth-internal")),new Gw(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(_.options.projectId,w)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Os(rm,"4.7.5",e),Os(rm,"4.7.5","esm2017")})();var rI="firebase",iI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(rI,iI,"app");const sI={apiKey:"AIzaSyAJTf0vpWYxRtqv0MIOFNPdU_PiEMdaQeA",authDomain:"plusone-42be4.firebaseapp.com",projectId:"plusone-42be4",storageBucket:"plusone-42be4.firebasestorage.app",messagingSenderId:"615275828959",appId:"1:615275828959:web:176d086a5394a69cb93b6a",measurementId:"G-3QLQNN5W9T"},oI=dg(sI),ga=US(oI),aI=()=>{const[i,e]=H.useState(""),[n,s]=H.useState(""),[a,u]=H.useState({username:"",password:""}),[h,m]=H.useState({username:"",password:""}),[g,_]=H.useState(!1),[w,A]=H.useState(!1),{setUsername:I}=$m(),V=Zm(),O=async()=>{const U=pa(ga,"counters","user1"),Q=await ma(U);if(Q.exists()){const ce=Q.data();u({username:ce.username,password:ce.password})}else console.log("No data found for user1");const X=pa(ga,"counters","user2"),re=await ma(X);if(re.exists()){const ce=re.data();m({username:ce.username,password:ce.password})}else console.log("No data found for user2")};H.useEffect(()=>{O()},[]);const B=U=>{U.preventDefault(),i===a.username&&n===a.password?(I("user1"),V("/user")):i===h.username&&n===h.password?(I("user2"),V("/user")):(_(!0),setTimeout(()=>{_(!1)},3e3))};return q.jsx("body",{className:"bg-black",children:q.jsx("div",{className:"flex items-center justify-center h-screen",children:q.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[q.jsx("div",{className:"card bg-gradient-to-b from-[#A0E5EA] to-[#84DB6E] w-96 shadow-2xl border-4 border-white",children:q.jsx("form",{onSubmit:B,children:q.jsxs("div",{className:"card-body",children:[q.jsx("h1",{className:"font-neue font-bold text-7xl text-white",children:"PlusOne"}),q.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Username"}),q.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:i,onChange:U=>e(U.target.value),required:!0}),q.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Password"}),q.jsxs("div",{className:"flex relative",children:[q.jsx("input",{type:w?"text":"password",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:n,onChange:U=>s(U.target.value),required:!0}),q.jsx("button",{type:"button",className:"btn btn-xs absolute right-2 top-3 border border-[#A0E5EA]",onClick:()=>A(!w),children:w?"Hide":"Show"})]}),q.jsx("div",{className:"card-actions justify-end"}),q.jsx("button",{type:"submit",className:"hidden"})]})})}),q.jsx("div",{className:`transition-opacity duration-1000 ${g?"opacity-100":"opacity-0"}`,children:q.jsx(fE,{})})]})})})},zm=()=>{const{username:i}=$m(),[e,n]=H.useState(0);H.useEffect(()=>{i&&s()},[i]);const s=async()=>{if(i){const u=pa(ga,"counters",i),h=await ma(u);h.exists()&&n(h.data().counter)}},a=async()=>{if(i){const u=pa(ga,"counters",i);(await ma(u)).exists()&&await eI(u,{counter:e+1}),n(e+1)}};return q.jsx(q.Fragment,{children:q.jsx("button",{className:"font-neue btn btn-wide bg-white bg-opacity-20 backdrop-blur-lg text-white font-bold py-2 px-6 rounded-lg shadow-lg border-2 border-white hover:bg-opacity-40 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",onClick:a,children:"+1"})})},lI=()=>{const[i,e]=H.useState(new Date),n=i.getFullYear(),s=Array.from({length:12},(h,m)=>new Date(n,m,1)),a=()=>{e(new Date(n-1,i.getMonth(),1))},u=()=>{e(new Date(n+1,i.getMonth(),1))};return q.jsxs("div",{className:"w-[100rem] p-4 bg-white rounded-lg shadow-lg",children:[q.jsxs("div",{className:"flex justify-between items-center mb-6",children:[q.jsx("button",{className:"text-lg font-bold text-gray-600 hover:text-gray-800",onClick:a,children:"<"}),q.jsx("span",{className:"text-9xl font-bold",children:n}),q.jsx("button",{className:"text-lg font-bold text-gray-600 hover:text-gray-800",onClick:u,children:">"})]}),q.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[" ",s.map((h,m)=>{const g=new Date(h.getFullYear(),h.getMonth(),1),_=new Date(h.getFullYear(),h.getMonth()+1,0),w=g.getDay(),A=new Array(w).fill(null),I=new Array(_.getDate()).fill(null);return q.jsxs("div",{className:"w-[250px] p-2 bg-white border rounded-lg shadow-sm",children:[q.jsx("h3",{className:"text-center font-semibold mb-2",children:h.toLocaleString("default",{month:"long"})}),q.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(V=>q.jsx("div",{className:"font-semibold text-gray-600",children:V},V)),A.map((V,O)=>q.jsx("div",{className:"w-5 h-5"},O)),I.map((V,O)=>q.jsx("div",{className:"w-5 h-5 border border-gray-300 bg-white"},O))]})]},m)})]})]})};function uI(){const[i,e]=H.useState(null),n=s=>{var u;const a=(u=s.target.files)==null?void 0:u[0];if(a){const h=URL.createObjectURL(a);e(h)}};return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"rounded-2xl border border-black flex flex-col justify-between min-h-full",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[q.jsx("div",{className:"flex-grow flex items-center justify-center",children:q.jsx("p",{className:"text-center font-bold",children:i?"":"(Empty)"})}),q.jsxs("label",{className:"text-center mb-2 font-bold",children:["Upload of the Day",q.jsx("input",{type:"file",className:"hidden",onChange:n})]})]})})}const cI=()=>q.jsxs("body",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[q.jsx("div",{className:"h-[90vh] flex items-center justify-center",children:q.jsxs("div",{className:"flex gap-6 mb-4",children:[" ",q.jsx("div",{className:"card bg-black w-[32rem] h-[32rem] shadow-2xl",children:q.jsxs("div",{className:"card-body flex flex-col items-center space-y-4 text-center",children:[q.jsx("h1",{className:"card-title font-neue font-bold text-8xl text-transparent bg-clip-text bg-gradient-to-r from-[#FED90B] to-[#FF8C00] leading-[1.2]",children:"Progress"}),q.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full h-full",children:[q.jsx("div",{className:"stats shadow col-span-1 row-span-2",children:q.jsx("div",{className:"card bg-white",children:q.jsx(uI,{})})}),q.jsx("div",{className:"stat flex items-center justify-center rounded-md bg-white transform transition-all duration-300 ease-in-out hover:scale-105",children:q.jsx(Zl,{to:"/calendar",className:"w-full h-full flex items-center justify-center",children:q.jsx("div",{className:"stat-title font-neue font-bold text-black",children:"Calendar Gallery"})})}),q.jsx("div",{className:"stat flex items-center justify-center rounded-md bg-white transform transition-all duration-300 ease-in-out hover:scale-105",children:q.jsx(Zl,{to:"/training",className:"w-full h-full flex items-center justify-center",children:q.jsx("div",{className:"stat-title font-neue font-bold text-black",children:"Training Regime"})})})]})]})}),q.jsx("div",{className:"card glass bg-gradient-to-b from-[#7691CB] to-[#45FFF0] w-80 shadow-2xl",children:q.jsxs("div",{className:"card-body items-center flex-col justify-between h-full text-center",children:[q.jsx("h1",{className:"card-title font-neue font-bold text-8xl text-white",children:"Total"}),q.jsx("h1",{className:"card-title font-neue font-bold text-[20rem] text-white",children:"0"}),q.jsx("div",{className:"card-actions",children:q.jsx(zm,{})})]})}),q.jsx("div",{className:"card glass bg-gradient-to-b from-[#ED373A] to-[#6929A1] w-80 shadow-2xl",children:q.jsxs("div",{className:"card-body items-center flex-col justify-between h-full text-center",children:[q.jsx("h1",{className:"card-title font-neue font-bold text-8xl text-white",children:"Total"}),q.jsx("h1",{className:"card-title font-neue font-bold text-[20rem] text-white",children:"0"}),q.jsx("div",{className:"card-actions",children:q.jsx(zm,{})})]})})]})}),q.jsx("div",{className:"h-screen flex justify-center items-center",children:q.jsx(lI,{})})]}),hI=()=>{const[i,e]=H.useState(new Date),[n,s]=H.useState([]),[a,u]=H.useState(null),h=i.getFullYear(),m=i.getMonth(),g=()=>{const I=new Date(h,m+1,0),V=Array.from({length:I.getDate()},(O,B)=>B+1);s(V)},_=()=>{e(new Date(h,m-1,1))},w=()=>{e(new Date(h,m+1,1))},A=async I=>{const V=pa(ga,"calendar",I),O=await ma(V);if(O.exists()){const B=O.data();B&&B.imageUrl&&u(B.imageUrl)}else console.log("No data for this day")};return H.useEffect(()=>{g()},[i]),q.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white",children:q.jsxs("div",{className:"flex items-start justify-center space-x-8",children:[q.jsxs("div",{className:"w-1/2 p-4",children:[q.jsxs("div",{className:"flex justify-between items-center w-full mb-6",children:[q.jsx("button",{onClick:_,className:"px-4 py-2 text-lg font-bold bg-gray-200 rounded-lg hover:bg-gray-300",children:"< Previous"}),q.jsx("span",{className:"text-xl font-semibold",children:`${i.toLocaleString("default",{month:"long"})} ${h}`}),q.jsx("button",{onClick:w,className:"px-4 py-2 text-lg font-bold bg-gray-200 rounded-lg hover:bg-gray-300",children:"Next >"})]}),q.jsxs("div",{className:"grid grid-cols-7 gap-4 w-full",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(I=>q.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-600",children:I},I)),(()=>{const V=new Date(h,m,1).getDay(),O=[];for(let B=0;B<V;B++)O.push(q.jsx("div",{className:"h-20"},`blank-${B}`));return O})(),n.map(I=>q.jsx("div",{className:"w-16 h-16 border-2 border-gray-300 rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>A(`${h}-${(m+1).toString().padStart(2,"0")}-${I.toString().padStart(2,"0")}`),children:I},I))]})]}),q.jsx("div",{className:"w-1/2 p-4",children:q.jsxs("div",{className:"mockup-phone relative bg-white shadow-xl",children:[q.jsx("div",{className:"camera"}),q.jsx("div",{className:"display",children:q.jsx("div",{className:"artboard artboard-demo phone-1 w-full h-full flex items-center justify-center",children:a?q.jsx("div",{className:"relative w-full h-0 pb-[177.78%] bg-gray-200 rounded-lg overflow-hidden",children:q.jsx("img",{src:a,alt:"Daily Image",className:"absolute top-0 left-0 w-full h-full object-cover"})}):q.jsx("p",{className:"text-center text-lg font-semibold text-gray-500",children:"Click a date to view the image."})})})]})})]})})},fI=()=>q.jsx(q.Fragment,{children:q.jsx("body",{className:"bg-white"})}),dI=()=>q.jsx(B_,{children:q.jsx(nE,{basename:"/PlusOne/",children:q.jsxs(Dv,{children:[q.jsx(Go,{path:"/",element:q.jsx(aI,{})}),q.jsx(Go,{path:"/User",element:q.jsx(cI,{})}),q.jsx(Go,{path:"/Calendar",element:q.jsx(hI,{})}),q.jsx(Go,{path:"/Training",element:q.jsx(fI,{})})]})})});z_.createRoot(document.getElementById("root")).render(q.jsx(H.StrictMode,{children:q.jsx(dI,{})}));
